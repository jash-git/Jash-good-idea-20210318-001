"use strict";function e(){console.log("DFP Scripts Loaded");var e,t,o="#ads-inline > div > iframe",n="#stickyAds > div > iframe",a="#ultraDesktopBanner > div > iframe",i=!1,d="#stickyAds",r=void 0!==window.pageXOffset,c="CSS1Compat"===(document.compatMode||""),s=window.innerHeight,l=window.innerWidth,u=!1,m=!1,p=!1;function y(e,t){h(e,t?"#ads-Desktop_cover > div > iframe":"#ads-Mobile_cover > div > iframe"),f(e,t?"#ads-Desktop_cover > div > iframe":"#ads-Mobile_cover > div > iframe")}function v(e){h(e,".udn-overlay")}function g(e){f(e,"#desktopSticky > div > iframe"),p="open"===e}function h(e,t){!function(e,t){var o="close"===e?"hidden":"visible",n="close"===e?0:1;document.querySelector(t).style.visibility=o,document.querySelector(t).style.opacity=n}(e,t),document.querySelector(t).style.zIndex="36","close"===e&&setTimeout((function(){var e=document.querySelector("#ads-Mobile_cover");e&&(e.parentElement.removeChild(e),document.querySelector(".udn-overlay").removeAttribute("style"))}),400)}function f(e,t){document.querySelector(t).contentWindow.postMessage({type:"setAds",value:e,width:window.innerWidth},"*")}function w(e){document.querySelector(o).getBoundingClientRect().top<=b()&&(f("big",o),window.removeEventListener("scroll",w))}function b(){return s*(e/10)}function S(e){console.log("setEventToFrame",e),document.querySelector(n).contentWindow.postMessage({type:e},"*")}function E(){console.log("pull up event registered"),document.querySelector(d).classList.add("pull-up");var e,t,o,n,a,i,r=document.querySelector(d),c=!1,s=!1;function l(){console.log("retract");a=0,i=0,e.style.top="initial",e.style.height="50px",t.classList.remove("visible"),bodyScrollLock.enableBodyScroll(o),setTimeout((function(){e.classList.remove("animate")}),500),document.body.classList.remove("lock-scroll")}window.addEventListener("message",(function(i){"[pullup] ready"===i.data.type&&function(i,d,s){o=document.createElement("div"),e=o,o.className="bannerAds";var u=document.createElement("div");u.className="small-banner";var m=document.createElement("img");m.src=d;var p=document.createElement("div");p.className="secondary-item",t=p;var y=document.createElement("div");y.className="close-btn";var v=document.createElement("i");v.className="i-close";var g=document.createElement("a");g.className="ads-action",g.href=s;var h=document.createElement("img");h.src=i,u.appendChild(m),o.appendChild(u),y.appendChild(v),g.appendChild(h),p.appendChild(y),p.appendChild(g),o.appendChild(p),u.addEventListener("touchstart",(function(e){var t=e.targetTouches[0];n=r.offsetTop,a=t.clientY,document.body.classList.add("lock-scroll"),c=!0}),{passive:!0}),y.addEventListener("click",(function(e){e.preventDefault(),l()})),r.parentNode.insertBefore(o,r.nextSibling)}(i.data.largeBanner,i.data.smallBanner,i.data.adsLink)})),document.addEventListener("touchmove",(function(t){if(c){var o=t.targetTouches[0];if(!(e.style.height>=50)){var d=n+o.clientY-a+"px",r=a-o.clientY+50+"px";e.style.top=d,e.style.height=r,s=i>o.clientY,i=o.clientY}}}),!1),document.addEventListener("touchend",(function(n){if(c){console.log("touchend called, draggingState: ",c);var d=a-i;e.classList.add("animate"),d>100&&s?function(){console.log("expand");bodyScrollLock.disableBodyScroll(o),e.style.top="-50px",e.style.height="calc(100vh + 50px)",t.classList.add("visible")}():l(),c=!1,console.log("touchend",c)}}))}function q(e,t){function o(){var t=r?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop,o=document.querySelector(".innity-apps-spin-inv-ad")||document.querySelector(".innity-apps-overlay-card-ad")||document.querySelector(e);console.log("check scroll"),t>=100?o.classList.add("visible"):o.classList.remove("visible")}document.querySelector(d).classList.add("native"),console.log("register stickyAdsVisibilityScrollEvent"),100===t[1]&&(document.querySelector(d).insertAdjacentHTML("afterbegin",'<style>.btn__ad--close{width: 30px; height: 30px; position: absolute; top: -28px; right: 0; font-size: 18px; background: white; color: #5d5d5d; border-top-left-radius: 10px;}</style><a href="#" class="btn__ad--close"><i class="i-cancel"></i></a>'),document.querySelector("#stickyAds").style.backgroundColor="white",document.querySelector(".btn__ad--close").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(d).setAttribute("style","bottom: -130px"),window.removeEventListener("scroll",o),setTimeout((function(){document.querySelector(n).remove()}),500)}))),window.addEventListener("scroll",o)}function L(e){e&&e.target.classList.contains("ebar-close")||(g("open"),document.body.classList.add("ebar--on"))}function k(){g("close"),document.body.classList.remove("ebar--on")}function T(e,t){console.log("overlay event",e),y(e,t),v(e),window.dispatchEvent(new Event("resize"))}window.googletag.cmd.push((function(){googletag.pubads().addEventListener("slotResponseReceived",(function(e){})),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var i=e.slot.getSlotElementId();if(console.log("googleNative slotRenderEnded",i),"ads-superBanner"===i&&(console.log("superBanner",e.creativeTemplateId),e.isEmpty)){var s=document.querySelector(".main-content");s&&s.classList.add("reset-aside")}"ads-inline"===i&&(console.log("middle slot event",e),e.isEmpty?document.querySelector(".inline-ads").style.display="none":e.creativeTemplateId&&(11821167===e.creativeTemplateId&&function(){console.log("register push down event");var e=document.querySelector(o);if("IntersectionObserver"in window){new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&e.intersectionRatio>0&&window.addEventListener("scroll",(function e(){document.querySelector(o).getBoundingClientRect().top<=b()&&(f("big",o),window.removeEventListener("scroll",e),t.disconnect())}))}))}),{root:null,rootMargin:"0px",threshold:1}).observe(e)}else window.addEventListener("scroll",w)}(),11789735!==e.creativeTemplateId&&11844776!==e.creativeTemplateId&&11862837!==e.creativeTemplateId&&11863140!==e.creativeTemplateId&&11942323!==e.creativeTemplateId&&11949821!==e.creativeTemplateId||function(){console.log("register underlay event");var e=document.querySelector(".inline-ads"),t=document.querySelector("#ads-inline")||null;console.log("checkpoint",e),document.body.classList.add("underlay"),document.addEventListener("scroll",(function(o){t.classList.add("intersecting");var n=e.getBoundingClientRect().top+20,a=window.innerHeight,i=n+a;console.log(a),t.setAttribute("style","clip: rect(".concat(n,"px ").concat(l,"px ").concat(i,"px 0px)"))}))}())),"stickyAds"===i&&(console.log("sticky slot event",e),11831547===e.creativeTemplateId||11840522===e.creativeTemplateId||11889012===e.creativeTemplateId||11867400===e.creativeTemplateId||11867409===e.creativeTemplateId||11940055===e.creativeTemplateId||11933976===e.creativeTemplateId?function(){console.log("double decker event registered"),document.querySelector(d).classList.add("double-decker");var e=!1,o=100;function a(){if((r?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop)>=o){if(e)return;var a=t?40:0;document.querySelector(d).setAttribute("style","bottom: "+a+"px"),e||S("[double-decker] commitHeightEvent"),e=!0}else{if(!e)return;var i=document.querySelector(n).scrollHeight;e=!1,document.querySelector(d).setAttribute("style","bottom: -"+i+"px"),S("[double-decker] closeBanner")}}window.addEventListener("message",(function(e){if("[double-decker] setHeight"===e.data.type&&(console.log("parent receive with heightData: ",e.data),document.querySelector(n).setAttribute("height",e.data.height),e.data.height<=0?document.querySelector(d).setAttribute("style","min-height: 0;"):(document.querySelector(d).setAttribute("style","min-height: inherit;"),document.querySelector(d).setAttribute("style","bottom: 0"))),"[double-decker] ready"===e.data.type){console.log("parent receive with domReady: ",e.data);var i=Math.round(window.innerWidth/e.data.ratio);t=document.getElementById("sb-site"),o=e.data.bannerOffset,document.querySelector(d).setAttribute("style","bottom: -"+i+"px"),window.addEventListener("scroll",a)}e.data.type}))}():11850463===e.creativeTemplateId?(E(),q(".bannerAds",e.size)):11862770===e.creativeTemplateId||11933940===e.creativeTemplateId?function(){var e;function o(){if((r?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop)>=100)console.log("hit me"),document.querySelector(d).setAttribute("style","bottom: 0px");else{var e=document.querySelector(n).scrollHeight;document.querySelector(d).setAttribute("style","bottom: -"+e+"px")}}console.log("sticky native"),t=document.getElementById("sb-site"),document.querySelector(d).classList.add("sticky-native"),window.addEventListener("message",(function(t){"[sticky-native] ready"===t.data.type&&(e=t.data.height,document.querySelector(d).setAttribute("style","bottom: -"+e+"px"),window.addEventListener("scroll",o)),"[sticky-native] close"===t.data.type&&(document.querySelector(d).setAttribute("style","bottom: -"+e+"px"),window.removeEventListener("scroll",o),setTimeout((function(){document.querySelector(n).remove()}),500))}))}():q(d,e.size),document.body.style.paddingBottom=document.querySelector(d).clientHeight+"px"),"ultraDesktopBanner"===i&&window.addEventListener("message",(function(e){if("desktopExpandHeight"===e.data.type){console.log("parent receive with heightData: ",e.data);var t=document.querySelector(".main-content"),o=e.data.height;document.getElementById("ultraDesktopBanner").className=e.data.size,document.querySelector(a).setAttribute("height",o),t&&"calcNavTop"in window.__UDN__&&window.__UDN__.calcNavTop()}"desktopExpandReady"===e.data.type&&(sessionStorage?"true"===sessionStorage.getItem("udn:ultraDesktopBanner")?document.querySelector(a).contentWindow.postMessage({type:"setAds",value:"small"},"*"):(sessionStorage.setItem("udn:ultraDesktopBanner","true"),document.querySelector(a).contentWindow.postMessage({type:"setAds",value:"big"},"*")):document.querySelector(a).contentWindow.postMessage({type:"setAds",value:"small"},"*"))}))}))})),window.addEventListener("message",(function(t){var n,a,d,s;if("[inpage] initHeight"===t.data.type){n=document.querySelector("#ads-superBanner"),d=document.querySelector(".wrapper-aside"),console.log("[inpage]",t.data.value);var l=t.data.value||400;n.style.setProperty("--varHeight",l+"px"),d&&d.style.setProperty("--top",l+"px")}if("[inpage] close"===t.data.type)for(d=document.querySelector(".wrapper-aside"),console.log("[inpage] close",d),a=(n=document.querySelector("#ads-superBanner"))?n.querySelector("iframe"):"",n.className+=" closing",d&&(console.log("set frame to 0 height"),d.style.setProperty("--top","0px")),a.contentWindow.postMessage({type:"[inpage] removeAds"},"*");n.firstChild;)n.firstChild.parentNode.removeChild(n.firstChild);if("overlayIframeReady"===t.data.type){console.log("overlay ready",t.data);var g=t.data.opt.isScroll&&""!==t.data.opt.isScroll?parseInt(t.data.opt.isScroll):0,h=t.data.hasOwnProperty("desktop")||!1;0===g?T("open",h):window.addEventListener("scroll",(function e(t){(r?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop)>=g&&(T("open",h),window.removeEventListener("scroll",e))})),t.data.opt.overlayClose&&!i&&(i=!0,document.querySelector(".udn-overlay").addEventListener("click",(function(){v("close"),y("close",h)})))}if("ebar-close"===t.data.type&&k(),"ebar-ready"===t.data.type){console.log("ebar ready",t.data.opt);var w=document.querySelector("#desktopSticky > div > iframe");if(w.style.height=t.data.opt.height+"px",w.style.width=t.data.opt.width+"px",w.style.minWidth="inherit","img"===t.data.opt.type||"video"===t.data.opt.type)!function(e,t,o){var n=document.createElement("e-bar");n.className="ebar-sticky";var a=document.createElement("div"),i=t?'<img style="display: none" hidden src="'+t+'" />':"";a.className="ebar-item",a.addEventListener("click",L),a.addEventListener("mouseover",(function(e){p||(console.log(o,"timer"),m=window.setInterval(L,o))})),a.addEventListener("mouseout",(function(){window.clearInterval(m)})),a.innerHTML=i+'<img src="'+e+'">'+function(e){return'<span class="ads-progress"><svg height="60" width="60"><circle cx="30" cy="30" r="20" stroke-width="10" fill="none" style="transition-duration: '+e+'ms" /></svg> </span>'}(o),n.appendChild(a);var d=document.createElement("span");d.className="ebar-close",d.innerHTML='<i class="i-close"></i>',d.addEventListener("click",e=>{console.log("close ebar"),n.classList.add("ebar--closing"),setTimeout((function(){n.parentElement.removeChild(n)}),500)}),n.appendChild(d),document.querySelector("#desktopSticky").appendChild(n),document.body.classList.add("ebar")}(t.data.opt.smallBanner,t.data.opt.viewSrc,t.data.opt.timer),"video"===t.data.opt.type&&document.body.classList.add("ebar-video");t.data.opt.overlayClose&&!u&&(u=!0,document.querySelector(".udn-overlay").addEventListener("click",k))}"desktopOverlayIframeReady"===t.data.type&&(s="#div-gpt-ad-1497513578327-0 > div > iframe",document.querySelector(s).style.visibility="visible",document.querySelector(s).style.opacity=1,f("open",s)),"desktopOverlayClose"===t.data.type&&function(e){document.querySelector(e).style.visibility="hidden",document.querySelector(e).style.opacity=0,f("close",e)}("#div-gpt-ad-1497513578327-0 > div > iframe"),"adClose"===t.data.type&&(v("close"),y("close",t.data.hasOwnProperty("desktop")||!1)),"[push-down] setHeight"===t.data.type&&document.querySelector(o).setAttribute("height",t.data.height),"[push-down] ready"===t.data.type&&(e=t.data.visibleRatio||5)}))}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e();