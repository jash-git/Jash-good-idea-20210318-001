/*! web_javascript 2021-03-10 5:35:19 PM */

var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__assign=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},Guoshi;!function(a){!function(a){function b(a,b,d){var f,g=b.guid,h=parseInt(e(a).find("duration").text());"true"==d.is_vast&&(h=d.vastResult.duration);var i={insighter_url:e(a).find("insighterURL").text(),PID:e(a).find("PID").text(),UID:e(a).find("UID").text(),Viewer_ID:g,Play_Time:0,WatchTime:0,Vid_Length:0,Total_Time:h,Total_Filesize:e(a).find("filesize").text(),Embedded_URL:window.location.href,VIDEO:"OPEN",CID:"0",Click_URL:"",AutoPlay:!1,counter:0},j=parseInt(e(a).find("holdonSecond").text());if(d.is_vast&&"false"!=d.is_vast){for(var k=d.vastResult.companionAds[0],l=[],m=0;m<k.length;m++)null!==k[m].iframeResource?l.push({src:k[m].iframeResource,cid:k[m].id,click_link:k[m].companionClickThroughURLTemplate}):null!==k[m].staticResource&&l.push({src:k[m].staticResource,cid:k[m].id,click_link:k[m].companionClickThroughURLTemplate});f={delay_before_play_second:parseInt(e(a).find("delayBeforePlaySecond").text()),pass_by_second:d.vastResult.pass_by_second,hold_on_second:j,ad_total_time:h+j,inread_wording:e(a).find("body").text()||"",tracking_code:[],texture_url:e(a).find("imgURL").text()||"",vastResult:d.vastResult,banners:l,icons:[],video:{duration:d.vastResult.duration,src:1==d.vastResult.hasVPAIDAd?d.vastResult.vpaid_src:[c(d.vastResult.video_src[0][0])],poster:d.vastResult.extensions=={}?d.vastResult.extensions.Thumbnail[0].url:null,click_link:e(a).find("clickURL").text(),cid:-1}},i.Total_Filesize=0}else{f={delay_before_play_second:parseInt(e(a).find("delayBeforePlaySecond").text()),pass_by_second:parseInt(e(a).find("bypassButtonSecond").text()),hold_on_second:j,ad_total_time:h+j,inread_wording:e(a).find("body").text()||"",banner:{cid:e(a).find("companions cid").text(),src:e(a).find("companions imgURL").text()},icons:[],tracking_code:[],texture_url:e(a).find("imgURL").text()||"",video:{duration:h||0,src:[],poster:e(a).find("defaultURL").text(),click_link:e(a).find("clickURL").text(),cid:-1,video_type:"video"}},function(){var b="";e(a).find("imgURL").each(function(a,c){var d=c.textContent;d.indexOf(".swf")<=-1&&(b=d)}),f.texture_url=b.toLowerCase(),void 0==f.banner.src&&(e(a).find("cid").each(function(a,b){0==a&&(f.banner.cid=b.textContent)}),e(a).find("imgURL").each(function(a,b){0==a&&(f.banner.src=b.textContent)}))}();var n,o;["videoURL_mp4_1200k","videoURL_mp4_800k"].forEach(function(b){e(a).find(b).text()&&(n=e(a).find(b).text(),o=e(a).find(b).attr("format"),n&&f.video.src.push(n),o&&(f.video.video_type=o.toLowerCase()))}),f.banners=[],e(a).find("companions companion").each(function(a,b){var c={src:e(b).find("imgURL").text(),cid:e(b).find("cid").text()};f.banners[a]=c}),e(a).find("triples triple").each(function(a,b){var c={src:e(b).find("imgURL").text(),cid:e(b).find("cid").text()};f.icons[a]=c})}return e(a).find("tracking_code code").each(function(a,b){var c=b.textContent;c.indexOf("http")<0||f.tracking_code.push(c)}),f.video.is_vast=d.is_vast,f.video.hasVPAIDAd=d.hasVPAIDAd,{settings:f,warroom:i,play_mode:e(a).find("playerMode").text(),player_type:e(a).find("playerType").text(),auto_play:e(a).find("autoPlay").text(),lXml:a}}function c(a){if(0!=a.length){var b=function(a){a.score=Math.abs(window.innerWidth-a.width)},c=function(a,b){return a.score-b.score},d=a;d.map(b),d.sort(c);return d[0].fileURL}}var d=function(){function a(a){for(var b=0;b<a.length;b++)this[b]=a[b];this.els=a}return a.prototype.find=function(a){var b,c=this.els;"object"==typeof c&&(b=c.querySelectorAll(a));for(var d=0;d<b.length;d++)b[d].text=b[d].textContent;return new(function(){function a(){}return a.prototype.text=function(){if(1===b.length)return b[0].textContent},a.prototype.attr=function(a){if(1===b.length)return b[0].getAttribute(a)},a.prototype.each=function(a){for(var c=0;c<b.length;c++)void 0!==a&&a(c,b[c])},a}())},a}(),e=function(a){var b;return"string"==typeof a?b=document.querySelectorAll(a):"object"==typeof a&&(b=a),new d(b)};a.xml_parser=b,a.getVastUrl=c}(a.parser||(a.parser={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){a.ERROR_MACRO={EVENT:"[EVENT]",ERRORCODE:"[ERRORCODE]",ERRORMSG:"[ERRORMSG]",ERRORDESC:"[ERRORDESC]"},a.ERROR_CODE={XML_FAIL:"20001",SOURCE_FAIL:"20002",JSON_FAIL:"20003",CREATE_VIEW_FAIL:"30001",AD_SIZE_ERROR:"30002",AUTOPLAY_FAIL:"30003",IN_SAFE_FRAME:"40001"},a.ERROR_REPORT={XML_FAIL:{errorCode:a.ERROR_CODE.XML_FAIL,errorMsg:"20001 XML FAIL",errorDesc:'{"desc1":"xml parsing error"}'},SOURCE_FAIL:{errorCode:a.ERROR_CODE.SOURCE_FAIL,errorMsg:"20002 SOURCE FAIL",errorDesc:'{"desc1":"source not found or broken"}'},JSON_FAIL:{errorCode:a.ERROR_CODE.JSON_FAIL,errorMsg:"20003 JSON FAIL",errorDesc:'{"desc1":"l_json source not found or broken"}'},CREATE_VIEW_FAIL:{errorCode:a.ERROR_CODE.CREATE_VIEW_FAIL,errorMsg:"30001 CREATE VIEW FAIL",errorDesc:'{"desc1":"create view fail"}'},AD_WRAPPER_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 AD SIZE ERROR",errorDesc:'{"desc":"wrapper size error"}'},AD_IFRAME_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 AD SIZE ERROR",errorDesc:'{"desc":"iframe size error"}'},AD_LAYOUT_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 AD SIZE ERROR",errorDesc:'{"desc":"layout size error"}'},AD_VIDEO_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 AD SIZE ERROR",errorDesc:'{"desc":"video size error"}'},AD_BANNER_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 AD SIZE ERROR",errorDesc:'{"desc":"banner size error"}'},AD_IC_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 IC SIZE ERROR",errorDesc:"{}"},AD_IP_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 IP SIZE ERROR",errorDesc:"{}"},AD_IR_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 IR SIZE ERROR",errorDesc:"{}"},AD_MIR_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 MIR SIZE ERROR",errorDesc:"{}"},AD_MAIR_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 MAIR SIZE ERROR",errorDesc:"{}"},AD_MIT_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 MIT SIZE ERROR",errorDesc:"{}"},AD_MIC_SIZE_ERROR:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30002 MIC SIZE ERROR",errorDesc:"{}"},AUTOPLAY_FAIL:{errorCode:a.ERROR_CODE.AD_SIZE_ERROR,errorMsg:"30003 AUTOPLAY FAIL",errorDesc:'{"desc1":"autoplay fail"}'},IN_SAFE_FRAME:{errorCode:a.ERROR_CODE.IN_SAFE_FRAME,errorMsg:"40001 IN SAFE FRAME",errorDesc:"{}"}},a.EXTRA_DESC={PREFIX:'"desc',XML_FAIL:{TAG_PARSING_ERROR:'"desc2":"xml tag error or empty"'},SOURCE_FAIL:{VIDEO_PROBLEM:'"desc2":"video source not found or broken"',BANNER_PROBLEM:'"desc2":"banner source not found or broken"'},CREATE_VIEW_FAIL:{},AD_SIZE_ERROR:{DETECTED_SIZE:'"detectedSize"',PREDICTED_SIZE:'"predictedSize"'},AUTOPLAY_FAIL:{STUCK_OVER_FIVE_SECOND:'"desc2":"video stuck over 5 second"'}}}(a.report||(a.report={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=a.report.ERROR_REPORT,c=function(){function c(){this._isMaterialReadyForTrackingEvent=!1,this._delayedTrackingEvents=[]}return c.prototype.sendMessageToMaterial=function(a){var b;a.sender="ONEAD_PLAYER",a.isipIndex=this.isipIndex,b=JSON.stringify(a),this._messageSendObj&&(Array.isArray(this._messageSendObj)?this._messageSendObj.forEach(function(a){a.postMessage(b,"*")}):this._messageSendObj.postMessage(b,"*"))},c.prototype._checkAndSendTrackingEvent=function(a){this._isMaterialReadyForTrackingEvent?a():this._delayedTrackingEvents.push(a)},c.prototype._sendDelayedTrackingEvents=function(){var a;for(this._isMaterialReadyForTrackingEvent=!0;a=this._delayedTrackingEvents.shift();)a()},c.prototype.sendBannerExposurePercentage=function(a,b,c){var d=+(100*(1-a/(c+b))).toFixed(2),e=function(a,b){return+(Math.floor(a/b)*b).toFixed(1)}(d,.5);e>=0&&e<=100&&e!==this.lastExposurePercentage&&(this.sendMessageToMaterial({action:"ONEAD_BANNER_EXPOSURE_PERCENTAGE",param:e}),this.lastExposurePercentage=e)},c.prototype.sendScrollerBannerExposure=function(a,b,c){var d=+((a-c)/b*100).toFixed(2);d>=100&&(d=100),d>=0&&d<=100&&d!==this.lastExposurePercentage&&(this.sendMessageToMaterial({action:"ONEAD_BANNER_EXPOSURE_PERCENTAGE",param:d}),this.lastExposurePercentage=d)},c.prototype.sendLayoutExposurePercentage=function(a,b,c){var d=+(100*(1-(a-c)/b)).toFixed(2);d>=100&&(d=100),d>=0&&d<=100&&d!==this.lastExposurePercentage&&(this.sendMessageToMaterial({action:"ONEAD_BANNER_EXPOSURE_PERCENTAGE",param:d}),this.lastExposurePercentage=d)},c.prototype.sendElementExposurePercentage=function(b){var c=100*b;c>=0&&c<=100&&c!==this.lastExposurePercentage&&(this._eventCenter.dataCenter.adFormat===a.ONEAD_CONST.AD_FORMAT.MIRHTF?this.sendMessageToMaterial({action:"ONEAD_IN_VIEW_PERCENTAGE",param:c}):this.sendMessageToMaterial({action:"ONEAD_BANNER_EXPOSURE_PERCENTAGE",param:c}),this.lastExposurePercentage=c)},c.prototype.sendSafeFrameGeomData=function(a){this.sendMessageToMaterial({action:"ONEAD_SAFEFRAME_GEOM_DATA",param:a})},c.prototype._sendTrackingEvent=function(a){this.sendMessageToMaterial({action:"ONEAD_TRACKING_EVENT",param:a})},c.prototype.onVideoEnded=function(){this.sendMessageToMaterial({action:"ONEAD_VIDEO_ENDED"})},c.prototype.sendMirfIsTouched=function(a){this.sendMessageToMaterial({action:"MIRF_IS_TOUCHED",param:a})},c.prototype.sendIsExpand=function(a){this.sendMessageToMaterial({action:"ONEAD_IS_EXPAND",param:a})},c.prototype.sendIsUserTouch=function(a){this.sendMessageToMaterial({action:"ONEAD_IS_USER_TOUCHED",param:a})},c.prototype.init=function(a,b,c){this.initData(b,c),this.initMessageWindow(a)},c.prototype.initData=function(b,c){var d=this;this.isipIndex=b+"",c&&(this._eventCenter=c,c.subscribe(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,function(a){d._checkAndSendTrackingEvent(function(){d._sendTrackingEvent(a)})})),window.name="oneadPlayer",this.setupReaction(function(){})},c.prototype.initMessageWindow=function(c){var d=this;c?(this._messageSendObj=c,this._messageReceiveObj=window):(this._messageSendObj=parent,this._messageReceiveObj=parent),this._messageReceiveObj.addEventListener("message",function(c){var e,f,g,h=d;try{e=JSON.parse(c.data)}catch(a){}if(void 0!==e&&"MATERIAL"===e.sender&&e.isipIndex===d.isipIndex)switch(f=e.action,g=e.param,f){case"checkIfPlayerReady":d.sendMessageToMaterial({action:"ONEAD_PLAYER_READY"}),d.sendMessageToMaterial({action:"ONEAD_GUID",param:d._eventCenter.dataCenter.guid});break;case a.ONEAD_EVENT.materialEvent.SEND_EVENT_ENG:d._eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.SEND_EVENT_ENG,g);break;case a.ONEAD_EVENT.materialEvent.SYNC_TRACKING_EVENT:d._eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.NEED_SYNC_BEFORE_CLOSE),d._sendDelayedTrackingEvents();break;case a.ONEAD_EVENT.materialEvent.MATERIAL_TRACKING_EVENTS_SENT:d._eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.MATERIAL_TRACKING_EVENTS_SENT);break;case a.ONEAD_EVENT.materialEvent.ADD_TRACKING_ACCOUNT:d._eventCenter.dataCenter.trackingEventHandler&&d._eventCenter.dataCenter.trackingEventHandler.addTrackingCodeAccount(g);break;case a.ONEAD_EVENT.materialEvent.ONEAD_EXECUTE_CODE:var i=e.param;try{Function(i)()}catch(c){}break;case a.ONEAD_EVENT.materialEvent.INSERT_SCRIPT_IN_HEAD:var j,k=e.param.src,l=e.param.content,m=e.param.async;try{j=top.document.head}catch(c){d._eventCenter.sendErrorReport(b.IN_SAFE_FRAME),j=document.head}var n=function(b,c,d){return new a.Promise(function(a,e){var f=document.createElement("script");f.async=c,f.src=b,f.onload=a,d.appendChild(f)})},o=function(a,b){var c=document.createElement("script");c.textContent=a,b.appendChild(c)};k?Array.isArray(k)?a.Promise.all(k.map(function(a){return n(a,m,j)})).then(function(){l&&o(l,j)}):n(k,m,j):o(l,j);break;default:h._reactFunc(e)}}),this.sendMessageToMaterial({action:"ONEAD_PLAYER_READY"})},c.prototype.setupReaction=function(a){this._reactFunc=a},c}();a.MaterialHandler=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){a.toInt=function(a,b){var c;switch(typeof a){case"string":c=Number(a),isNaN(c)&&(c=0);break;case"number":c=a}return b?Math.round(c):Math.floor(c)},a.checkIsInt=function(a){return a%1==0},a.assertAsInt=function(b){try{if(a.checkIsInt(b))return b}catch(a){throw new Error("Invalid Int value (error): "+b)}throw new Error("Invalid Int value: "+b)}}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){var c=function(){function a(a){this._value=a}return a.prototype.setupEventName=function(a){return this._value=this._value.replace("[EVENT]",a),this},a.prototype.setupClickLabel=function(a){return this._value=this._value.replace("[CLICKLABEL]",a),this},a.prototype.setupBannerClickEng=function(a){return this._value=this._value.replace("eng=","eng="+a),this},a.prototype.assignKeyValue=function(a,b){var c=new RegExp("(\\?|\\&)"+a+"=([^&?]+|)","g");return this._value=this._value.replace(c,"$1"+a+"="+encodeURIComponent(b)),this},a.prototype.clearMarco=function(){return this._value=this._value.replace(/(\[\w+])/g,""),this},Object.defineProperty(a.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),a}();b.StringUtilForTrackUrl=c;var d=function(){function d(a){this._trackUrl=a.trackUrl,this._errorReportingUrl=a.trackUrl,this._dataCenter=a}return d.prototype.sendHttpRequestToServer=function(a,b){if(void 0!==a&&""!==a&&a.indexOf("//")>-1){(new Image).src=a}else b&&"function"==typeof b&&b("reporting url error: "+a)},d.prototype.addCommonDataAndSendEvent=function(b,c){null!=this.pageHeightInformation&&void 0!=this.pageHeightInformation||(this.pageHeightInformation=a.Util.pageHeightInformation(this._dataCenter));var d,e=Math.round(this._dataCenter.currentTime).toString();d=this._dataCenter.isEventImpSend?a.toInt(this.pageHeightInformation.pageHeight):0;var f=this.checkAndGetUrlForAsync(b,{eventType:c,vs:e,ppx:d,spp:a.toInt(this.pageHeightInformation.positionPercentage)});this._dataCenter.exclude&&this._dataCenter.exclude>0&&(f+="&exclude="+this._dataCenter.exclude),this.sendHttpRequestToServer(f)},d.prototype.checkAndGetUrlForAsync=function(a,b){return a.setupEventName(b.eventType).assignKeyValue("vs",b.vs).assignKeyValue("ppx",b.ppx.toString()).assignKeyValue("spp",b.spp.toString()).clearMarco().value},d.prototype.sendTrackingEvent=function(b,d){var e;e=new c(this._trackUrl);try{if(this._trackUrl&&this._trackUrl.indexOf("//")>-1)switch(b){case a.ONEAD_EVENT.events.BANNER_CLICK:"string"==typeof d&&this.addCommonDataAndSendEvent(e,b),void 0!==d.eng&&(e.setupBannerClickEng(this._dataCenter.pid+"_"+d.bannerInfo+"_"+d.bannerIndex+"_"+d.eng),this.addCommonDataAndSendEvent(e,b)),void 0!==d.clickLabel&&(e.setupClickLabel(this._dataCenter.pid+"_"+d.bannerInfo+"_"+d.bannerIndex+"_"+d.clickLabel),this.addCommonDataAndSendEvent(e,b));break;case a.ONEAD_EVENT.events.ENGAGEMENT:void 0!==d.buttonIndex?e.assignKeyValue("eng",d.buttonIndex):e.assignKeyValue("eng",d),this.addCommonDataAndSendEvent(e,b);break;default:this.addCommonDataAndSendEvent(e,b)}}catch(a){}},d.prototype.sendErrorReporting=function(a,c){if(a.errorCode&&a.errorDesc&&a.errorMsg)try{var d=void 0;this._errorReportingUrl&&this._errorReportingUrl.indexOf("//")>-1&&(d=this._errorReportingUrl.replace(b.ERROR_MACRO.EVENT,"error").replace(b.ERROR_MACRO.ERRORCODE,a.errorCode).replace(b.ERROR_MACRO.ERRORMSG,encodeURIComponent(a.errorMsg)),c&&(a.errorDesc=a.errorDesc.replace("}","")+c+"}"),d=d.replace(b.ERROR_MACRO.ERRORDESC,encodeURIComponent(a.errorDesc)),this.sendHttpRequestToServer(d))}catch(a){}},d.prototype.sendThirdPartyTracking=function(a){if(void 0!==a&&a.length>0)for(var b=String(+new Date),c=0;c<a.length;c++){var d=a[c];d&&d.indexOf("//")>-1&&(d=d.replace("[timestamp]",b),this.sendHttpRequestToServer(d))}},d}();b.Reporting=d}(a.report||(a.report={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function a(){}return a}(),c=function(){function c(a){this.DEVICE={IPHONE:"iPhone",IPAD:"iPad",IPOD:"iPod",ANDROID:"Android",WINDOWS:"Windows"},this.BROWSER={CHROME:"Chrome",CHROME_IOS:"CriOS",IE6:"MSIE 6",WEBVIEW:" wv",LINE:" Line",FBAV:"FBAV",FBAN:"FBAN"},this.initDataByUserAgent(),this.initScopeByEnvironment(),this.initDataByDevice()}return c.getInstance=function(){return void 0===c._instance&&(c._instance=new c(new b)),c._instance},c.prototype.initDataByUserAgent=function(){this.userAgent=window.navigator.userAgent,this.vendor=window.navigator.vendor,this.platform=window.navigator.platform,this.isIphone=this.checkWordInUserAgent(this.DEVICE.IPHONE),this.isIpad=this.checkWordInUserAgent(this.DEVICE.IPAD),this.isIpod=this.checkWordInUserAgent(this.DEVICE.IPOD),this.isIos=this.isIphone||this.isIpad||this.isIpod,this.isAndroid=this.checkWordInUserAgent(this.DEVICE.ANDROID),this.isMobile=this.isAndroid||this.isIos,this.isWindows=this.checkWordInUserAgent(this.DEVICE.WINDOWS),this.isWebView=this.checkWordInUserAgent(this.BROWSER.WEBVIEW),this.isChrome=this.checkWordInUserAgent(this.BROWSER.CHROME),this.isFB=this.checkWordInUserAgent(this.BROWSER.FBAN)||this.checkWordInUserAgent(this.BROWSER.FBAV),this.isChromeInIos=this.checkWordInUserAgent(this.BROWSER.CHROME_IOS),this.isIe6=this.checkWordInUserAgent(this.BROWSER.IE6),this.isMacSafari="MacIntel"===window.navigator.platform,this.checkChromeVersionIsAbove=this.getVersionCompareFunction({regularEx:/Chrome\/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+/g,firstStr:"Chrome/",splitStr:"."}),this.checkLineVersionIsAbove=this.getVersionCompareFunction({regularEx:/line\/[0-9]+\.[0-9]+\.[0-9]+/g,firstStr:"line/",splitStr:"."}),this.checkIosVersionIsAbove=this.getVersionCompareFunction({regularEx:/iPhone OS [0-9]+_[0-9]+(_[0-9])?/g,firstStr:"iPhone OS ",splitStr:"_"}),this.isSupportDASH=this.checkIfSupportDASH(),this.isSupportHEVChls=this.checkIfSupportHEVChls()},c.prototype.deviceIsHorizontal=function(){var a;try{a=void 0!==window.orientation?window.orientation:window.screen.orientation.angle}catch(b){a=window.matchMedia("(orientation: landscape)").matches}return"90"==a||"-90"==a||!0===a},c.prototype.checkIfSupportDASH=function(){return!!(window.MediaSource&&"MediaSource"in window)},c.prototype.checkIfSupportHEVChls=function(){return!1},c.prototype.checkWordInUserAgent=function(a){return this.userAgent.indexOf(a)>-1},c.prototype.getVersion=function(a){var b=a.regularEx,c=a.firstStr,d=a.splitStr;b.exec(this.userAgent);var e=b.lastIndex,f=this.userAgent.indexOf(c),g=e-f-c.length,h=this.userAgent.substr(f+c.length,g);return void 0!==d?h.split(d):[h]},c.prototype.versionCompare=function(a,b,c,d){function e(a){return(f?/^\d+[A-Za-z]*$/:/^\d+$/).test(a)}var f=d&&d.lexicographical,g=d&&d.zeroExtend,h=a.split(c),i=b.split(c);if(!h.every(e)||!i.every(e))return NaN;if(g){for(;h.length<i.length;)h.push("0");for(;i.length<h.length;)i.push("0")}f||(h=h.map(Number),i=i.map(Number));for(var j=0;j<h.length;++j){if(i.length===j)return 1;if(h[j]!==i[j])return h[j]>i[j]?1:-1}return h.length!==i.length?-1:0},c.prototype.isAboveBaseVersion=function(a){var b=a.baseVersionStr,c=a.options||{extendZero:!0},d=this.getVersion({regularEx:a.regularEx,firstStr:a.firstStr})[0];return this.versionCompare(d,b,a.splitStr,c)>=0},c.prototype.getVersionCompareFunction=function(a){return function(b){return this.isAboveBaseVersion({regularEx:a.regularEx,firstStr:a.firstStr,splitStr:a.splitStr,baseVersionStr:b,options:a.options})}},c.prototype.initDataByDevice=function(){var b=window.screen.height>window.screen.width,c=a.Util.getMeta("viewport").indexOf("device-width")>-1;this.device={portraitHeight:b?window.screen.height:window.screen.width,portraitWidth:c?b?window.screen.width:window.screen.height:window.innerWidth,deviceHeight:this._scopeInfo.accessibleHighestWin.innerHeight},this.isCookieEnabled=this._checkIfCookieEnabled()},c.prototype._checkIfCookieEnabled=function(){var a=navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||a||(document.cookie="onevision_testcookie",a=-1!==document.cookie.indexOf("onevision_testcookie")),a},c.detectHighestWindow=function(a,b){void 0===b&&(b=window);var d=!1,e=b.parent;try{e.location.href}catch(c){d=!0,a.accessibleHighestWin=b,a.isBlockedBySameOriginPolicy=!0}d||(2==++a.accessibleLayer&&(a.accessibleParentWin=e),a.accessibleHighestWin=e,e!==top&&c.detectHighestWindow(a,e))},c.prototype.initScopeByEnvironment=function(){this._scopeInfo={accessibleHighestWin:window,accessibleParentWin:window,accessibleLayer:1,isBlockedBySameOriginPolicy:!1},c.detectHighestWindow(this._scopeInfo)},Object.defineProperty(c.prototype,"scopeInfo",{get:function(){return this._scopeInfo},enumerable:!0,configurable:!0}),c}();a.EnvInfo=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function a(){}return a}(),c=function(){function c(b){this._minimizeAds=[],this._envInfo=a.EnvInfo.getInstance(),this._accessibleHighestWin=this._envInfo.scopeInfo.accessibleHighestWin}return c.getInstance=function(){var d=a.EnvInfo.getInstance().scopeInfo.accessibleHighestWin;return d.ONEAD_PlayerCenter||(d.ONEAD_PlayerCenter=new c(new b)),d.ONEAD_PlayerCenter},c.prototype.checkHasIrPlus=function(b,c){void 0==this._hasIrPlus&&(this._hasIrPlus=!1),b===a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF&&c===a.ONEAD_CONST.PLAY_MODE.IR&&(this._hasIrPlus=!0)},Object.defineProperty(c.prototype,"hasIrPlus",{get:function(){return this._hasIrPlus},enumerable:!0,configurable:!0}),c.prototype.checkNeedToMinimizeAds=function(a){a.dataCenter.playerType.indexOf("FOLLOW")>-1&&(this._minimizeAds?this._minimizeAds.push(a):(this._minimizeAds=[],this._minimizeAds.push(a)))},c.prototype.setCurrentMiniLayout=function(){if(this.currentMiniLayout){var a=this.filterCanUseLayoutArr();if(void 0==a)return;this.checkNeedToChangeMinimizeLayout(this.currentMiniLayout,a)&&(this.currentMiniLayout.isMinimize=!1,this.currentMiniLayout.resetMinimizeLayout(),a.isMinimize=!a.isAdVisible(),a.resetMinimizeLayout(),this.currentMiniLayout=a),this.currentMiniLayout.isExpand||(this.currentMiniLayout.isAdVisible()?this.currentMiniLayout.isMinimize=!1:a.adOffsetTop===this.currentMiniLayout.adOffsetTop||a.isAdVisible()?this.currentMiniLayout.isMinimize=!this.currentMiniLayout.isAdVisible():(this.currentMiniLayout.isMinimize=!1,this.currentMiniLayout.isCloseFollow=!0,a.beenSeen&&(this.currentMiniLayout=a,this.currentMiniLayout.isMinimize=!this.currentMiniLayout.isAdVisible())))}else this.currentMiniLayout=this.filterCanUseLayoutArr(),this.currentMiniLayout.isMinimize=!this.currentMiniLayout.isAdVisible()},c.prototype.filterCanUseLayoutArr=function(){var b=this;this._minimizeAds.sort(function(a,c){return a.dataCenter.desktopLayout.adOffsetTop-b._currentPosition>c.dataCenter.desktopLayout.adOffsetTop-b._currentPosition?1:-1}),this._currentPosition=this._accessibleHighestWin.document.body.scrollTop;var c=this._minimizeAds.filter(function(a){return a.dataCenter.desktopLayout.adOffsetTop<=b._currentPosition}).filter(function(a){return!a.dataCenter.desktopLayout.isCloseFollow}).filter(function(c){return!b.hasIrPlus||c.dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IR});return 0===c.length?(c=this._minimizeAds.filter(function(a){return a.dataCenter.desktopLayout.adOffsetTop>b._currentPosition}).filter(function(a){return!a.dataCenter.desktopLayout.isCloseFollow}).filter(function(c){return!b.hasIrPlus||c.dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IR}),c.length>0?c[0].dataCenter.desktopLayout:void 0):c[c.length-1].dataCenter.desktopLayout},c.prototype.checkNeedToChangeMinimizeLayout=function(a,b){return a.adOffsetTop>b.adOffsetTop},c}();a.PlayerCenter=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){a.isDev=!1;!function(a){a[a.USE_FIRST_ONE=0]="USE_FIRST_ONE",a[a.CHANGE_ANOTHER_LAYOUT=1]="CHANGE_ANOTHER_LAYOUT"}(a.RULE_FOR_BANNER_SIZE_ERROR||(a.RULE_FOR_BANNER_SIZE_ERROR={})),a.ONEAD_CONST={DISPLAY_TYPE:{IN_PAGE:"inpage",IN_STREAM:"instream"},LAYOUT:"onead-layout",PLAY_MODE:{DEFAULT:"default",IR:"inread",IC:"incover",IN_STREAM:"instream",MIC:"mobile-incover",MAIC:"mobile-app-incover",MIF:"inflip",MIR:"mobile-inread",MAIR:"mobile-app-inread",MIT:"mobile-intop",IAB_VAST:"iab-vast",AMP_IR:"amp-inread",DPR:"desktop-pre-roll",MPR:"mobile-pre-roll",APR:"app-pre-roll",DSP:"dsp-creative"},PLAYER_TYPE:{IS_DF:"HTML5_IS_DF",IS_DF_BANNER:"HTML5_IS_DF_BANNER",IS_INSYNC:"HTML5_IS_INSYNC",IS_FOLLOW_INSYNC:"HTML5_IS_FOLLOW_INSYNC",IS_FOLLOW_DF:"HTML5_IS_FOLLOW_DF",SCROLLER:"SCROLLER",SCROLLER_VERTICAL:"SCROLLER_VERTICAL",VERTICAL_V2:"VERTICAL_V2",MOBILE:"MOBILE",INSTANT:"INSTANT",TRANSFORMER:"TRANSFORMER",TRANSFORMER_GALLERY:"TRANSFORMER_GALLERY",VERTICAL:"VERTICAL",VERTICAL_BANNER:"VERTICAL_BANNER",VERTICAL_BANNER_V2:"VERTICAL_BANNER_V2",BOTTOM:"BOTTOM",BOTTOM_CUBE:"BOTTOM_CUBE",BOTTOM_HIT:"BOTTOM_HIT",BOTTOM_HIT_NF:"BOTTOM_HIT_NF",BOTTOM_FLASH:"BOTTOM_FLASH",BOTTOM_FLASH_V2:"BOTTOM_FLASH_V2",BOTTOM_BANNER_640X320:"BOTTOM_BANNER_640X320",BOTTOM_CUBE_BANNER_640X320:"BOTTOM_CUBE_BANNER_640X320",BOTTOM_FLASH_BANNER_640X320:"BOTTOM_FLASH_BANNER_640X320",BOTTOM_FLASH_V2_BANNER_640X320:"BOTTOM_FLASH_V2_BANNER_640X320",BOTTOM_BANNER_640X273:"BOTTOM_BANNER_640X273",BOTTOM_CUBE_BANNER_640X273:"BOTTOM_CUBE_BANNER_640X273",BOTTOM_FLASH_BANNER_640X273:"BOTTOM_FLASH_BANNER_640X273",BOTTOM_FLASH_V2_BANNER_640X273:"BOTTOM_FLASH_V2_BANNER_640X273",BOTTOM_GALLERY:"BOTTOM_GALLERY",BOTTOM_GALLERY_BANNER:"BOTTOM_GALLERY_BANNER",SKIRT:"SKIRT",FRAME_ENGAGEMENT:"FRAME_ENGAGEMENT",LANDSCAPE_ENGAGEMENT:"LANDSCAPE_ENGAGEMENT",STATIC:"STATIC",FLASH:"FLASH",BNB:"BNB",STORY:"STORY",H5_320X480:"H5_320X480",H5_970X250:"H5_970X250",H5_640X480:"H5_640X480",H5_320X480_BANNER:"H5_320X480_BANNER",H5_320X480_VIDEO_BANNER:"H5_320X480_VIDEO_BANNER",DSP_300X250:"300X250",TRANSFORMER_300X250:"TRANSFORMER_300X250",SHOW:"SHOW"},AD_FORMAT:{MIRT:"MIRT",MIRTG:"MIRTG",MIRI:"MIRI",MIRSK:"MIRSK",MIRS:"MIRS",MIRSV:"MIRSV",MIRV:"MIRV",MIRV_V2:"MIRV_V2",MIRVB:"MIRVB",MIRVB_V2:"MIRVB_V2",MIRM:"MIRM",MIRB:"MIRB",MIRTS:"MIRTS",MIRF:"MIRF",MIRHTF:"MIRHTF",MIRHTFB:"MIRTFB",MIRHTFVB:"MIRHTFVB",MIRSHOW:"MIR_SHOW",LANDSCAPE:"LANDSCAPEENGAGEMENT",FRAME:"FRAMEENGAGEMENT",MIRST:"MIRST",MAIR:"MAIR",MIC:"MIC",MICV:"MICV",MICB:"MICB",MICBC:"MICBC",MICBF:"MICBF",MICBF_V2:"MICBF_V2",MICBH:"MICBH",MICBH_NF:"MICBH_NF",MICBG:"MICBG",MICBG_BANNER:"MICBG_BANNER",MICB_BANNER_640X320:"MICB_BANNER_640X320",MICBC_BANNER_640X320:"MICBC_BANNER_640X320",MICBF_BANNER_640X320:"MICBF_BANNER_640X320",MICBF_V2_BANNER_640X320:"MICBF_V2_BANNER_640X320",MICB_BANNER_640X273:"MICB_BANNER_640X273",MICBC_BANNER_640X273:"MICBC_BANNER_640X273",MICBF_BANNER_640X273:"MICBF_BANNER_640X273",MICBF_V2_BANNER_640X273:"MICBF_V2_BANNER_640X273",MAIC:"MAIC",MIT:"MIT",ICDF:"ICDF",ICINSYNC:"ICINSYNC",IPDF:"IPDF",IPFOLLOWDF:"IPFOLLOWDF",IPINSYNC:"IPINSYNC",IPFOLLOWINSYNC:"IPFOLLOWINSYNC",IRDF:"IRDF",IRFOLLOWDF:"IRFOLLOWDF",DPR:"desktop-pre-roll",MPR:"mobile-pre-roll",APR:"app-pre-roll",DSP:"DSP"},COMPONENT_TYPE:{DATA_CENTER:"DATA_CENTER",EVENT_CENTER:"EVENT_CENTER",DI_CENTER:"DI_CENTER",QUEUE_MANAGER:"QUEUE_MANAGER",LAYOUT:"LAYOUT",PLAYER:"PLAYER",DESKTOP_PLAYER:"DESKTOP_PLAYER",VIDEO:"VIDEO",BANNER:"BANNER",BANNER_CLICK_AREA:"BANNER_CLICK_AREA",PLAY_BUTTON:"PLAY_BUTTON",REPLAY_BUTTON:"REPLAY_BUTTON",MUTE_BUTTON:"MUTE_BUTTON",VIDEO_END_WRAPPER:"VIDEO_END_WRAPPER",LEFT_TIME_COUNTER:"LEFT_TIME_COUNTER",MORE_BUTTON:"MORE_BUTTON",SKIP_BUTTON:"SKIP_BUTTON",CLOSE_AD_BUTTON:"CLOSE_AD_BUTTON",ICON_BUTTON:"ICON_BUTTON",TRIGGER_BUTTON:"TRIGGER_BUTTON",BANNER_IMG:"BANNER_IMG",AD_TITLE:"AD_TITLE",FOLLOW_CONTROL_WRAPPER:"FOLLOW_CONTROL_WRAPPER"},DESKTOP_COMPONENT:{SLIDER_BALL:"SLIDER_BALL",VOLUME_BUTTON:"VOLUME_BUTTON"},XML_TAG_NAME:{PLAYER_MODE:"playerMode",PLAYER_TYPE:"playerType",AUTO_PLAY:"autoPlay",BYPASS_BUTTON_SECOND:"bypassButtonSecond",HOLD_ON_SECOND:"holdonSecond",INSIGHTER_URL:"insighterURL",GUID:"guid",REQUEST_TITLE:"requestTitle",DEFAULT_URL:"defaultURL",CLICK_URL:"clickURL",PID:"PID",UID:"UID",TRACKING_CODE:"tracking_code",CHANNEL_ID:"channelID",VIDEOS:"videos",DURATION:"duration",COMPANION:"companion",CID:"cid",IMG_URL:"imgURL",LINK_URLS:"linkURLs",LINK_URL:"linkURL",FILESIZE:"filesize",TRIGGER_BUTTON:"TRIGGER_BUTTON"},RATE:{VIDEO_START_PLAY:.5,VIEWABILE:.5},PLAYER_NAME:{NATIVE_VIDEO_PLAYER:"nativeVideoPlayer",HYBRID_VIDEO_PLAYER:"hybridVideoPlayer"},VIDEO_TYPE:{CANVAS_VIDEO:"canvas_video",NATIVE_VIDEO:"native_video"},BANNER_TYPE:{DESKTOP:{DF:"DF",DF_390:"DF_390",NEW_DF:"NEW_DF",NEW_DF_435:"NEW_DF_435",INSYNC:"INSYNC",INSYNC_950:"INSYNC_950"}},ID:{BUTTON:{LOGO:"logo-button",MUTE:"mute-button",REPLAY:"replay-button",MORE:"more-button",PLAY:"play-button",CLOSE:"close-button",EXPAND:"expand-button",COLLAPSE:"collapse-button",GO_BACK:"go-back-button",TO_FRONT:"to-front-button",SKIP_AD:"skip-ad-button",SCALE:"scale-button"},FIXED_CONTAINER:"vertical-fixed-container",GSPLAYER:"gsplayer",NATIVE_VIDEO:"native-video",CANVAS_VIDEO:"canvas-video",VIDEO:"onead-video",VIDEO_CANVAS:"onead-video-canvas",VIDEO_POSTER:"video-poster",VIDEO_END_BACKGROUND:"video-end-background",VIDEO_CLICK_AREA:"video-click-area",BANNER:"onead-banner",BANNER_CLICK_AREA:"banner-click-area",AD_TITLE:"ad-title",EMOJI_CLICK_AREA:"emoji-click-area",MUTE_SENCER:"mute-button-sencer",MUTE_CANVAS:"mute-canvas",IMG:{BANNER:"banner-img",MORE:"more-img",REPLAY:"replay-img",SCALE:"scale-img",MUTE:"mute-img",UNMUTE:"unmute-img",LOGO:"logo-img",CLOSE:"close-img",VOLUME:"volume-img",LOADING:"loading-img",SKIP_AD:"skip-ad-img"},WRAPPER:{BANNER:"banner-wrapper",VIDEO_END:"video-end-wrapper",FADE:"fade-wrapper",BOTTOM:"bottom-wrapper",BACK_GROUND:"background-wrapper",UI_CONTROLLER:"ui-controller",SWIPER_EXTEND:"swiper-extend-wrapper",FLASH_BANNER:"flash-wrapper",ANIMATE_BANNER:"animate-wrapper",VPAID:"onead-vpaid-controls"},DESKTOP:{CONTROL:"control-wrapper",FOLLOW_CONTROL:"follow-control-wrapper",FOLLOW_CONTROL_BACKGROUND:"follow-control-background",AD_COUNT_DOWN:"ad-count-down",VOLUME_BUTTON:"volume-button",VOLUME_SLIDER_DIV:"volume-slider-div",VOLUME_SLIDER:"volume-slider",VOLUME_SLIDER_BACKGROUND:"volume-slider-background",VOLUME_SLIDER_BALL:"volume-slider-ball"}}},a.CAMPAIGN_TYPE={DIRECT:1,SPEED:2,PD:3,RON:4,PG:5,SPEED_AGENCY:6};!function(a){a[a.NONE=0]="NONE",a[a.BOTH=1]="BOTH",a[a.ONLY_REPLAY_BUTTON=2]="ONLY_REPLAY_BUTTON",a[a.ONLY_MORE_BUTTON=3]="ONLY_MORE_BUTTON"}(a.VideoEndWrapperDisplayEnum||(a.VideoEndWrapperDisplayEnum={})),a.VIDEO_SIZE={WIDTH_640:640,WIDTH_950:950},a.UID={TEEPR:1000069,JUKSY:1000070,SPORTS_VISION:1000092,APPLE_DAILY:1000001,EVERY_LITTLE_D:1000175,PUNCH_LINE:1000176,LOOK_IN:1000148,LA_VIE:1000280},a.PREVIEW_MODE={XML:"xml",JSON:"json"},a.PlayerParam={INITIAL:function(){return a.PlayerParam.PORTRAIT_HEIGHT=window.screen.height>window.screen.width?window.screen.height:window.screen.width,a.PlayerParam.PORTRAIT_WIDTH=window.screen.height<window.screen.width?window.screen.height:window.screen.width,a.PlayerParam.DEVICE_HEIGHT=window.parent.innerHeight,a.PlayerParam.GET_PARAMS()},PORTRAIT_HEIGHT:0,PORTRAIT_WIDTH:0,ELEMENT_TO_APPEND:"",IS_AUTO_PLAY:"",DEVICE_HEIGHT:0,GET_PARAMS:function(){return{portraitHeight:a.PlayerParam.PORTRAIT_HEIGHT,portraitWidth:a.PlayerParam.PORTRAIT_WIDTH,isAutoPlay:a.PlayerParam.IS_AUTO_PLAY,deviceHeight:a.PlayerParam.DEVICE_HEIGHT,element_to_append:a.PlayerParam.ELEMENT_TO_APPEND}}},a.Tracking={TRACKING_CODE:[]},a.Index={isip_index:-1},a.DEVICE={IOS:"iOS",ANDROID:"android",ANDROID_4:"android 4",ANDROID4_4:"android 4.4",ANDROID_5_0:"android 5.0"},a.IMG={
TO_FRONT_BTN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABQCAYAAADvCdDvAAAPDUlEQVR4AezVTU9jVRzHcRcMgw/GOEYSAji4ZMFeXEzmPSAvAPa4MS3pvSk3t00fROhDSwLhIZ1YOw4mxUJbYWGbsAB2s3OBJrpxx4YVTHng52/+OSdzbGjjxsRb70k++V9OzzDkfHPhLQC+/xD/EvwgPj+IH8TnB/GD+Pwg/wo/iM8P4gd5lx5Qn56KufeQ3qYB5aGh36T2BvQ06LMPOujT/i9B3qMv6EsKUZjyVKYSfacUTWrvBf1A28r39FzNkvLc2HthzG019edF+lZN0zMqqJmlMDnk0ix9Rn29EiRIf8L761cV6BOvBnmHttF76xea9GKQCnp3vaTHXgryFL2/Yl4K8gxd1t3dHa6vr3F1dSXz5uZGw+3tbTs5Y+p0jtq/l/7/2mdX/3A1qN8rQerosi4uLlAul+E4Dmzbxs7ODmq1KiqVH7G3t4cq1Wo1iHodtWpV1PWeoaqn+cyzJP92f39f9iqVCnZ3d1Hn3sHBgew3Gg0cHR2Jw8NDHB8f4+TkBKenp2i1WtCLYe8L9ZIeeSFIP/2EDuv8/Bxzc3MYHx/HxwMDGB4exvT0NEqlEvL5HJaXl5HL5ZDNZrC0tCS4J1KplHpOIZVOGXvqjGGJvl5cRDKZFIlEQuYi9/SZfD6Pzc1NbGxsyNza2pLnQqEgwc7OzvQbJVHa1m806oUgH9DP6LDS6TSGhobwPr+lNjg4iJmZGayvryMWiyEajXLG5RLpzaVSPB4n7svem0smfc6MIOfJDCKRM5mM/CyKfK1ls1msra3J23p5eYkO6w/61AtBHlETehmvfbPZxOeTkxKh3djYGAJfBbC6uooFZwGRSETiiPhrUbiui4UFfua4iEdjWEz+PYRcfFwimMwocv4bFYVvl9BxdAw9+cbIr7AuQca8EOSje94Q+WM8OzuL0dHR+4KIiYkJXriDRDKBYCAIy7IgbAshskIh9bWNcDgMN+JKgERCLly/XRKT8eRvFAMKnpepo5AZRYJoOs7KygqKxSI6rN/psWeDtF69wtTUFEZGRjoG+ZCePHkqv44ibgTz8/MIWZbMYDAoAoEAgjTPZwaSS3ZdRwJEGMNlDAkhEWzYtkW2hAy9Ps/P/mrn/GPqKs84PjX+o6stisAqLYVS2hQEKpSBFNKusS39AbQWSqFFVPBCQVpAXXV2azqWWDHbVFrTzBjbNdAKiNl0yYxLs3T/GDW1MbVVsT/qD9quWquyLPvn2fN5c/rm5u7cy8G6P871vsk37zmHy4G8n/s8z/s873vOjh2/Bl6oS0TW4np6eszx7t27w828RlTJvgXybwVSU10t06dPd4cxaZKNJ7UbauVZ/XZu37HdAOjq6pLOzk4jjrs6u+yxAQQ4x3oQx8gBSY/F8Xn97CPyCwUFMCA6wqpCBTQCfzggBPXb/AAkXvVXCWljY2PjArn5ppukIDOTwWAaiv82M56tW7dKe1u7tLW3SVtbm7S3txvZ482bLSA3EZu6Hu5St/eoxoZnuKeJD1jB448/jkvEpSGsiR5habgv4l84ID/xC5DXJgrklsmTZUVZmbz++usmqbvSvvnmG50MHDID19zcLM0BFb0q0Nxkj1tbWy2gzQpIe9VmPe6ULVu2yBPqmt742xty5swZnc5elNHRUXnnnXdk165d8shW4w5DhZUBjf8nXLExyS9AXpWQ9vXXX0cEcrvmJf19feLW+IYePnzYDGxjY6M0NTUZNSI9R5wHmgISCAQcSJuMNm1qNYP6/rFjrt/0Y3r9iZ1PmHt3bsEtWuHmiDFMSMIBSfCthXz77bcRgVSsXCknjh+XcI1vKdaDFZCzNDQ0SIP2zjG9owY9r1fdByidLnfLRx/hXSQsbKoGAAm2LgSg7u7ucC7ruCo+aoFUr1olJ0dGJFKj9kXpo6WlRTZu3Cj1qL5eNtZt5Nyorq5OVWv6HTot/vDDD2W8dujQIYBgTapNVsQsAn6YoP6+6mafAfHusn5WWChH3n5bxmnUmMigcUsWAkBqa2ukpqZG+1p68hFPMGiUSSjnBDQ+4fpwewiXR14UpgEkzg9AblX9aaJBfVpcnDzd0xPOX4dOoSkeYikAcCCsk3Xr1km1wuhWGCNYm4d2+fJleW73c05MMvEIkcTqtYAG9sckTDvuFyAJqqGJWgj6aVaWqcB6adSYhoeHzcABYu3atVJdVYWL8WwZxAb+XseWDu5jRUzCFRKTCO40P7ssgAx+FyDkIsuXL5c333zTM5TBwUEzgBUVlfKrbds8WwaWSK5DYtlwr5kUGAgIN1hbZ1wfJRk+63uXNSwh7Ysvvhg3MYxXt5WUlCQrdcb11ltviZeGKxwYGJCdO3fa2ZSHOMTkgMBN8HdVVU2VWt0a7stkws8uyz2oX7p0yTMQ6l2VlZXyNkHeo6UAnOYh/mBVDDquDiuwYmLANdZn0OrVq2X79u0AjD4gX3755bhAqGMBhEUrxKAcOXJEvq8GuAP9/bJmzRopW7FCqjTu8DeIP1yjR4BAWGoEIMdUU/wKhNW38S0kPh5ZKFjK+vXr5d1335WrbSwb9yuMch3kRYsWyV133SWrKyoMiApn8Cv0/AqIFQps4cKFTBIASS4SXRbyzwsXxgUSpy4LIFjK1KlTLRTcyHvvvXdVMPbv3y+VOtilOsilJSVmsBn08vJyIyCUlZXZHmDFxcVUhfl9gLgF9cm+BXL+/PlwQIgdwEAcA8UKOImJiVKtv3v06FGZaKNCsHfvXlO4LNIBLlYYDDRi0IEBGCAsW7ZMlixZYq4vXrxYiouKdM3lMSYObuWTYz4F4n2W5cgCsmA4VjBMRz/++GPx2pgdYRkMdJEOLgIEfWFhEVbCz6yAAQhcWklpieTl5bGWQvLoeyCvunxTvQMJsZQ41a16Trnkk08+EY+NYMy6B4OsAAotlEJVfkGBgcPPsAi0BMtYtFhXLUv1Z0UyT4E89NBDzBDdgJzwdy3r8mXPQIwcKPS4rCbNoD84cUIm2i5evGjWxxeULpC8/DwFkS8FCiM/L0/7fKxEISwyVrFQBQwEONb4WRy79NVXbjFkRJUYtQtUQHATlhFobJyQq3KbcrOLpLikWObNmyf5CgZ3hErUSnBPQKAvcWIMLm3OnDms3fP7rvuyfL0ewtTxuwDBMk6ePClX24hhPT1PGusACsrJyTHnQECl9I4KCwoBoiuHPw8PJJotxA1K/YYNcurUKfm+Gu6L9XpiQ44CwSUBJTjYI+INwNIz0uXhRx4GJi7L/0C8BnUXAcOzZXBvEk8v7YLmQ2TfDHhWVhZWoC4sHwhWuDJApaWlSWdXByABEv1LuG6act11cq9m56c8xgzyG7brUCb3Wlzkd9hVgoWkp6ebwQdCgYKhR7nZuWY3ZcfmDiAC5IfnshJuuEHaNICfPX1avDSyf0ruM2fOZEckO088u7hzo6Nmmw9QsBL6PCe2ACQ7N1tSUlLM2vq5c+d+eEH95uuvl3ot9H30wQeeXQ9ljbSUFFuUTE1LY5OCZ1dHTsNaOjvxb1f3NS8nxwb7zMxMA6StvRWLcreQaHZZefotffWVVzzDYIfiDLUKcpXgKnFqaio7U7xCYcWQLB0gNsgTW2bPni3TANLaYv4ezTsQn7usm665RtZXVhI3PLmaDrWCxFtusRXiK0AoSFKMxH0FHnjAk/v69NNPzUIVMObOnQsMLIbYovdJxmVZINEUQyhjhAVCIG/UWdXo559LpPb5Z5/Jg01NEj9lSnBGHwzEwECACTQH5OzZsxKpMTtjuykuCiDEE4BkZGRIslpca2tb6Awu+mMIFlKudaTjuoswXPtMv8kE/MnXXhsMA2ElwRaCLJQHH2w3VhCuMTO75557jIsChgEy21iIJOn9Ai0txJBo2Lno3ULQLH2qqlef0xjTWBPaTms86GhpIfA7jy38T83LrqFMTTLrKNZSZsxIYZ+ua0wZ+9eYvPDCC3LnnXdaGCqFkUEsUiBJsqnNWIjvXdZfJvo4AlbCznegYCnECkC8pg9qNugCVeKNNwZ/Plxl2FpKcDyZNWsWG9942BMXxjTWbBWiErx06VKsARdlE0USQoAkxCdQYSZT9z2QP3sGEqIMHUjcVxPbQnV5db76dccyguXmtmyAx0oAEmwpDDCV3fsb7zdT4w0as8jK01LTAGCgZM3NAgznJimMT4jX7UH3yQVclo+BJKhe9h5DwmfsWI3XuhcwnABvgzwCilGygSPTp00nv8B66Bl4YAHBwkidkWp+NinuR+zX8r3Lct25iIWww8M+0uZd3qGEWAvf8ISkBGRdmYKxcFKmpdAjwFhXhZKTzbOQZicjFQGXNuJrIOQhVXff7cFCvIvgHgoEhYAJjS3IWkiKwriNWKPHCkKvzbAWxO+Va350Pgpc1qAbkF9u20aAvXoYHlYbkQWDHCjEF9PfpmCSyVuM2wIMICwMxPP0bOSmbOL3oD7otrH57Jkz7BC8egje3ZcFEnotKSFBZazGxhIgEG+4Rhxi1sVrPmh+Tgx/TFCP9CwG6w8RAvb/FViwuwvdNRk/ybo541of1fX0CO2E6lY/ALlGdUAitJeHhtj8ZsDccccdEUUpnM/Nnz+f5dZQMXU1fW5uLqI4aPpslJ2tecXtWhZBcyTTSfz4OffjvqFasGCB2b34tG6M+I+zhTTMW4KOqCb5AQjq9bKb8ODBg2bfFC+e2bdvn9nQ1tfXx7k5Rvv/uF/6+/rNZwcHBmRoaFCGXxk2b/ZBPLjDM4K8m4Rnyvfs2aMJ3/PmZTJ7uPbMs+b6rt5e6dWeFwHsffFFGRoYVA3IwMBLcvDAAXPvl146KP84fDh4t3uk1zb9XXWtX4DUeXyUAJGjIHscdM502VU8b8LmA/ZM8YYhlllJ4Miquc41NrhRiuFefAFYAqAP/Rtc5358nnOaByD7/PQCsymqoxLdbZmfgKCZUQzlN359TWyGakD1lURHO626LxpepJyualE9r/qD6hnV7x097fS/c9Sr2uV85inVk06PejzoqXDHLvf5rfO3nlPtcY7Rbqfn/+lW7VQ1qSZF06vGM1XVqirVKtUKRyudfrmjCkerHD+9xOnRUmSPQ69NWPbvrVatdY5RpdOXqRaqFmPtsZfxuyumGJAYkJhiQGJAYooBiQGJKQYkBiSmGJCY/gsxCR35XYuCkwAAAABJRU5ErkJggg==",GO_BACK_BTN:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQwIDQwIj4gICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fZmlsdGVyMF9kKSI+ICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAgMzJjOC42OTYgMCAxNi03LjMwNCAxNi0xNlMyOC42OTYgMCAyMCAwIDQgNy4zMDQgNCAxNnM2Ljk1NyAxNiAxNiAxNnptLTkuMzkxLTE1LjY1MmMuMzQ4LS4zNDguNjk1LS4zNDggMS4wNDMtLjM0OHMuNjk2IDAgMS4wNDQuMzQ4bDYuMjYgNS45MTNWNi42MDljMC0uNjk2LjY5Ni0xLjM5MiAxLjM5Mi0xLjM5MnMxLjM5MS42OTYgMS4zOTEgMS4zOTJWMjIuMjZMMjggMTYuMzQ4Yy4zNDgtLjM0OCAxLjM5MS0uMzQ4IDEuNzQgMCAuMzQ3LjM0OC4zNDcgMS4zOTEgMCAxLjczOWwtOC4zNDkgOGMtLjM0Ny4zNDgtLjY5NS4zNDgtMS4wNDMuMzQ4cy0uNjk2IDAtMS4wNDQtLjM0OGwtOC4zNDctOGMtMS4wNDQtLjY5Ni0xLjA0NC0xLjM5MS0uMzQ4LTEuNzR6Ii8+ICAgIDwvZz4gICAgPGRlZnM+ICAgICAgICA8ZmlsdGVyIGlkPSJwcmVmaXhfX2ZpbHRlcjBfZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiB4PSIwIiB5PSIwIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+ICAgICAgICAgICAgPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4gICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz4gICAgICAgICAgICA8ZmVPZmZzZXQgZHk9IjQiLz4gICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIi8+ICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz4gICAgICAgICAgICA8ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz4gICAgICAgICAgICA8ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIHJlc3VsdD0ic2hhcGUiLz4gICAgICAgIDwvZmlsdGVyPiAgICA8L2RlZnM+PC9zdmc+",GO_BACK_BTN_FOR_SETN:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQwIDQwIj4KICAgIDxnIGZpbHRlcj0idXJsKCNwcmVmaXhfX2ZpbHRlcjBfZCkiPgogICAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIwIDMyYzguODM3IDAgMTYtNy4xNjMgMTYtMTZTMjguODM3IDAgMjAgMCA0IDcuMTYzIDQgMTZzNy4xNjMgMTYgMTYgMTZ6TTEzLjYgOC4xODZsLjcwNy43MDdMMjAgMTQuNTg2bDUuNjkzLTUuNjkzLjcwNy0uNzA3TDI3LjgxNCA5LjZsLS43MDcuNzA3TDIxLjQxNCAxNmw1LjY5MyA1LjY5My43MDcuNzA3LTEuNDE0IDEuNDE0LS43MDctLjcwN0wyMCAxNy40MTRsLTUuNjkzIDUuNjkzLS43MDcuNzA3LTEuNDE0LTEuNDE0LjcwNy0uNzA3TDE4LjU4NiAxNmwtNS42OTMtNS42OTMtLjcwNy0uNzA3TDEzLjYgOC4xODZ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz4KICAgIDwvZz4KICAgIDxkZWZzPgogICAgICAgIDxmaWx0ZXIgaWQ9InByZWZpeF9fZmlsdGVyMF9kIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHg9IjAiIHk9IjAiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeT0iNCIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIi8+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+CiAgICAgICAgICAgIDxmZUJsZW5kIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPgogICAgICAgICAgICA8ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIHJlc3VsdD0ic2hhcGUiLz4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KPC9zdmc+Cg=="},a.LAYOUTPOS={IR:"ir",IC:"ic"}}(Guoshi||(Guoshi={}));var Guoshi;!function(a){a.MOAT_EVENT={AdStarted:"AdStarted",quarterEvents:{Q0:"AdVideoStart",Q25:"AdVideoFirstQuartile",Q50:"AdVideoMidpoint",Q75:"AdVideoThirdQuartile",Q100:"AdVideoComplete"}};var b,c=function(){function c(a){this._eventCenter=a,this._dataCenter=a.dataCenter}return c.prototype.sendMoatTracking=function(){this._advId=this._dataCenter.advId?this._dataCenter.advId.toString():"",this._campId=this._dataCenter.campId?this._dataCenter.campId.toString():"",this._pmId=this._dataCenter.pmId?this._dataCenter.pmId.toString():"",this._uid=this._dataCenter.uid?this._dataCenter.uid.toString():"",this._pid=this._dataCenter.pid?this._dataCenter.pid.toString():"",this._dataCenter.isMoatUseDisplay&&this.sendMoatDisplay(),this._dataCenter.isMoatUseVideo&&!this._dataCenter.isOnlyBanner&&this.sendMoatVideo()},c.prototype.sendMoatDisplay=function(){var b,c=this._advId||"preview",d=this._campId||"preview",e=this._uid||"preview",f=this._pmId||"preview",g=this._pid||"preview",h=this._dataCenter.adFormat,i=this._dataCenter._isipIndex||"0";if(this._dataCenter.isVpaidParam){var j=document.getElementById("onead-layout"+i);b=j||document.getElementById("onead-layout")}else b=this._eventCenter.diGet(a.ONEAD_CONST.COMPONENT_TYPE.LAYOUT).element;var k=document.createElement("script");k.src="https://z.moatads.com/oneaddisplay549764601049/moatad.js#moatClientLevel1="+c+"&moatClientLevel2="+d+"&moatClientLevel3="+f+"&moatClientLevel4="+g+"&moatClientSlicer1="+h+"&moatClientSlicer2="+e,k.type="text/javascript",k.async=!0,b&&b.appendChild(k)},c.prototype.initMoatTracking=function(a,b,c,d,e){var f=document.createElement("script"),g=[];b={adData:{ids:b,duration:c,url:e},dispatchEvent:function(a){this.sendEvent?(g&&(g.push(a),a=g,g=!1),this.sendEvent(a)):g.push(a)}},c="_moatApi"+Math.floor(1e8*Math.random());var h,i;try{h=a.ownerDocument,i=h.defaultView||h.parentWindow}catch(a){h=document,i=window}return i[c]=b,f.type="text/javascript",a&&a.insertBefore(f,a.childNodes[0]||null),f.src="https://z.moatads.com/"+d+"/moatvideo.js#"+c,b},c.prototype.sendMoatVideo=function(){var c,d=this._advId||"preview",e=this._campId||"preview",f=this._uid||"preview",g=this._pmId||"preview",h=this._pid||"preview",i=this._dataCenter.adFormat||"preview",j=this._dataCenter.adTotalTime,k={level1:d,level2:e,level3:g,level4:h,slicer1:i,slicer2:f};switch(this._dataCenter.adFormat){case a.ONEAD_CONST.AD_FORMAT.MIRI:case a.ONEAD_CONST.AD_FORMAT.MIRTG:case a.ONEAD_CONST.AD_FORMAT.MIRT:case a.ONEAD_CONST.AD_FORMAT.MIRS:case a.ONEAD_CONST.AD_FORMAT.MIRF:case a.ONEAD_CONST.AD_FORMAT.MIRSV:case a.ONEAD_CONST.AD_FORMAT.MIRV:case a.ONEAD_CONST.AD_FORMAT.MIRSK:case a.ONEAD_CONST.AD_FORMAT.MIRTS:case a.ONEAD_CONST.AD_FORMAT.MIC:case a.ONEAD_CONST.AD_FORMAT.MIT:case a.ONEAD_CONST.AD_FORMAT.MICB:case a.ONEAD_CONST.AD_FORMAT.MICBC:case a.ONEAD_CONST.AD_FORMAT.MICBF:case a.ONEAD_CONST.AD_FORMAT.MICBG:case a.ONEAD_CONST.AD_FORMAT.MIRST:case a.ONEAD_CONST.AD_FORMAT.MPR:case a.ONEAD_CONST.AD_FORMAT.APR:c=this._dataCenter.isVpaidParam?document.getElementById(a.ONEAD_CONST.ID.WRAPPER.VPAID):this._eventCenter.diGet(a.ONEAD_CONST.COMPONENT_TYPE.PLAYER).element;break;case a.ONEAD_CONST.AD_FORMAT.LANDSCAPE:case a.ONEAD_CONST.AD_FORMAT.FRAME:case a.ONEAD_CONST.AD_FORMAT.MIRVB:case a.ONEAD_CONST.AD_FORMAT.MIRVB_V2:case a.ONEAD_CONST.AD_FORMAT.MICB_BANNER_640X320:case a.ONEAD_CONST.AD_FORMAT.MICBC_BANNER_640X320:case a.ONEAD_CONST.AD_FORMAT.MICBF_BANNER_640X320:case a.ONEAD_CONST.AD_FORMAT.MICB_BANNER_640X273:case a.ONEAD_CONST.AD_FORMAT.MICBC_BANNER_640X273:case a.ONEAD_CONST.AD_FORMAT.MICBF_BANNER_640X273:case a.ONEAD_CONST.AD_FORMAT.MICBF_V2_BANNER_640X320:case a.ONEAD_CONST.AD_FORMAT.MICBF_V2_BANNER_640X273:case a.ONEAD_CONST.AD_FORMAT.MICBG_BANNER:break;case a.ONEAD_CONST.AD_FORMAT.IPDF:case a.ONEAD_CONST.AD_FORMAT.IPFOLLOWDF:case a.ONEAD_CONST.AD_FORMAT.IPFOLLOWINSYNC:case a.ONEAD_CONST.AD_FORMAT.IPINSYNC:case a.ONEAD_CONST.AD_FORMAT.IRDF:case a.ONEAD_CONST.AD_FORMAT.IRFOLLOWDF:case a.ONEAD_CONST.AD_FORMAT.DPR:c=this._dataCenter.isVpaidParam?document.getElementById(a.ONEAD_CONST.ID.WRAPPER.VPAID):this._eventCenter.diGet(a.ONEAD_CONST.COMPONENT_TYPE.DESKTOP_PLAYER).element;break;default:c=this._eventCenter.diGet(a.ONEAD_CONST.COMPONENT_TYPE.PLAYER).element}c&&(b=this.initMoatTracking(c,k,j,"oneadvideo18355556312",""))},c.prototype.triggerMoatEvent=function(a){if(this._dataCenter.isMoatUseVideo&&!this._dataCenter.isOnlyBanner){var c=Math.round(10*this._dataCenter.volume)/10,d={type:a,adVolume:c};b.dispatchEvent(d)}},c}();a.Moat=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function b(b){var c=this;this._timeEventStateObj={},this._timeEventQueueArr=[],this._eventCenter=b,this._dataCenter=b.dataCenter,this._currentTime=-1,this._disabled=!1,this._sendQuarterEvent=!this._dataCenter.hasVPAIDAd,this._dataCenter.adFormat!==a.ONEAD_CONST.AD_FORMAT.MIRHTFVB?(this._dataCenter.isIabImpression?this._eventCenter.subscribe(a.ONEAD_EVENT.playerEvents.TIMEUPDATE,function(a){c._updateTime(a)}):this._eventCenter.subscribe(a.ONEAD_EVENT.events.IMPRESSION,function(){c._eventCenter.subscribe(a.ONEAD_EVENT.playerEvents.TIMEUPDATE,function(a){c._updateTime(a)})}),this._setupTimeEventObj(this._eventCenter.dataCenter.adTotalTime),this._sortTimeEventQueue()):this._eventCenter.subscribe(a.ONEAD_EVENT.playerEvents.TIMEUPDATE,function(a){c._updateTime(a)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_SKIP,function(){c._disabled=!0})}return b.prototype._createTimeEventObj=function(a,b){this._timeEventStateObj[a]={eventType:a,eventTiming:b}},b.prototype._setupTimeEventObj=function(b){var c=.25*b;this._createTimeEventObj(a.ONEAD_EVENT.viewEvents.VIEW_2S,2),this._createTimeEventObj(a.ONEAD_EVENT.viewEvents.VIEW_3S,3),this._createTimeEventObj(a.ONEAD_EVENT.viewEvents.VIEW_5S,5),this._createTimeEventObj(a.ONEAD_EVENT.viewEvents.VIEW_10S,10),this._createTimeEventObj(a.ONEAD_EVENT.viewEvents.VIEW_30S,30),this._sendQuarterEvent&&(this._createTimeEventObj(a.ONEAD_EVENT.quarterEvents.Q0,0),this._createTimeEventObj(a.ONEAD_EVENT.quarterEvents.Q25,c),this._createTimeEventObj(a.ONEAD_EVENT.quarterEvents.Q50,2*c),this._createTimeEventObj(a.ONEAD_EVENT.quarterEvents.Q75,3*c))},b.prototype._sortTimeEventQueue=function(){var a=this;this._timeEventQueueArr=Object.keys(this._timeEventStateObj).map(function(b){return a._timeEventStateObj[b]}).sort(function(a,b){return a.eventTiming-b.eventTiming})},b.prototype._updateTime=function(b){if(!(this._disabled||b<=0)){b<this._currentTime&&b<1&&this._eventCenter.dispatch(a.ONEAD_EVENT.events.UI_REPLAY),this._currentTime=b;var c;if(void 0!==this._timeEventQueueArr&&this._timeEventQueueArr.length>0)for(c=this._timeEventQueueArr[0];void 0!==c&&b>=c.eventTiming;)this._eventCenter.dispatch(c.eventType),this._timeEventQueueArr.shift(),c=this._timeEventQueueArr[0];this._dataCenter.isVast&&this._dataCenter.vastTrackerCenter.setProgress(b,this._sendQuarterEvent)}},b}();a.TimeEventHandler=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b;!function(a){a[a.PENDING=0]="PENDING",a[a.RESOLVED=1]="RESOLVED",a[a.REJECTED=2]="REJECTED"}(b=a.PromiseStatus||(a.PromiseStatus={}));var c=function(){function a(c){if(a._promiseArr.push(this),this._id=a._promiseArr.length,this._status=b.PENDING,this._value=void 0,this._onFulfilledActions=[],this._onFailedActions=[],this._resolve=this._resolve.bind(this),this._reject=this._reject.bind(this),c)try{c(this._resolve,this._reject)}catch(a){this._reject(a)}}return Object.defineProperty(a.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),a.prototype._resolve=function(a){var c=this;this._status===b.PENDING&&(this._status=b.RESOLVED,this._value=a,this._onFulfilledActions.forEach(function(a){a(c._value)}))},a.prototype._reject=function(a){var c=this;this._status===b.PENDING&&(this._status=b.REJECTED,this._value=a,this._onFailedActions.forEach(function(a){a(c._value)}))},a.prototype.then=function(c,d){var e=new a,f=function(a){try{var b=void 0;b=c?c(a):a,e._resolve(b)}catch(a){e._reject(a)}};switch(this.status){case b.PENDING:this._onFulfilledActions.push(f);break;case b.RESOLVED:f(this.value)}var g=function(a){try{var b=void 0;b=d?d(a):a,e._reject(b)}catch(a){e._reject(a)}};switch(this._status){case b.PENDING:this._onFailedActions.push(g);break;case b.REJECTED:g(this.value)}return e},a.prototype.catch=function(a){return this.then(void 0,a)},a.all=function(b){var c=b.length,d=0;return new a(function(a,e){b.forEach(function(b){b.then(function(b){++d===c&&a()}).catch(function(a){e(a)})})})},a._promiseArr=[],a}();a.Promise=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b={cat_car:"UA-110644961-7",cat_car_imp:"UA-110644961-8",cat_beauty_open:"UA-110644961-9",cat_beauty:"UA-110644961-10",cat_food:"UA-110644961-11",cat_smoke:"UA-110644961-12",cat_finance:"UA-110644961-13",cat_boutique:"UA-110644961-14",cat_test:"UA-113716508-1"},c={cat_car:"1780464078630932",cat_car_imp:"340510239693668",cat_beauty_open:"314581292349452",cat_beauty:"122215848483733",cat_food:"534347700237293",cat_smoke:"275472866279928",cat_finance:"148965562372922",cat_boutique:"1648911758513395",cat_test:"388656781545820"},d=function(){function a(a,b,c,d,e){var f=this;this.format=a,this.eventType=b,this.content=c,this.iframeDocument=d,this.eventCenter=e,this.eventCenter.subscribe(b,function(){f._executeTrackingCode()})}return a.prototype._executeTrackingCode=function(){if(this.content)switch(this.format){case"js":if(this.content.indexOf(".js")>-1){var a=this.iframeDocument.createElement("script");a.src=this.content,this.iframeDocument.head.appendChild(a)}break;case"pixel":this.content.indexOf("//")>-1&&((new Image).src=this.content.replace("[timestamp]",String(+new Date)));break;case"html":var b="<script>var isipIndex = "+this.eventCenter.dataCenter.isipIndex+";<\/script>";this.iframeDocument.writeln(b+this.content)}},a}();a.TrackingEvent=d;var e;!function(a){a.GTAG="GTAG",a.FB="FB"}(e||(e={}));var f=function(){function f(a,b){this._eventCenter=b,this._dataCenter=b.dataCenter,this._trackingEvents=[],this._trackingCodeSettings={},this._setupIframeForTrackingEvent(),this._dataCenter.isVast||!this._dataCenter.isJson?(this._lXml=a,this._parseXmlAndSetupTrackingEvents(this._lXml,this._iframe.contentDocument,this._eventCenter),this._setupGtagFbByCategory(this._lXml)):(this._lJson=a,this._parseJsonAndSetupTrackingEvents(this._lJson,this._iframe.contentDocument,this._eventCenter))}return f.prototype._setupIframeForTrackingEvent=function(){this._iframe=document.createElement("iframe"),this._iframe.style.display="none",document.body.appendChild(this._iframe);var a=this._iframe.contentDocument;this._iframe.onload=function(){a.writeln("<html><head></head><body></body></html>")}},f.prototype._parseJsonAndSetupTrackingEvents=function(a,b,c){var e;try{if("0"!==a.linkXml.Extensions.Extension[0].CustomEvents["-count"]&&(e=a.linkXml.Extensions.Extension[0].CustomEvents.CustomEvent),e){var f=void 0,g=void 0,h=void 0,i=void 0,j=e.length,k=void 0;if(void 0!==a.linkXml.Extensions.Extension[0].CustomEvents.CustomEvent[1])for(f=0;f<j;f++)k=e[f],g=k["-format"],h=k["-event"],i=k["#content"],this._trackingEvents.push(new d(g,h,i,b,c));else k=e,g=k["-format"],h=k["-event"],i=k["#content"],this._trackingEvents.push(new d(g,h,i,b,c))}}catch(a){}},f.prototype._parseXmlAndSetupTrackingEvents=function(a,b,c){var e,f,g,h,i,j=a.getElementsByTagName("CustomEvent"),k=j.length;for(e=0;e<k;e++)i=j[e],f=i.getAttribute("format"),g=i.getAttribute("event"),h=i.textContent,this._trackingEvents.push(new d(f,g,h,b,c))},f.getCategoryDataFromLXml=function(a){var b=a.getElementsByTagName("body")[0],c=b?b.textContent:"",d=c.split("cat_"),e=c,f=null;return d.length>1&&(f=("cat_"+d[1]).trim(),e=d[0]),{description:e,category:f}},f.prototype._setupGtagFbByCategory=function(a){this._cat=f.getCategoryDataFromLXml(a).category,this._insertFBPixel(),this._cat&&(this._gtagId=b[this._cat],this._fbPixelId=c[this._cat],this._gtagJsInjectPromise=this._insertGtag(this._gtagId),this._setupTrackingAccount(e.GTAG,this._gtagId),this._setupTrackingAccount(e.FB,this._fbPixelId))},f.prototype._insertGtag=function(b){return new a.Promise(function(a,c){b||c("no gaId");try{top.dataLayer=top.dataLayer||[],top.gtag=top.gtag||function(){top.window.dataLayer.push(arguments)},top.gtag("js",new Date);if([].slice.call(top.document.head.getElementsByTagName("script")).some(function(a){return a&&a.src.indexOf("www.googletagmanager.com/gtag/js")>-1}))setTimeout(function(){a()},0);else{var d=top.document.createElement("script");d.src="https://www.googletagmanager.com/gtag/js?id="+b,d.onload=a,top.document.head.appendChild(d)}}catch(a){c("error when init ga")}})},f.prototype._getFuncWrappedWithTryCatch=function(a,b){return function(){try{a()}catch(a){}}},f.prototype._insertFBPixel=function(){var a=Function("!function(f,b,e,v,n,t,s)\n                {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n                    n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n                    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n                    n.queue=[];t=b.createElement(e);t.async=!0;\n                    t.src=v;s=b.getElementsByTagName(e)[0];\n                s.parentNode.insertBefore(t,s)}(top, top.document,'script','https://connect.facebook.net/en_US/fbevents.js');");this._getFuncWrappedWithTryCatch(a,"error when init fb")()},f.prototype._setupTrackingAccount=function(a,b){switch(a){case e.GTAG:this._gtagJsInjectPromise||(this._gtagJsInjectPromise=this._insertGtag(b)),this._gtagJsInjectPromise.then(this._getFuncWrappedWithTryCatch(function(){top.gtag("config",b)},"err when setup ga"));break;case e.FB:this._getFuncWrappedWithTryCatch(Function("top.fbq('init', "+b+");"),"error when setup FB")()}},f.prototype.sendToOneadGtagFb=function(a){var b=this;this._cat&&(this._gtagJsInjectPromise&&this._gtagJsInjectPromise.then(function(){b._sendEventToTrackingPlatform(e.GTAG,b._gtagId,a)}),this._sendEventToTrackingPlatform(e.FB,this._fbPixelId,a))},f.prototype._sendEventToTrackingPlatform=function(a,b,c,d,f){var g,h,i=d||"ONEAD_"+c;switch(a){case e.GTAG:g=function(){h=f||{},h.send_to=b,top.gtag("event",i,h)},this._gtagJsInjectPromise.then(this._getFuncWrappedWithTryCatch(g,"error when send event to GA"));break;case e.FB:g=Function("top.fbq('trackSingleCustom', '"+b+"', '"+i+"')");this._getFuncWrappedWithTryCatch(g,"error when send to "+a)()}},f.prototype.addTrackingCodeAccount=function(a){var b,c=this,d=a.platform,e=a.id,f=a.events,g=this._eventCenter.eventCounter;this._trackingCodeSettings[d]||(this._trackingCodeSettings[d]={}),this._trackingCodeSettings[d][e]||(this._trackingCodeSettings[d][e]=[]),this._setupTrackingAccount(d,e),b=this._trackingCodeSettings[d][e],f.forEach(function(f){var h="string"==typeof f,i=h?f:f.event,j=h?f:f.customEventName;-1===b.indexOf(i)&&(b.push(i),c._eventCenter.subscribe(i,function(){c._sendEventToTrackingPlatform(d,e,i,j,a.eventOption)}),g[i]&&g[i]>0&&c._sendEventToTrackingPlatform(d,e,i,j,a.eventOption))})},f}();a.TrackingEventHandler=f}(Guoshi||(Guoshi={}));var Guoshi;!function(a){function b(a){var b=new d,c=setInterval(function(){var d=1;for(var e in a)if(!0===a[e].ready&&d++,d===a.length){clearInterval(c);var f=[];for(e in a)f.push(a[e].data);b.complete(f)}},10);return b}function c(a,b){var c=setInterval(function(){var d=0;for(var e in a)if(!0===a[e].ready&&d++,d===a.length){clearInterval(c);var f=[];for(e in a)f.push(a[e].data);b(f)}},10)}var d=function(){function a(){this.ready=!1,this.data={},this.on_complete=function(){}}return a.prototype.complete=function(a){this.ready=!0,this.data=a,this.on_complete(a)},a.prototype.then=function(a){this.on_complete=a},a}();a.Promises=d,a.All=b,a.ALL=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function a(){}return a.toParam=function(a){var b=/%20/g,c=[];if(void 0===a.length)for(var d in a)if(void 0!==a[d]&&a[d].constructor===Array)for(var e=0;e<a[d].length;e++){var f=a[d][e],g=f;isNaN(g)&&(g=encodeURIComponent(f)),c[c.length]=encodeURIComponent(d+"[]")+"="+g}else c[c.length]=encodeURIComponent(d)+"="+encodeURIComponent(a[d]);return c.join("&").replace(b,"+")},a.assign=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];if(null==b)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(b),f=0;f<c.length;f++){var g=c[f];if(null!=g)for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&e[h]!==g[h]&&("object"==typeof g[h]?(e[h]=e[h]||{},a.assign(e[h],g[h])):e[h]=g[h])}return e},a}();a.UniversalUtil=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function b(a){this._props=b.setPropertyReadOnly(a),this._state={}}return Object.defineProperty(b.prototype,"props",{get:function(){return this._props},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),b.prototype.setState=function(b){var c=this._state;null!=c&&(this._state=a.UniversalUtil.assign({},c,b))},b.setPropertyReadOnly=function(a){for(var b in a)Object.defineProperty(a,b,{writable:!1});return a},b}();a.BaseComponent=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c;!function(a){a.EXPANDED="expanded",a.COLLAPSED="collapsed",a.FAILED="failed",a.GEOM_UPDATE="geom-update",a.FOCUS_CHANGE="focus-change"}(c=b.SF_EVENT_STATUS||(b.SF_EVENT_STATUS={}));var d=function(a){function b(d){var e=this;if(b._instance)throw new Error("already new");e=a.call(this,d)||this,e._state={isExpanded:!1,isSlotInited:!1,currentWidth:0},e._sf=window.$sf;var f=e.sf.ext.geom();return e.sf.ext.register(f.win.w,Math.ceil(f.win.w*d.collapseWidth/d.collapseHeight),function(a,b){switch(a){case c.GEOM_UPDATE:if(!e.state.isSlotInited){var d=e._sf.ext.geom().self.w;e.state.currentWidth!==d&&(e.setState({currentWidth:d,isSlotInited:!0}),e.props.resizeCallback())}break;case c.EXPANDED:case c.COLLAPSED:e.props.resizeCallback();break;case c.FAILED:}}),b._instance=e,e}return __extends(b,a),b.getInstance=function(){if(!b._instance)throw new Error("no sf handler");return b._instance},Object.defineProperty(b.prototype,"sf",{get:function(){return this._sf},enumerable:!0,configurable:!0}),b}(a.BaseComponent);b.SafeFrameHandler=d}(b.handler||(b.handler={}))}(a.shareLib||(a.shareLib={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){function c(a,b,c){void 0===c&&(c="Error");try{a(b)}catch(a){}}function d(a){var b="";if("object"!=typeof a)throw"funcs not an array object";for(var c=0;c<a.length;c++)b+=a[c]();return b}function e(a){var b=a.toLowerCase();b=b.split("-");for(var c=b[0],d=1;d<b.length;d++){var e=b[d];c+=e[0].toUpperCase()+e.substr(1)}return c}function f(a,b){for(var c in b)"width"===c||"height"===c||"margin"===c||"text-align"===c?a.style.setProperty(c,b[c],"important"):a.style.setProperty(c,b[c])}function g(a){for(var b={},c=a.style,d=0;d<c.length;d++){var f=c[d];b[f]=c[e(f)]}return b}function h(a){var b={width:"100% ",height:"100%",left:"0",top:"0","max-width":"none",margin:"initial",padding:"initial",border:"0px",background:"none"};for(var c in b)a.style.setProperty(c,b[c],"important")}function i(b){var c,d=new a.Promises,e=new XMLHttpRequest,f=void 0===b.async||b.async,g=b.method||"get",h=b.parameters||null,i=b.success||function(){},j=b.url;if("string"!=typeof j)throw"AJAX url error";if(e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var a=new DOMParser;c=a.parseFromString(e.responseText,"text/xml"),d.complete(c),i(c)}},null!==h){h="";for(var k in b.parameters)h+=k+"="+b.parameters[k]+"&";h=h.substr(h,h.length-1)}return e.open(g,j,f),"post"===g&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(h),d}function j(a,b,c){i({url:a,method:"post",parameters:b,success:c})}function k(b,c){var d=document,e=new a.Promises,f=d.createElement("script");if(f.charset="utf-8",f.async=!0,f.type="text/javascript",f.src=b,f.onload=function(){e.complete(b+"_ready")},void 0===c){var g=d.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g.nextSibling)}else c.appendChild(f);return e}function l(b,c,d){var g=new a.Promises,h=d/1e3*24,i={};for(var j in c){var k=e(j),l=parseFloat(b.style[k]);i[j]=(parseFloat(c[j])-l)/h}var m=0,n=setInterval(function(){if(m>=h)return clearInterval(n),f(b,c),g.complete({}),!1;var a={};for(var d in c){var j=b.style[e(d)],k=parseFloat(j);a[d]=i[d]+k+"%"}f(b,a),m++},1e3/24);return g}function m(a,b,c,d){function e(a){return(f?/^\d+[A-Za-z]*$/:/^\d+$/).test(a)}var f=d&&d.lexicographical,g=d&&d.zeroExtend,h=a.split(c),i=b.split(c);if(!h.every(e)||!i.every(e))return NaN;if(g){for(;h.length<i.length;)h.push("0");for(;i.length<h.length;)i.push("0")}f||(h=h.map(Number),i=i.map(Number));for(var j=0;j<h.length;++j){if(i.length===j)return 1;if(h[j]!==i[j])return h[j]>i[j]?1:-1}return h.length!==i.length?-1:0}function n(a){var c=a.regularEx,d=a.user_agent,e=a.firstStr,f=a.splitStr,g=a.baseVersionStr,h=a.options||{extendZero:!0};c.exec(d);var i=c.lastIndex,j=d.indexOf(e),k=i-j-e.length,l=d.substr(j+e.length,k);return b.versionCompare(l,g,f,h)>=0}function o(a,b,c){var d=a.replace("http://","").replace("https://","").replace("www.","").split(/[\/?#]/)[0],e=new XMLHttpRequest,f=b.files_index.split("/"),g="//"+d+"/sites/default/files/video_converted/"+b.hash+"/"+f[f.length-1]+"_001.jpeg";e.open("HEAD",g,!0),e.onload=function(){var a;a=200==e.status,c(a)},e.send()}function p(a,b,c){if(void 0==a)return null;var d;b=b.toString(),c=c.toString();for(var e=0;e<a.length;e++){if(null!==a[e].creative.iframeResource||null!==a[e].creative.htmlResource){a[e].creative.width===b&&a[e].creative.height===c&&(d=a[e]);break}if(null!==a[e].creative.staticResource){if(-1!==a[e].creative.staticResource.indexOf(".zip")){d=a[e];break}a[e].creative.width===b&&a[e].creative.height===c&&(d=a[e])}}if(void 0===d)for(var e=0;e<a.length;e++)d=null!==a[e].creative.staticResource?a[e]:null;return d}function q(a,b){return{elements:[a.layout.container?a.layout.container:a.layout.underlayContainer],playMode:b.play_mode,playerType:b.player_type,hasBanner:!!a.layout.banner}}function r(a){switch(a.type){case"id":return document.getElementById(a.name);case"class":return document.getElementsByClassName(a.name)[0];case"tag":return document.getElementsByTagName(a.name)[0]}}function s(a){return null!==a&&"null"!==a&&""!==a&&void 0!==a&&a.indexOf("//")>-1}function t(a){return!a||void 0===a||void 0===a.closed||a.closed}function u(c,d,e,f){var g;if(c&&c.indexOf("//")>-1){if(d||e){if(d)return void window.location.assign(c);if(e)return void(g=window.open(c,"_parent"))}if(a.EnvInfo.getInstance().isMobile)c.match("^http")?(g=window.open(c,"_blank"),b.isPopupBlocked(g)&&(a.DataCenter.isSafeFrame||window.location.assign(c))):window.location.assign(c);else{if(f)return void window.open(c,"_blank");try{top.open(c,"_blank")}catch(a){window.open(c,"_blank")}}}}function v(a,b,c,d){void 0===b&&(b=10),void 0===c&&(c=!0),void 0===d&&(d=!0);var e,f=function(){e=null,d&&a()};return function(){e||(c&&a(),e=setTimeout(f,b))}}function w(a,b){var c=setInterval(function(){try{a(c)}catch(a){clearInterval(c)}},b)}function x(b){
if(b&&""!==b)return new a.Promise(function(a,c){var d=new XMLHttpRequest;d.open("GET",b,!0),d.addEventListener("load",function(){if(d.readyState===d.DONE&&200===d.status){var b=JSON.parse(d.response);a(b)}}),d.addEventListener("error",function(){return c("poster json request fail")}),d.send()})}function y(a){if(0!=a.length){var b=function(a){a.score=Math.abs(window.innerWidth-a.width)},c=function(a,b){return a.score-b.score},d=a;d.map(b),d.sort(c);return d[0].fileURL}}function z(a){return"null"===a||null===a||void 0===a||""===a?{valid:!1}:{valid:!0,value:a}}function A(a){return function(b){var c=b.getBoundingClientRect().top,d=b.getBoundingClientRect().bottom,e=b.clientHeight*a;return Math.abs(c)<=window.innerHeight-e&&d>=e}}function B(c){var d=a.EnvInfo.getInstance().scopeInfo,e=0,f=0,g=0;if(d.isBlockedBySameOriginPolicy){if(c.isSafeFrame&&c.hasSfGeomApi){var h=P.getInstance(),i=h.sf.ext.geom();e=i.self.t,f=i.self.t+i.self.h+i.self.b}}else{var j=top.document.body,k=top.document.documentElement,l=void 0;f=Math.max(j.scrollHeight,j.offsetHeight,j.clientHeight,k.scrollHeight,k.offsetHeight,k.clientHeight),c.playMode===a.ONEAD_CONST.PLAY_MODE.MIC?e=c.layout.container.parentElement.offsetTop:(l=c.slotElement,e=b.slotOffsetTop(l))}return g=e>0&&f>0?Math.round(e/f*100):0,{slotHeight:e,pageHeight:f,positionPercentage:g}}function C(a){for(var b=a.offsetTop,c=0;a!==top.document.body&&c<=10;)c++,a=a.offsetParent,b+=a.offsetTop;return void 0!=b&&null!=b||(b=0),b}function D(a,b,c){var d;return d=a<=c?a/b:1-(a-c)/b,(d>1||d<0)&&(d=d>1?1:0),d}function E(a){for(var b=0,c=0;a;)b+=a.offsetLeft-a.scrollLeft+a.clientLeft,c+=a.offsetTop-a.scrollTop+a.clientTop,a=a.offsetParent;return{x:b,y:c}}function F(a){var c={border:"0",margin:"0",padding:"0",display:"initial","margin-bottom":"0"};b.apply_css(a,c)}function G(a){for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if(b[c].getAttribute("name")===a)return b[c].getAttribute("content");return""}function H(a){var b=a.tagName;"DIV"==b?a.setAttribute("data-falcon-ad-container",""):"VIDEO"==b||"CANVAS"==b?a.setAttribute("data-falcon-ad-video",""):a.setAttribute("data-falcon-ad","")}function I(a,b,c){c=c||{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1]},new IntersectionObserver(b,c).observe(a)}function J(){var a=!1;return window.IntersectionObserver&&window.IntersectionObserverEntry&&(a=!0),a}function K(a,b,c,d,e){function f(a){return a.touches||a.originalEvent.touches}function g(b){a!=window&&b.preventDefault();var d=f(b)[0];l=d.clientX,m=d.clientY,c&&c(k,j)}function h(a){if(l&&m){var b=a.touches[0].clientX,c=a.touches[0].clientY,e=l-b,f=m-c;Math.abs(e)>Math.abs(f)?(e>.35&&(k.isRight=!1,k.isLeft=!0),e<-.35&&(k.isLeft=!1,k.isRight=!0)):f>.1?(k.isUp=!1,k.isDown=!0):(k.isUp=!0,k.isDown=!1),l=null,m=null,d&&d(k,j)}}function i(b){a!=window&&b.preventDefault(),e&&e(k,j)}a.addEventListener("touchstart",g,!1),a.addEventListener("touchmove",h,!1),a.addEventListener("touchend",i,!1);var j=b,k={isLeft:!1,isRight:!1,isUp:!1,isDown:!1},l=null,m=null}function L(a){a.css({display:"none","pointer-events":"none",opacity:"0"})}function M(a,b,c){return c.height=a.width/b.width*b.height|0,c.height>a.height&&(c.width=a.height/b.height*b.width|0,c.height=a.height),c}function N(a,b,c,d,e){return"inread"==a?(c.width=0!==b.offsetWidth?Math.min(b.offsetWidth,c.width||d.width):c.width||d.width,e=Math.min(c.width/d.width,c.height/d.height)):e=Math.min(c.width/d.width,c.width/d.height),e}function O(a,b,c){var d=new RegExp("(\\?|\\&)"+b+"=([^&?]+|)","g");return a=a.replace(d,"$1"+b+"="+encodeURIComponent(c))}var P=a.shareLib.handler.SafeFrameHandler;b.exec_callback=c,b.exec_array_of_functions=d,b.to_js_style=e,b.apply_css=f,b.get_css=g,b.applyImgInitCss=h,b.ajax=i,b.post=j,b.get_script=k,b.animate=l,b.versionCompare=m,b.isAboveBaseVersion=n,b.checkSpriteSheetFileExist=o,b.vastBannerSelector=p,b.getMobileSizeCheckerParams=q,b.getCustomClientElement=r,b.checkUrlIsAvaliable=s,b.isPopupBlocked=t,b.openUrl=u,b.throttle=v,b.setAutoClearInterval=w,b.getJSON=x,b.getVastUrl=y,b.isValid=z,b.getSlotCheckFunctionWithPercentage=A,b.checkSlotWithRateOfViewable=b.getSlotCheckFunctionWithPercentage(a.ONEAD_CONST.RATE.VIEWABILE),b.checkSlotWithRateOfVideoStart=b.getSlotCheckFunctionWithPercentage(a.ONEAD_CONST.RATE.VIDEO_START_PLAY),b.pageHeightInformation=B,b.slotOffsetTop=C,b.getElementExposureRatio=D,b.getPosition=E,b.setBaseStyles=F,b.getMeta=G,b.setPixnetMeasure=H,b.createObserver=I,b.checkObserverSupport=J,b.slideDirection=K,b.thoroughHideElement=L,b.computeWrapperSize=M,b.setIframeScale=N,b.assignEventKeyValue=O}(a.Util||(a.Util={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=a.report.ERROR_REPORT,c=function(){function c(a,b){this._data=b,this._eventCenter=a,this._dataCenter=a.dataCenter,this._dataCenter.setTaskCenter(this)}return c.prototype.setup=function(b,c){switch(this._reporting=this._eventCenter.dataCenter.reporting,this._timeEventHandler=new a.TimeEventHandler(this._eventCenter),this._dataCenter.adFormat){case a.ONEAD_CONST.AD_FORMAT.MIRT:case a.ONEAD_CONST.AD_FORMAT.MIRTG:case a.ONEAD_CONST.AD_FORMAT.MIRB:case a.ONEAD_CONST.AD_FORMAT.DPR:case a.ONEAD_CONST.AD_FORMAT.MPR:case a.ONEAD_CONST.AD_FORMAT.APR:break;default:this._moat=new a.Moat(this._eventCenter)}this._setupEventSendLimit(),this._setupEventListeners(),a.EnvInfo.getInstance().isMobile||!this._dataCenter.isJson||this._dataCenter.isRon?this._source=b:this._source=b.xml,void 0!==this._source&&(this._trackingEventHandler=new a.TrackingEventHandler(this._source,this._eventCenter),this._dataCenter.trackingEventHandler=this._trackingEventHandler)},c.prototype.setupVastTrackerCenterForVideo=function(a){this._vastTrackerCenter=a},c.prototype.setupVastTrackerCenterForCompanion=function(a){this._vastTrackerOfCompanion=a},c.prototype._setupEventSendLimit=function(){this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.events.IMPRESSION,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.quarterEvents.Q0,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.quarterEvents.Q25,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.quarterEvents.Q50,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.quarterEvents.Q100,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.viewEvents.VIEW_2S,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.viewEvents.VIEW_3S,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.viewEvents.VIEW_5S,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.viewEvents.VIEW_10S,limit:1}),this._eventCenter.setupEventSendLimitTimes({eventType:a.ONEAD_EVENT.viewEvents.VIEW_30S,limit:1})},c.prototype._setupEventListeners=function(){var b=this;this._eventCenter.subscribe(a.ONEAD_EVENT.events.IMPRESSION,function(){var c=a.ONEAD_EVENT.events.IMPRESSION;switch(b._dataCenter.isEventImpSend=!0,b._reporting.sendTrackingEvent(c),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,c),b._reporting.sendThirdPartyTracking(b._eventCenter.dataCenter.trackingCodes),b.adSizeChecker(),b._trackingEventHandler&&b._trackingEventHandler.sendToOneadGtagFb(c),b._dataCenter.adFormat){case a.ONEAD_CONST.AD_FORMAT.MIRT:case a.ONEAD_CONST.AD_FORMAT.MIRTG:case a.ONEAD_CONST.AD_FORMAT.MIRB:case a.ONEAD_CONST.AD_FORMAT.DPR:case a.ONEAD_CONST.AD_FORMAT.MPR:case a.ONEAD_CONST.AD_FORMAT.APR:break;default:b.checkAndSendIas(),b._dataCenter.isIabImpression||b._eventCenter.dataCenter.isVpaidParam||(b._eventCenter.dataCenter.isMoatUseDisplay||b._eventCenter.dataCenter.isMoatUseVideo)&&b._moat.sendMoatTracking()}if(b._dataCenter.isIabImpression||b._moat.triggerMoatEvent(a.MOAT_EVENT.AdStarted),b._dataCenter.isIabImpression||b._dataCenter.adFormat===a.ONEAD_CONST.AD_FORMAT.MIRHTFVB||b.subscribeTimeEvent(),b._dataCenter.dfpConfig)b._reporting.sendHttpRequestToServer(b._dataCenter.dfpConfig.googleViewPixel);else if(!b._dataCenter.isAMP){var d=b._dataCenter.oneadObj&&b._dataCenter.oneadObj.pub,e=d&&d.google_view_pixel;b._reporting.sendHttpRequestToServer(e)}}),this._eventCenter.subscribe(a.ONEAD_EVENT.quarterEvents.Q0,function(){b._dataCenter.isIabImpression&&b._moat.triggerMoatEvent(a.MOAT_EVENT.AdStarted)}),this._eventCenter.subscribe(a.ONEAD_EVENT.quarterEvents.Q50,function(){b._trackingEventHandler&&b._trackingEventHandler.sendToOneadGtagFb(a.ONEAD_EVENT.quarterEvents.Q50)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.CREATE_VIEW,function(){if(b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.CREATE_VIEW),b._dataCenter.isIabImpression)switch(b.subscribeTimeEvent(),b._dataCenter.adFormat){case a.ONEAD_CONST.AD_FORMAT.MIRT:case a.ONEAD_CONST.AD_FORMAT.MIRTG:case a.ONEAD_CONST.AD_FORMAT.MIRB:case a.ONEAD_CONST.AD_FORMAT.DPR:case a.ONEAD_CONST.AD_FORMAT.MPR:case a.ONEAD_CONST.AD_FORMAT.APR:break;default:b.checkAndSendIas(),b._eventCenter.dataCenter.isVpaidParam||(b._eventCenter.dataCenter.isMoatUseDisplay||b._eventCenter.dataCenter.isMoatUseVideo)&&b._moat.sendMoatTracking()}b._dataCenter.adFormat===a.ONEAD_CONST.AD_FORMAT.MIRHTFVB&&b.subscribeTimeEvent(),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.CREATE_VIEW)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_UNMUTE,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_UNMUTE),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.UI_UNMUTE)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_MUTE,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_MUTE),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.UI_MUTE)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.BANNER_CLICK,function(c){if(b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.BANNER_CLICK,c),"string"==typeof c)b._eventCenter.dispatchLater(a.ONEAD_EVENT.crossChannelEvent.CLICK,c);else{if("number"==typeof c.url){var d=void 0;d=b._dataCenter.playerType==a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE||b._dataCenter.playerType==a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X320||b._dataCenter.playerType==a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X273?1:0,c.url=b._dataCenter.bannerDataInXml[d].linkUrls[c.url]}b._eventCenter.dispatchLater(a.ONEAD_EVENT.crossChannelEvent.CLICK,c.url)}}),this._eventCenter.subscribe(a.ONEAD_EVENT.crossChannelEvent.CLICK,function(c){if(b._dataCenter.dfpConfig)b._reporting.sendHttpRequestToServer(b._dataCenter.dfpConfig.googleViewClick);else if(!b._dataCenter.isAMP){var d=b._dataCenter.oneadObj&&b._dataCenter.oneadObj.pub,e=d&&d.google_view_click;b._reporting.sendHttpRequestToServer(e)}setTimeout(function(){a.Util.openUrl(c,b._dataCenter.isUseAssign,b._dataCenter.isUseParent)},250)},-1),this._eventCenter.subscribe(a.ONEAD_EVENT.events.VIDEO_CLICK,function(c){b._dataCenter.adFormat==a.ONEAD_CONST.AD_FORMAT.MIRT?(a.Util.checkUrlIsAvaliable(c)&&b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.VIDEO_CLICK),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.VIDEO_CLICK),b._eventCenter.dispatchLater(a.ONEAD_EVENT.crossChannelEvent.CLICK,c)):(b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.VIDEO_CLICK),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.VIDEO_CLICK),b._eventCenter.dispatchLater(a.ONEAD_EVENT.crossChannelEvent.CLICK,c))}),this._eventCenter.subscribe(a.ONEAD_EVENT.crossChannelEvent.CLICK,function(c){var d=a.ONEAD_EVENT.crossChannelEvent.CLICK;b._trackingEventHandler&&b._trackingEventHandler.sendToOneadGtagFb(d),a.EnvInfo.getInstance().isMobile||b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.crossChannelEvent.CLICK)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_REPLAY,function(){switch(b._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.STORY:case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER_GALLERY:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_GALLERY:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2:break;default:"mobile-intop"!==b._data.playMode&&(b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_REPLAY),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.UI_REPLAY))}}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_MORE,function(c){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_MORE),b._eventCenter.dispatchLater(a.ONEAD_EVENT.crossChannelEvent.CLICK,c),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.VIDEO_CLICK)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_SKIP,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_SKIP),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.UI_SKIP)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_EXPAND,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_EXPAND),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.UI_EXPAND)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_MINIMIZE,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.UI_MINIMIZE),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.UI_MINIMIZE)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.VIEWABILITY,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.VIEWABILITY),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.VIEWABILITY)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.DISP,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.DISP),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.DISP)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.TRIGGER_BUTTON,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.TRIGGER_BUTTON),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.TRIGGER_BUTTON)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.COMPVIEW,function(){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.COMPVIEW),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.COMPVIEW)}),this._eventCenter.subscribe(a.ONEAD_EVENT.events.ENGAGEMENT,function(c){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.ENGAGEMENT,c),b._eventCenter.dispatchLater(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,a.ONEAD_EVENT.events.ENGAGEMENT)}),this._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.SEND_EVENT_ENG,function(c){b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.ENGAGEMENT,c.engLabel)}),this._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.SEND_EVENT,function(c){switch(c.eventName){case a.ONEAD_EVENT.events.VIDEO_CLICK:b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.VIDEO_CLICK,a.ONEAD_EVENT.events.VIDEO_CLICK);break;case a.ONEAD_EVENT.events.BANNER_CLICK:b._reporting.sendTrackingEvent(a.ONEAD_EVENT.events.BANNER_CLICK,a.ONEAD_EVENT.events.BANNER_CLICK);break;case a.ONEAD_EVENT.quarterEvents.Q100:b._eventCenter.dispatchLater(a.ONEAD_EVENT.quarterEvents.Q100)}})},c.prototype.checkAndSendIas=function(){if(this._dataCenter.isCm){var b,c=this._data,d=void 0;if(d=this._eventCenter.diGet(a.ONEAD_CONST.COMPONENT_TYPE.LAYOUT).element,a.DataCenter.isSafeFrame)b=d;else switch(this._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:b=top.document.head;break;case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER:var e=void 0,f=void 0;e=d.parentNode,b=e,f=d.parentNode.parentNode,f&&(b=f);break;default:b=d}var g,h=c.adv_id||"null",i=(0!==c.camp_id?c.camp_id:c.pid)||"null",j=c.uid||"null",k=c.pm_id||"null",l=this._dataCenter.adFormat||"null";g=encodeURIComponent(this._dataCenter.locationHref);var m=function(a){if(""!==a){var c=document.createElement("script");c.src="https://pixel.adsafeprotected.com/jload?anId="+a+"&advId="+h+"&campId="+i+"&pubId="+j+"&placementId="+k+"&chanId="+l+"&adsafe_par&bidurl="+g,c.async=!0,b.appendChild(c)}};["927465",this._dataCenter.cmCustomId].forEach(function(a){m(a)})}},c.prototype._sendViewRelateReports=function(b){this._reporting.sendTrackingEvent(b),"view30s"==b&&(this._dataCenter.duration<30||this._eventCenter.dispatch(a.ONEAD_EVENT.events.COMPVIEW)),this._eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,b)},c.prototype._sendQuarterRelateReports=function(b){this._reporting.sendTrackingEvent(b),"q100"==b&&this._dataCenter.duration<30&&this._eventCenter.dispatch(a.ONEAD_EVENT.events.COMPVIEW),this._eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.SEND_TRACKING_EVENT,b)},c.prototype.subscribeTimeEvent=function(){var b=this;for(var c in a.ONEAD_EVENT.viewEvents)this._eventCenter.subscribe(a.ONEAD_EVENT.viewEvents[c],this._sendViewRelateReports.bind(this));var d=this;for(var e in a.ONEAD_EVENT.quarterEvents)!function(c){d._eventCenter.subscribe(a.ONEAD_EVENT.quarterEvents[c],function(d){b._sendQuarterRelateReports(d),b._moat.triggerMoatEvent(a.MOAT_EVENT.quarterEvents[c])})}(e)},c.prototype.adSizeChecker=function(){if(!this._dataCenter.isVpaidParam){var c=this._dataCenter.playMode!==a.ONEAD_CONST.PLAY_MODE.MIC?this._dataCenter.slotElement:this._dataCenter.layout.element,d=c.getBoundingClientRect().width||c.offsetWidth||c.clientWidth,e=c.getBoundingClientRect().height||c.offsetHeight||c.clientHeight;if(d<100||e<40){var f='"descType":"'+this._dataCenter.adFormat+'"',g=f+', "detectedSize":"'+d+"x"+e+'", "uid":"'+this._dataCenter.uid+'", "pid":"'+this._dataCenter.pid+'"';switch(this._dataCenter.playMode){case a.ONEAD_CONST.PLAY_MODE.IC:this._eventCenter.sendErrorReport(b.AD_IC_SIZE_ERROR,g);break;case a.ONEAD_CONST.PLAY_MODE.IN_STREAM:this._eventCenter.sendErrorReport(b.AD_IP_SIZE_ERROR,g);break;case a.ONEAD_CONST.PLAY_MODE.IR:this._eventCenter.sendErrorReport(b.AD_IR_SIZE_ERROR,g);break;case a.ONEAD_CONST.PLAY_MODE.MIR:this._eventCenter.sendErrorReport(b.AD_MIR_SIZE_ERROR,g);break;case a.ONEAD_CONST.PLAY_MODE.MIT:this._eventCenter.sendErrorReport(b.AD_MIT_SIZE_ERROR,g);break;case a.ONEAD_CONST.PLAY_MODE.MIC:this._eventCenter.sendErrorReport(b.AD_MIC_SIZE_ERROR,g);break;case a.ONEAD_CONST.PLAY_MODE.MAIR:this._eventCenter.sendErrorReport(b.AD_MAIR_SIZE_ERROR,g)}}}},c}();a.TaskCenter=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b;!function(a){a[a.NONE=0]="NONE",a[a.NO_RESTRICT=1]="NO_RESTRICT",a[a.TOP=2]="TOP",a[a.MID=3]="MID",a[a.BOT=4]="BOT",a[a.LEFT=5]="LEFT",a[a.RIGHT=6]="RIGHT"}(b=a.POS||(a.POS={}));var c;!function(a){a[a.ABSOLUTE=0]="ABSOLUTE",a[a.RELATIVE=1]="RELATIVE"}(c=a.ValueSetEnum||(a.ValueSetEnum={}));var d=function(){function d(b,c){this.isMobile=a.EnvInfo.getInstance().isMobile,this.eventCenter=b,this.dataCenter=b.dataCenter,this.layoutContainer=c,this._layoutCustomSetupFuncArr=[],this._isDF=this.dataCenter.isDF,this._state={containerScale:1,containerTransformOrigin:"",buttonInfo:this.dataCenter.triggerButtonSource,posData:{x:0,y:0},posCss:{},posInfo:{},isVisibilityControlledInside:!0},this.setState({posInfo:d.getPosInfo(this.state.buttonInfo.position)})}return d.getPosInfo=function(a){var c=a.indexOf("left")>-1&&b.LEFT,d=a.indexOf("right")>-1&&b.RIGHT,e=a.indexOf("top")>-1&&b.TOP,f=a.indexOf("mid")>-1&&b.MID,g=a.indexOf("bot")>-1&&b.BOT;return{posX:c||d,posY:e||f||g,isLeft:c,isRight:d}},d.createButtonImage=function(a){var b=new Image;return b.id="trigger-button-img",b.src=a,b.style.setProperty("max-width","initial","important"),b.style.setProperty("max-height","initial","important"),b.style.setProperty("width","auto"),b.style.setProperty("height","auto"),b},d.getTransformOriginStr=function(a){var c;switch(a.posY){case b.TOP:case b.MID:c=a.isLeft?"top left":"top right";break;case b.BOT:c=a.isLeft?"bottom left":"bottom right"}return c},d.getPosCssByPossData=function(a,b){return b?{top:a.y+"px",left:b.isLeft?a.x+"px":"",right:b.isRight?a.x+"px":""}:{top:a.y>0?a.y+"px":"",bottom:a.y<0?Math.abs(a.y)+"px":"",left:a.x>0?a.x+"px":"",right:a.x<0?""+Math.abs(a.x):""}},d.prototype.mobileSetup=function(a,b){a&&(this.targetInVideo=!0,this.refElement=a,b&&(this.player=b)),this.setup()},d.prototype.desktopSetup=function(a){this.refElement=a,this.player=a,a.videoPlayer.hasVideo&&(this.targetInVideo=!0),(a.isOnlyBanner||a.isLandScape||a.isJsSource)&&(this.targetInVideo=!1),this.setup()},d.prototype.setup=function(){var b,c,d=this;b=this.buildStructure(),c=new a.Promise(function(b,c){d.eventCenter.subscribe(a.ONEAD_EVENT.events.IMPRESSION,b)}),a.Promise.all([b,c]).then(function(){d.computePosData(),d.computePosCssAndApplyStyle(),d.state.isVisibilityControlledInside&&d.show(!0),d.executeAnimation(700)}),this.bindListener(),this.show(!1)},d.prototype.buildStructure=function(){var b=this;if(this.container=document.createElement("div"),this.container.id="trigger-button",this.icon=d.createButtonImage(this.state.buttonInfo.iconUrl),this.container.appendChild(this.icon),this.state.buttonInfo.clickUrl.match("^tel:")){var c=document.createElement("a");c.href=this.state.buttonInfo.clickUrl,this.container.appendChild(c),c.appendChild(this.icon)}return new a.Promise(function(a,c){b.icon.onload=a,b.icon.onerror=c})},d.prototype.computePosData=function(){this.computeDefaultPosData(),this.useLayoutCustomPosData(),this.useCustomPosData()},d.prototype.computeDefaultPosData=function(){var a;this.setTransform(this.state.posInfo),a=this.isMobile?this.getPosDataForMobile(this.state.posInfo):this.getPosDataForDesktop(this.state.posInfo),this.setState({posData:a})},d.prototype.useLayoutCustomPosData=function(){this._layoutCustomSetupFuncArr.length>0&&this._layoutCustomSetupFuncArr.forEach(function(a){a()})},d.prototype.computePosCssAndApplyStyle=function(){var b=d.getPosCssByPossData(this.state.posData,this.state.posInfo);this.setState({posCss:b}),this.container.style.setProperty("transform-origin",this.state.containerTransformOrigin),this.icon.style.setProperty("background-color","transparent","important"),a.Util.apply_css(this.container,__assign({"max-width":"68px",position:"absolute",overflow:"hidden","background-color":"rgba(25, 25, 25, 0.4)","border-radius":"99em","z-index":"999999999",cursor:"pointer",transition:"max-width 0.7s ease-in-out","-webkit-transition":"max-width 0.7s ease-in-out",transform:"scale("+this.state.containerScale+")","-webkit-transform":"scale("+this.state.containerScale+")"},this.state.posCss))},d.prototype.getPosDataForMobile=function(c){var d,e,f,g=this.icon.clientHeight*this.state.containerScale;switch(f=this.targetInVideo?this.refElement:this.layoutContainer,d=10,c.posY){case b.TOP:e=10;break;case b.MID:e=.5*(f.offsetHeight-g);break;case b.BOT:e=f.offsetHeight-78}return this.targetInVideo&&(this.dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.SCROLLER?e+=.342465*this.layoutContainer.offsetHeight:e+=this.refElement.offsetTop),{x:d,y:e}},d.prototype.getPosDataForDesktop=function(c){var d,e,f=0,g=0,h=this.icon.clientHeight*this.state.containerScale;switch(e=this.targetInVideo?this.refElement.videoPlayer._element:this.layoutContainer,this.dataCenter.videoSize.width){case a.VIDEO_SIZE.WIDTH_640:f=7,!this._isDF&&c.isRight&&(f+=this.layoutContainer.offsetWidth-this.refElement.videoPlayer._element.offsetWidth),d=20;break;case a.VIDEO_SIZE.WIDTH_950:f=20,d=15}switch(c.posY){case b.TOP:g=d;break;case b.MID:g=.5*(e.offsetHeight-h);break;case b.BOT:g=e.offsetHeight-this.icon.clientHeight-d}return{x:f,y:g}},d.prototype.setTransform=function(b){var c;if(this.isMobile)c=this.layoutContainer.offsetWidth/640;else switch(this.dataCenter.videoSize.width){case a.VIDEO_SIZE.WIDTH_640:c=.8158;break;default:c=1}this.setState({containerScale:c,containerTransformOrigin:d.getTransformOriginStr(b)})},d.prototype.bindListener=function(){var b=this;this.eventCenter.subscribe(a.ONEAD_EVENT.playerEvents.TIMEUPDATE,function(a){b.state.isVisibilityControlledInside&&a<1&&b.show(!0)}),this.eventCenter.subscribe(a.ONEAD_EVENT.playerEvents.VIDEOEND,function(){return b.show(!1)}),this.container.addEventListener("click",function(c){b.player&&(b.isMobile?(b.player.pause(),b.player.mute(!0)):b.player.mute()),b.eventCenter.dispatch(a.ONEAD_EVENT.events.TRIGGER_BUTTON),b.state.buttonInfo.clickUrl.match("^tel:")||a.Util.openUrl(b.state.buttonInfo.clickUrl,b.dataCenter.isUseAssign,b.dataCenter.isUseParent),c.stopPropagation()})},d.prototype.executeAnimation=function(b){var c=this;b||(b=0),setTimeout(function(){a.Util.apply_css(c.container,{"max-width":"190px"})},b)},d.prototype.render=function(){return this.container},d.prototype.show=function(b){a.Util.apply_css(this.container,{visibility:b?"":"hidden"})},d.prototype.useCustomPosData=function(){this.state.buttonInfo.customPosData&&this.setState({posData:this.state.buttonInfo.customPosData})},d.prototype.setVisibilityOutside=function(){this.setState({isVisibilityControlledInside:!1})},d.prototype.setLayoutCustomPosData=function(a,d,e){var f=this;void 0===e&&(e=c.RELATIVE);var g=a.x===b.NO_RESTRICT||a.x===this._state.posInfo.posX,h=a.y===b.NO_RESTRICT||a.y===this._state.posInfo.posY;g&&h&&this._layoutCustomSetupFuncArr.push(function(){var a,b,g={};if(void 0!==d.x){switch(e){case c.RELATIVE:a=f._state.posData.x+d.x;break;case c.ABSOLUTE:a=d.x}g.x=a}if(void 0!==d.y){switch(e){case c.RELATIVE:b=f._state.posData.y+d.y;break;case c.ABSOLUTE:b=d.y}g.y=b}f.setState({posData:g})})},d.prototype.setState=function(b){var c,d=this._state;null!=d&&(c=a.UniversalUtil.assign({},d,b),this._state=c)},Object.defineProperty(d.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"posInfo",{get:function(){return this.state.posInfo},enumerable:!0,configurable:!0}),d}();a.TriggerButton=d}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b,c=a.report.Reporting;!function(a){a.HIDE_CONTROL_WRAPPER="hideControlWrapper",a.HIDE_VOLUME_BUTTON="hideVolumeButton",a.HIDE_PLAY_BUTTON="hidePlayButton",a.HIDE_REPLAY_MORE="hideReplayMore",a.LANDSCAPE="landscape",a.MIRV_TIMER="mirvTimer",a.ONLY_BANNER="onlybanner",a.CROSS_BANNER="crossbanner",a.USE_FIRST_BANNER="useFirstBanner",a.USE_OLD_STYLE_PLAY_BUTTON="useOldStylePlayButton",a.ONLY_VIDEO="onlyVideo",a.LIFT_BANNER="liftBanner",a.IOS_USE_NATIVE_VIDEO="iosUseNativeVideo",a.USE_SPEAKER_MUTE_BUTTON="useSpeakerMuteButton",a.USE_GIF_MUTE_BUTTON="useGifMuteButton",a.MOAT_DISPLAY="moatUseDisplay",a.MOAT_VIDEO="moatUseVideo",a.USE_TOUCH_EVENT_LISTENER="useTouchEventListener",a.OPEN_URL_WITH_ASSIGN="openUrlWithAssign",a.LISTEN_CLICK_ON_BANNER_IFRAME="listenClickOnBannerIframe",a.DEFAULT_EXPEND="defaultExpend",a.CUBE_CHATBOT="cubeChatbot",a.OPEN_URL_WITH_PARENT="openUrlWithParent",a.IAB_IMPRESSION="useIabImpression"}(b||(b={}));var d;!function(a){a.SET_UI_POS="setUiPos",a.CLOSE_UI_SET="closeUISet",a.COUNT_DOWN_COLOR="countDownColor",a.MOVE_PLAYER="movePlayer"}(d=a.KEYWORD_IN_DESC_WITH_PARAM||(a.KEYWORD_IN_DESC_WITH_PARAM={}));var e=function(){function e(b){this.isJson=!1,this.isEmbedded=!1,this.isOBM=!1,this.isIR_DF=!1,this.trackingCodes=[],this.adDisplayTimeParam={slope:1,adjust:0},this._videoSource={src:[],poster:"",click_link:"",cid:"",video_type:"",duration:0},this._jsonSource={},this._isOnlyVideo=!1,this._volume=0,this._isStoryUserClick=!1,this._useTouchEventListener=!1,this._defultExpandNotCollapse=!1,this._openUrlWithAssign=!1,this._openUrlWithParent=!1,this._isListenClickOnBannerIframe=!1,this._cubeChatbotType=!1,this._isSafeFramePreview=!1,this._isHideReplayMore=!1,this._isEventImpSend=!1,this._iabImpression=!1,this.autoReplay=!1,this._emojiParam={title:"",icon:"",animate:""},this._eventCenter=b,this._envInfo=a.EnvInfo.getInstance(),this._playerCenter=a.PlayerCenter.getInstance(),this._setupData(),this._addListeners()}return e.prototype._setupData=function(){this._materialHasTrackingEvent=!1,this.gotBannerClickTriggeredFromMaterial=!1,this._funcParamMapForKeyWord={}},e.prototype._addListeners=function(){var b=this;this._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.NEED_SYNC_BEFORE_CLOSE,function(){b._materialHasTrackingEvent=!0,b._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.SEND_BANNER_CLICK_TO_WARROOM,function(){b.gotBannerClickTriggeredFromMaterial=!0},1)})},e.prototype.initDataByExternalParam=function(b){this.trackUrl=b.trackUrl,this._advId=b.adv_id,this._campId=b.camp_id,this._pmId=b.pm_id,this.pid=b.pid,this.uid=b.uid,this.isJson=void 0!==b.l_json,this.isVast="true"===b.is_vast,this.vastResult=b.vastResult,this.hasVPAIDAd=!!this.vastResult&&this.vastResult.useVpaidCheckedByIsip,this.vastTrackerCenter=this.vastResult?this.vastResult.vastTrackerCenter:null,this.vastTrackerCenterArrayOfCompanions=this.vastResult?this.vastResult.vastTrackerCenterArrayOfCompanion:null,this._isCm="true"===b.cm,this.isOBM=!!b.is_obm&&b.is_obm,this._cmCustomId=b.cm_custom_id||"",this._isSafeFrame=b.isSafeFrame,this._hasSfGeomApi=void 0!==window.$sf&&void 0!==window.$sf.ext&&void 0!==window.$sf.ext.geom(),e.isSafeFrame=b.isSafeFrame,this.reporting=new c(this),this._adFormat=this._getAdFormat(b.play_mode,b.player_type),this.returnControlToPublish=b.returnControlToPublish,this.isAMP=!!b.isAMP,b.clientSetupParam&&(this._slotId=b.clientSetupParam.slotId,this._dfpConfig=b.clientSetupParam.dfpConfig,this._acc=b.clientSetupParam.acc),this._oneadObj=b.oneadObj,this._slotElement=b.clientSetupParam&&b.clientSetupParam.slotElement?b.clientSetupParam.slotElement:this._getSlotElement(b.play_mode,b.isip_index),this._isRon=b.ct_id==a.CAMPAIGN_TYPE.RON,this._videoEndWrapperDisplayType=e.getDisplayVideoEndWrapperType(this.isVast,b.player_type),this._setupLocationHref(b.clientSetupParam),e.dataCenterArr_[b.isip_index]=this,this.isipIndex=b.isip_index,this._ctid=b.ct_id,this.isEmbedded=this._checkHasEmbedded(b.player_type),this._playerCenter.checkHasIrPlus(b.player_type,b.play_mode),this._exclude=b.exclude,this._isSafeFramePreview=b.clientSetupParam?void 0!==b.clientSetupParam.noExternal:this.isSafeFramePreview},e.getInstanceByIsipIndex=function(a){return e.dataCenterArr_[a]},e.removePlayerTypeLayout=function(b){var c=[];window.ONEADs.forEach(function(d){if(b==a.ONEAD_CONST.PLAYER_TYPE.BOTTOM||b==a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X273||b==a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X320){var e=d.isip_index;c.push(e)}});for(var d=0;d<c.length;d++){var e=document.getElementById(a.ONEAD_CONST.LAYOUT+c[d]);if(null==e)break;e.remove()}},e.getDisplayVideoEndWrapperType=function(b,c){if(b)return a.VideoEndWrapperDisplayEnum.NONE;switch(c){case a.ONEAD_CONST.PLAYER_TYPE.STATIC:case a.ONEAD_CONST.PLAYER_TYPE.STORY:case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER_GALLERY:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X273:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X273:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_BANNER_640X273:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2_BANNER_640X273:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_GALLERY:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_HIT:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_HIT_NF:case a.ONEAD_CONST.PLAYER_TYPE.SHOW:return a.VideoEndWrapperDisplayEnum.NONE;default:return a.VideoEndWrapperDisplayEnum.BOTH}},e.prototype.jsonMobileSetup=function(b){this.lJson=b.lJson,this.isipIndex=b.isipIndex,
this._playMode=b.play_mode,this._playerType=b.player_type,this.guid=b.optionsParams.guid,this._setupBannerData(this.lJson),this._setupShowIdentity(this.lJson),this._setupHideVolumeButton(),this.cid=b.settings.banner.cid?b.settings.banner.cid:"-1",this.isAutoPlay="yes"===b.auto_play,this.autoReplay=this.checkNeedToAutoReplay(),this.mraidScreenSize=b.mraidScreenSize,this.hasMraid=b.hasMraid||!1,this.hasVideo=this.isVast?this.vastResult.hasPlayableAd:b.settings.video.src.length>0,this.duration=b.settings.ad_total_time,this.holdonSecond=b.settings.hold_on_second,this._setAdTotalTime(this.duration,this.holdonSecond),this._setupTrackingCodes(this.lJson),this._setupMIRVImpMode(),this._setupIsOnlyBanner(),this._setupJsonVideoSource(b),this.playMode!==a.ONEAD_CONST.PLAY_MODE.MIR&&this.playMode!==a.ONEAD_CONST.PLAY_MODE.MAIR||this._setupIsOnlyVideo(),this._setupTriggerButtonSource(),this._setupBannerSizeErrorRule(),this._setIabImpression(),this._checkIfUseOldStylePlayButton(),this._playerType!=a.ONEAD_CONST.PLAYER_TYPE.BOTTOM&&this._playerType!=a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X273&&this._playerType!=a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X320||this._setupIsCrossBanner(),this._setUseNativePlayer(),this._setMoatUseDisplay(),this._setMoatUseVideo(),this._setKeywordWithParam(),this._setupHidePlayButton(),this._setSpeakerfMuteButton(),this._setGifMuteButton(),this._setUseTouchEventListener(),this._setOpenUrlWithAssign(),this._setDefultExpandNotCollapse(),this._setCubeChatbot(),this._setOpenUrlWithParent(),this._setVideoClickUrl()},e.prototype.mobileSetup=function(b){this.lXml=b.lXml,this.isipIndex=b.isipIndex,this._setupBannerData(b.lXml),this._setupShowIdentity(b.lXml),this._setupHideVolumeButton();try{this.cid=b.settings.banner.cid}catch(a){this.cid="-1"}this.isipIndex=b.isipIndex,this.isAutoPlay="yes"===b.auto_play,this.autoReplay=this.checkNeedToAutoReplay(),this.mraidScreenSize=b.mraidScreenSize,this.hasMraid=b.hasMraid||!1,this.hasVideo=this.isVast?this.vastResult.hasPlayableAd:b.settings.video.src.length>0,this._playMode=b.play_mode,this._playerType=b.player_type,this.guid=b.optionsParams.guid,this.duration=this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.DURATION)[0]?+this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.DURATION)[0].textContent:0,this.holdonSecond=this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.HOLD_ON_SECOND)?+this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.HOLD_ON_SECOND)[0].textContent:0,this._setAdTotalTime(this.duration,this.holdonSecond),this._setupTrackingCodes(b.lXml),this._setupMIRVImpMode(),this._setupVideoSource(),this._setupIsOnlyBanner(),this._setupIsCrossBanner(),this.playMode!==a.ONEAD_CONST.PLAY_MODE.MIR&&this.playMode!==a.ONEAD_CONST.PLAY_MODE.MAIR||this._setupIsOnlyVideo(),this._setupTriggerButtonSource(),this._setupBannerSizeErrorRule(),this._setIabImpression(),this._checkIfUseOldStylePlayButton(),this._setUseNativePlayer(),this._setMoatUseDisplay(),this._setMoatUseVideo(),this._setKeywordWithParam(),this._setupHidePlayButton(),this._setSpeakerfMuteButton(),this._setGifMuteButton(),this._setUseTouchEventListener(),this._setOpenUrlWithAssign(),this._setDefultExpandNotCollapse(),this._setCubeChatbot(),this._setOpenUrlWithParent(),this._setVideoClickUrl(),this._setHideReplayMore()},e.prototype.jsonDesktopSetup=function(a){this.lJsonResult=a.l_json,this.lJson=this.lJsonResult.xml,this._playMode=a.play_mode,this._playerType=a.player_type,this.guid=a.optionsParams.guid,this._setupIsLandscape(),this._isDF=this._playerType.indexOf("DF")>-1,this.isIR_DF=a.isNewDesign,this.hasVideo=this.isVast?this.vastResult.hasPlayableAd:a.settings.video.src.length>0,this.duration=a.settings.ad_total_time,this.holdonSecond=a.settings.hold_on_second,this._setAdTotalTime(this.duration,this.holdonSecond),this._setupShowIdentity(this.lJson),this._setupHideControlWrapper(),this._setHideReplayMore(),this.isipIndex=a.isip_index,this._setupIsOnlyBanner(),this._setupJsonVideoSource(a),this._setupBannerData(this.lJson),this._setLiftBanner(),this.adWrapper=this.slotElement.firstChild,this._setupTriggerButtonSource(),this._videoSize=this.getDesktopVideoSize(),this._setupTrackingCodes(this.lJson),this._setKeywordWithParam(),this._setMoatUseDisplay(),this._setMoatUseVideo(),this._setListenClickOnBannerBody(),this._playerCenter.checkNeedToMinimizeAds(this._eventCenter)},e.prototype.desktopSetup=function(b){this.lXml=b.lXml,this._playMode=b.play_mode,this._playerType=b.player_type,this.guid=b.optionsParams.guid,this._setupIsLandscape(),this._isDF=this._playerType.indexOf("DF")>-1,this.isIR_DF=b.isNewDesign,this.duration=this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.DURATION)[0]?+this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.DURATION)[0].textContent:0,this.holdonSecond=this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.HOLD_ON_SECOND)?+this.lXml.getElementsByTagName(a.ONEAD_CONST.XML_TAG_NAME.HOLD_ON_SECOND)[0].textContent:0,this.hasVideo=this.isVast?this.vastResult.hasPlayableAd:b.settings.video.src.length>0,this._setAdTotalTime(this.duration,this.holdonSecond),this._setupShowIdentity(b.lXml),this._setupHideControlWrapper(),this._setHideReplayMore(),this.isipIndex=b.isip_index,this.lXml=b.lXml,this._setupBannerData(b.lXml),this._setupVideoSource(),this._setupIsOnlyBanner(),this._setLiftBanner(),this.adWrapper=this.slotElement.firstChild,this._playMode=b.play_mode,this._setupTriggerButtonSource(),this._videoSize=this.getDesktopVideoSize(),this._setupTrackingCodes(b.lXml),this._setMoatUseDisplay(),this._setMoatUseVideo(),this._setListenClickOnBannerBody(),this._setKeywordWithParam(),this._playerCenter.checkNeedToMinimizeAds(this._eventCenter)},e.prototype.getDesktopVideoSize=function(){var b={width:0,height:0};return b.width=this._isDF||!this.isLandscape&&!this.isOnlyBanner?a.VIDEO_SIZE.WIDTH_640:a.VIDEO_SIZE.WIDTH_950,b},e.prototype._setupBannerData=function(b){var c,d;if(!this.bannerDataInXml){this.bannerDataInXml=[];var e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0;if(this.isJson){if(d=b,e=d.companions){var l=void 0!==d.companions.companion[1]?Object.keys(d.companions.companion).length:1;if(1==l){if(g=d.companions.companion.cid,i=[],d.companions.companion.linkURL)i.push(d.companions.companion.linkURL);else if(void 0==d.companions.companion.linkURLs.linkURL.length)i.push(d.companions.companion.linkURLs.linkURL["#content"]);else for(var m=0;m<d.companions.companion.linkURLs.linkURL.length;m++)i.push(d.companions.companion.linkURLs.linkURL[m]["#content"]);h=d.companions.companion.imgURL,h.indexOf(".zip")>-1?(h=h.replace(".zip","/index.html")+"?isipIndex="+this.isipIndex,j=!0):j=!1,k=!!a.Util.checkUrlIsAvaliable(i),this.bannerDataInXml.push({cid:g,sourceUrl:h,linkUrls:i,isHtml:j,hasLink:k})}else for(var m=0;m<l;m++){if(g=d.companions.companion[m].cid,h=d.companions.companion[m].imgURL,i=[],d.companions.companion[m].linkURL)i.push(d.companions.companion[m].linkURL);else if(void 0==d.companions.companion[m].linkURLs.linkURL.length)i.push(d.companions.companion[m].linkURLs.linkURL["#content"]);else for(var n=0;n<d.companions.companion[m].linkURLs.linkURL.length;n++)i.push(d.companions.companion[m].linkURLs.linkURL[n]["#content"]);h.indexOf(".zip")>-1?(h=h.replace(".zip","/index.html")+"?isipIndex="+this.isipIndex,j=!0):j=!1,k=!!a.Util.checkUrlIsAvaliable(i[0]),this.bannerDataInXml.push({cid:g,sourceUrl:h,linkUrls:i,isHtml:j,hasLink:k})}}}else if(c=b,(e=c.getElementsByTagName("companion"))&&e.length>=1)for(var m=0;m<e.length;m++){f=e[m],g=f.getElementsByTagName("cid")[0].textContent,h=f.getElementsByTagName("imgURL")[0].textContent,h.indexOf(".zip")>-1?(h=h.replace(".zip","/index.html")+"?isipIndex="+this.isipIndex,j=!0):j=!1;var o=f.getElementsByTagName("linkURLs")[0];if(i=[],void 0!==o){var p=o.childElementCount;if(p>0)for(var n=0;n<p;n++)i.push(o.getElementsByTagName("linkURL")[n].textContent);else i.push(f.getElementsByTagName("linkURL")[0].textContent)}else i.push(f.getElementsByTagName("linkURL")[0].textContent);k="null"!==i;for(var q=0;q<i.length;q++)i[q]=i[q].trim();this.bannerDataInXml.push({cid:g,sourceUrl:h,linkUrls:i,isHtml:j,hasLink:k})}}},e.prototype._setupHideVolumeButton=function(){this._isHideVolumeButton=this._checkDescriptionHasKeyWord(b.HIDE_VOLUME_BUTTON)},e.prototype._setupHidePlayButton=function(){this._isHidePlayButton=this._checkDescriptionHasKeyWord(b.HIDE_PLAY_BUTTON)},e.prototype._setupHideControlWrapper=function(){this._hideControlWrapper=this._checkDescriptionHasKeyWord(b.HIDE_CONTROL_WRAPPER)},e.prototype.setTaskCenter=function(a){this._taskCenter=a},e.prototype._setLiftBanner=function(){this._isLiftBanner=this._checkDescriptionHasKeyWord(b.LIFT_BANNER)},e.prototype._setKeywordWithParam=function(){this._setDescriptionHasKeyWordWithParam(d.SET_UI_POS),this._setDescriptionHasKeyWordWithParam(d.CLOSE_UI_SET),this._setDescriptionHasKeyWordWithParam(d.COUNT_DOWN_COLOR),this._setDescriptionHasKeyWordWithParam(d.MOVE_PLAYER)},e.prototype.getBannerDataByIndex=function(a){return a>=0?this.bannerDataInXml[a]:null},e.prototype._checkDescriptionHasKeyWord=function(a){var b=!1;return void 0===this._descriptionData&&(this.lXml?this._descriptionData=this._getXmlTagValue("body")||"":this._descriptionData=this.lJson.linkXml.body||""),this._descriptionData&&this._descriptionData.indexOf(a)>-1&&(b=!0,this._descriptionData=this._descriptionData.replace(a,"")),b},e.prototype._setDescriptionHasKeyWordWithParam=function(a){if(this._descriptionData){var b=new RegExp(a+"\\((\\{.+\\})\\)"),c=b.exec(this._descriptionData);if(c&&c[1]){var d=JSON.parse(c[1]);this._descriptionData=this._descriptionData.replace(b,""),d&&(this._funcParamMapForKeyWord[a]=d)}}},e.prototype._setupMIRVImpMode=function(){this._checkDescriptionHasKeyWord(b.MIRV_TIMER)?this._mirvImpMode=2:this._mirvImpMode=0},e.prototype._setupIsOnlyBanner=function(){this._checkDescriptionHasKeyWord(b.ONLY_BANNER)?this._isOnlyBanner=!0:this.isVast||!this.isJson?this._isOnlyBanner=this.bannerDataInXml.length>0&&void 0===this.videoSource.src[0]:this._isOnlyBanner=void 0!==this.lJson.companions&&!this.lJson.videos;try{top.window.ONEADs[this.isipIndex].testParam={isOnlyBanner:this._isOnlyBanner}}catch(a){}},e.prototype._setupIsCrossBanner=function(){this._checkDescriptionHasKeyWord(b.CROSS_BANNER)?this._isCrossBanner=!0:this.isVast||!this.isJson?this._isCrossBanner=this.bannerDataInXml.length>0&&void 0===this.videoSource.src[0]:this._isCrossBanner=void 0!==this.lJson.companions&&!this.lJson.videos;try{top.window.ONEADs[this.isipIndex].testParam={isCrossBanner:this._isCrossBanner}}catch(a){}},e.prototype._setupIsOnlyVideo=function(){this._checkDescriptionHasKeyWord(b.ONLY_VIDEO)?this._isOnlyVideo=!0:this.isVast||(this._isOnlyVideo=void 0!==this.videoSource.src[0]&&0===this.bannerDataInXml.length)},e.prototype._setUseNativePlayer=function(){switch(this.playerType){case a.ONEAD_CONST.PLAYER_TYPE.INSTANT:case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER:case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER_GALLERY:case a.ONEAD_CONST.PLAYER_TYPE.FLASH:case a.ONEAD_CONST.PLAYER_TYPE.SCROLLER_VERTICAL:case a.ONEAD_CONST.PLAYER_TYPE.VERTICAL_V2:case a.ONEAD_CONST.PLAYER_TYPE.SCROLLER:case a.ONEAD_CONST.PLAYER_TYPE.SKIRT:case a.ONEAD_CONST.PLAYER_TYPE.STORY:case a.ONEAD_CONST.PLAYER_TYPE.STATIC:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_GALLERY:case a.ONEAD_CONST.PLAYER_TYPE.DSP_300X250:case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER_300X250:this._checkDescriptionHasKeyWord(b.IOS_USE_NATIVE_VIDEO)&&(this._useNativePlayer=!0);break;default:this._useNativePlayer=!0}},e.prototype._setUseTouchEventListener=function(){this._checkDescriptionHasKeyWord(b.USE_TOUCH_EVENT_LISTENER)&&(this._useTouchEventListener=!0)},e.prototype._setOpenUrlWithAssign=function(){this._checkDescriptionHasKeyWord(b.OPEN_URL_WITH_ASSIGN)&&(this._openUrlWithAssign=!0)},e.prototype._setOpenUrlWithParent=function(){this._checkDescriptionHasKeyWord(b.OPEN_URL_WITH_PARENT)&&(this._openUrlWithParent=!0)},e.prototype._setHideReplayMore=function(){this._isHideReplayMore=this._checkDescriptionHasKeyWord(b.HIDE_REPLAY_MORE)},e.prototype._setDefultExpandNotCollapse=function(){this.playMode!=a.ONEAD_CONST.PLAY_MODE.MAIR&&this.playMode!=a.ONEAD_CONST.PLAY_MODE.MIR||this.playerType!=a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER||this._checkDescriptionHasKeyWord(b.DEFAULT_EXPEND)&&(this._defultExpandNotCollapse=!0)},e.prototype._setIabImpression=function(){this._iabImpression=this._checkDescriptionHasKeyWord(b.IAB_IMPRESSION)},e.prototype._setCubeChatbot=function(){switch(this.playerType){case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X273:if(this._descriptionData.indexOf(b.CUBE_CHATBOT)>-1){var c=this._descriptionData.split("=")[1];this._cubeChatbotId=+c}this._checkDescriptionHasKeyWord(b.CUBE_CHATBOT)&&(this._cubeChatbotType=!0)}},e.prototype._setMoatUseDisplay=function(){this._moatUseDisplay=this._checkDescriptionHasKeyWord(b.MOAT_DISPLAY)},e.prototype._setMoatUseVideo=function(){this._moatUseVideo=this._checkDescriptionHasKeyWord(b.MOAT_VIDEO)},e.prototype._setGifMuteButton=function(){this._gifMuteButton=this._checkDescriptionHasKeyWord(b.USE_GIF_MUTE_BUTTON)},e.prototype._setSpeakerfMuteButton=function(){this._speakerMuteButton=this._checkDescriptionHasKeyWord(b.USE_SPEAKER_MUTE_BUTTON)},e.prototype._setListenClickOnBannerBody=function(){this._isListenClickOnBannerIframe=this._checkDescriptionHasKeyWord(b.LISTEN_CLICK_ON_BANNER_IFRAME)},e.prototype._setupIsLandscape=function(){this._isLandscape=this._checkDescriptionHasKeyWord(b.LANDSCAPE);try{top.window.ONEADs[this.isipIndex].testParam={isLandScape:this._isLandscape}}catch(a){}},e.prototype._setupBannerSizeErrorRule=function(){var c=a.RULE_FOR_BANNER_SIZE_ERROR.CHANGE_ANOTHER_LAYOUT;this._checkDescriptionHasKeyWord(b.USE_FIRST_BANNER)&&(c=a.RULE_FOR_BANNER_SIZE_ERROR.USE_FIRST_ONE),this._bannerSizeErrorRule=c},e.prototype._setupShowIdentity=function(a){var b,c,d,e;void 0!==this.lXml?(c=a,b=c.getElementsByTagName("show_identity"),1===b.length?(e=b[0].textContent,this.identity=void 0===e||"true"===e):this.identity=!0):(d=a,b=d.linkXml.show_identity,this.identity="false"!==b)},e.prototype._setupTrackingCodes=function(a){if(!this.isVast){var b;if(b=this.isJson?""===a.linkXml.tracking_code?[]:void 0!==a.linkXml.tracking_code.code.length?a.linkXml.tracking_code.code:[a.linkXml.tracking_code.code]:a.querySelectorAll("tracking_code code"),b.length>0)for(var c=0;c<b.length;c++){var d=this.isJson?b[c]["#content"]:b[c].textContent;d.indexOf("http")>-1&&this.trackingCodes.push(d)}}},e.prototype.computeAdDisplayTime=function(){var b=this;return new a.Promise(function(c,d){e.adDisplayTime?c(e.adDisplayTime):b._eventCenter.subscribe(a.ONEAD_EVENT.events.CREATE_VIEW,function(){var a=performance.now(),f=.55*a/1e4,g=b.lXml.querySelector("body")?b.lXml.querySelector("body").textContent:"";""!==g&&(g.indexOf("display_s")>-1&&(b.adDisplayTimeParam.slope=parseFloat(g.split("display_s=")[1].split(",")[0])),g.indexOf("display_a")>-1&&(b.adDisplayTimeParam.adjust=1e3*parseFloat(g.split("display_a=")[1].split(",")[0]))),e.adDisplayTime=a*f*b.adDisplayTimeParam.slope+b.adDisplayTimeParam.adjust,e.adDisplayTime<1e3&&(e.adDisplayTime=1e3),"number"==typeof e.adDisplayTime?c(e.adDisplayTime):d("[Error] Compute display time error.")})})},e.prototype.setup=function(a){},e.prototype._setAdTotalTime=function(a,b){if(this.isVast)this._adTotalTime=this.vastResult.duration;else try{this._envInfo.isMobile?this._adTotalTime=a:this._adTotalTime=a+b}catch(a){this._adTotalTime=0}this._adTotalTime||(this._adTotalTime=0)},e.prototype._checkIfUseOldStylePlayButton=function(){this._useOldStylePlayButton=this.isVast&&this.isRon||this.hasVPAIDAd,this._checkDescriptionHasKeyWord(b.USE_OLD_STYLE_PLAY_BUTTON)?this._useOldStylePlayButton=!0:this.adFormat==a.ONEAD_CONST.AD_FORMAT.MIRTS&&(this._useOldStylePlayButton=!0)},e.prototype._setupJsonVideoSource=function(a){this.isOnlyBanner||(this._videoSource={src:a.settings.video.src,poster:a.settings.video.poster,click_link:a.settings.video.click_link,cid:a.settings.video.cid,video_type:a.settings.video.video_type,duration:a.settings.video.duration},"html"==this._videoSource.video_type&&(this._h5Source=a.settings.video.src[0]))},e.prototype._setupVideoSource=function(){var b=this;try{if(this.isVast)this._vastVideoSource={src:this.hasVideo?this.hasVPAIDAd?this.vastResult.vpaid_src:[a.Util.getVastUrl(this.vastResult.video_src[0][0])]:void 0,poster:this.vastResult.extensions=={}?this.vastResult.extensions.Thumbnail[0].url:void 0,click_link:this.vastResult.vastTrackerCenter.clickThroughURLTemplate||"",cid:"-1",video_type:"vast",duration:a.Util.isValid(this.vastResult.duration).value||0};else{var c,d,e=["videoURL_mp4_1200k","videoURL_mp4_800k"];this._videoSource={src:[],poster:this._getXmlTagValue("defaultURL"),click_link:this._getXmlTagValue("clickURL"),cid:"-1",video_type:"video",duration:this._getXmlTagValue("duration")?+this._getXmlTagValue("duration"):0},e.forEach(function(a){b._getXmlTagValue(a)&&(c=b._getXmlTagValue(a),d=b._getXmlTagValue(a,"format"),c&&b._videoSource.src.push(c),d&&(b._videoSource.video_type=d))})}}catch(a){}},e.prototype.getJsonSource=function(){var b=this;return new a.Promise(function(c,d){b._jsonSource.files_index?c(b._jsonSource):(b._jsonSource.videoSrc=b.videoSource.src[0],b._jsonSource.videoSrc?a.Util.getJSON(b._jsonSource.videoSrc.replace("mp4","json")).then(function(a){for(var d in a)b._jsonSource[d]=a[d];c(b._jsonSource)}).catch(function(a){return d(a)}):d("no mp4"))})},e.prototype._setupTriggerButtonSource=function(){var a,b,c,d,e;this.lXml?(a=this._getXmlTagValue("triggerButton iconUrl"),b=this._getXmlTagValue("triggerButton position"),c=this._getXmlTagValue("triggerButton clickUrl"),d=this._getXmlTagValue("body")):(a=this.lJson.triggerButton.iconUrl,b=this.lJson.triggerButton.position,c=this.lJson.triggerButton.clickUrl,d=this.lJson.linkXml.body),d&&d.indexOf("trigger_button=")>-1&&(e={x:parseInt(d.split("trigger_button=")[1].split(",")[0].split("x=")[1]),y:parseInt(d.split("trigger_button=")[1].split(",")[1].split("y=")[1])}),a&&b&&c&&(this.triggerButtonSource={iconUrl:a,position:b,clickUrl:c,customPosData:e})},e.prototype._getXmlTagValue=function(b,c){if(this.lXml.querySelector(b)){var d=this.lXml.querySelector(b);return c?a.Util.isValid(d.getAttribute(c)).value:a.Util.isValid(d.textContent).value}},e.prototype._getAdFormat=function(b,c){switch(b){case a.ONEAD_CONST.PLAY_MODE.IC:switch(c){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:return a.ONEAD_CONST.AD_FORMAT.ICDF;case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:return a.ONEAD_CONST.AD_FORMAT.ICINSYNC}case a.ONEAD_CONST.PLAY_MODE.IN_STREAM:switch(c){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:return a.ONEAD_CONST.AD_FORMAT.IPDF;case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:return a.ONEAD_CONST.AD_FORMAT.IPINSYNC;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:return a.ONEAD_CONST.AD_FORMAT.IPFOLLOWDF;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:return a.ONEAD_CONST.AD_FORMAT.IPFOLLOWINSYNC}break;case a.ONEAD_CONST.PLAY_MODE.IR:switch(c){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:return a.ONEAD_CONST.AD_FORMAT.IRDF;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:return a.ONEAD_CONST.AD_FORMAT.IRFOLLOWDF}break;case a.ONEAD_CONST.PLAY_MODE.MIR:switch(c){case a.ONEAD_CONST.PLAYER_TYPE.INSTANT:return a.ONEAD_CONST.AD_FORMAT.MIRI;case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER:return a.ONEAD_CONST.AD_FORMAT.MIRT;case a.ONEAD_CONST.PLAYER_TYPE.SCROLLER:return a.ONEAD_CONST.AD_FORMAT.MIRS;case a.ONEAD_CONST.PLAYER_TYPE.SCROLLER_VERTICAL:return a.ONEAD_CONST.AD_FORMAT.MIRSV;case a.ONEAD_CONST.PLAYER_TYPE.MOBILE:return a.ONEAD_CONST.AD_FORMAT.MIRM;case a.ONEAD_CONST.PLAYER_TYPE.VERTICAL:return a.ONEAD_CONST.AD_FORMAT.MIRV;case a.ONEAD_CONST.PLAYER_TYPE.VERTICAL_V2:return a.ONEAD_CONST.AD_FORMAT.MIRV_V2;case a.ONEAD_CONST.PLAYER_TYPE.VERTICAL_BANNER:return a.ONEAD_CONST.AD_FORMAT.MIRVB;case a.ONEAD_CONST.PLAYER_TYPE.VERTICAL_BANNER_V2:return a.ONEAD_CONST.AD_FORMAT.MIRVB_V2;case a.ONEAD_CONST.PLAYER_TYPE.SKIRT:return a.ONEAD_CONST.AD_FORMAT.MIRSK;case a.ONEAD_CONST.PLAYER_TYPE.STATIC:return a.ONEAD_CONST.AD_FORMAT.MIRTS;case a.ONEAD_CONST.PLAYER_TYPE.LANDSCAPE_ENGAGEMENT:return a.ONEAD_CONST.AD_FORMAT.LANDSCAPE;case a.ONEAD_CONST.PLAYER_TYPE.FRAME_ENGAGEMENT:return a.ONEAD_CONST.AD_FORMAT.FRAME;case a.ONEAD_CONST.PLAYER_TYPE.BNB:return a.ONEAD_CONST.AD_FORMAT.MIRB;case a.ONEAD_CONST.PLAYER_TYPE.STORY:return a.ONEAD_CONST.AD_FORMAT.MIRST;case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER_GALLERY:return a.ONEAD_CONST.AD_FORMAT.MIRTG;case a.ONEAD_CONST.PLAYER_TYPE.FLASH:return a.ONEAD_CONST.AD_FORMAT.MIRF;case a.ONEAD_CONST.PLAYER_TYPE.H5_320X480:return a.ONEAD_CONST.AD_FORMAT.MIRHTF;case a.ONEAD_CONST.PLAYER_TYPE.H5_320X480_BANNER:return a.ONEAD_CONST.AD_FORMAT.MIRHTFB;case a.ONEAD_CONST.PLAYER_TYPE.H5_320X480_VIDEO_BANNER:return a.ONEAD_CONST.AD_FORMAT.MIRHTFVB}break;case a.ONEAD_CONST.PLAY_MODE.MIC:switch(c){case a.ONEAD_CONST.PLAYER_TYPE.MOBILE:return a.ONEAD_CONST.AD_FORMAT.MIC;case a.ONEAD_CONST.PLAYER_TYPE.VERTICAL:return a.ONEAD_CONST.AD_FORMAT.MICV;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM:return a.ONEAD_CONST.AD_FORMAT.MICB;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE:return a.ONEAD_CONST.AD_FORMAT.MICBC;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH:return a.ONEAD_CONST.AD_FORMAT.MICBF;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_BANNER_640X273:return a.ONEAD_CONST.AD_FORMAT.MICB_BANNER_640X273;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_CUBE_BANNER_640X273:return a.ONEAD_CONST.AD_FORMAT.MICBC_BANNER_640X273;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_BANNER_640X273:return a.ONEAD_CONST.AD_FORMAT.MICBF_BANNER_640X273;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2:return a.ONEAD_CONST.AD_FORMAT.MICBF_V2;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2_BANNER_640X320:case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_FLASH_V2_BANNER_640X273:return a.ONEAD_CONST.AD_FORMAT.MICBF_V2_BANNER_640X273;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_GALLERY:return a.ONEAD_CONST.AD_FORMAT.MICBG;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_GALLERY_BANNER:return a.ONEAD_CONST.AD_FORMAT.MICBG_BANNER;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_HIT:return a.ONEAD_CONST.AD_FORMAT.MICBH;case a.ONEAD_CONST.PLAYER_TYPE.BOTTOM_HIT_NF:return a.ONEAD_CONST.AD_FORMAT.MICBH_NF}break;case a.ONEAD_CONST.PLAY_MODE.MIT:return a.ONEAD_CONST.AD_FORMAT.MIT;case a.ONEAD_CONST.PLAY_MODE.MAIR:switch(c){case a.ONEAD_CONST.PLAYER_TYPE.SKIRT:return a.ONEAD_CONST.AD_FORMAT.MIRSK;default:return a.ONEAD_CONST.AD_FORMAT.MAIR}case a.ONEAD_CONST.PLAY_MODE.MAIC:return a.ONEAD_CONST.AD_FORMAT.MAIC;case a.ONEAD_CONST.PLAY_MODE.DPR:return a.ONEAD_CONST.AD_FORMAT.DPR;case a.ONEAD_CONST.PLAY_MODE.MPR:return a.ONEAD_CONST.AD_FORMAT.MPR;case a.ONEAD_CONST.PLAY_MODE.APR:return a.ONEAD_CONST.AD_FORMAT.APR;case a.ONEAD_CONST.PLAY_MODE.DSP:return a.ONEAD_CONST.AD_FORMAT.DSP}},e.prototype._getSlotElement=function(a,b){var c=this._envInfo.scopeInfo.accessibleHighestWin,d=this.oneadObj&&this.oneadObj.slot_id?this.oneadObj.slot_id[a]:this._slotId;return c.document.getElementById(d)},e.prototype.vpaidSetupDataFromJson=function(b){switch(this.holdonSecond=+b.linkXml.holdonSecond,this._playMode=b.linkXml.playerMode,this._playerType=b.linkXml.playerType,this._playMode){case a.ONEAD_CONST.PLAY_MODE.MPR:this._adFormat=a.ONEAD_CONST.AD_FORMAT.MPR;break;case a.ONEAD_CONST.PLAY_MODE.DPR:this._adFormat=a.ONEAD_CONST.AD_FORMAT.DPR;break;case a.ONEAD_CONST.PLAY_MODE.APR:this._adFormat=a.ONEAD_CONST.AD_FORMAT.APR}this.uid=+b.linkXml.UID,this.pid=+b.linkXml.PID,this._advId=+b.linkXml.AdvID,this._campId=+b.linkXml.CampID,this._pmId=+b.linkXml.PmID,this.guid=b.linkXml.guid,this.duration=+b.videos.video.duration,this._setAdTotalTime(this.duration,this.holdonSecond),this._vpaidParam=b;var c=this._vpaidParam.linkXml.body;c.indexOf("moatUseDisplay")>-1&&(this._moatUseDisplay=!0),c.indexOf("moatUseVideo")>-1&&(this._moatUseVideo=!0),""!==b.linkXml.emojis&&(this._emojiParam.title=b.linkXml.emojis.emoji.name,this._emojiParam.icon=b.linkXml.emojis.emoji.button,this._emojiParam.animate=b.linkXml.emojis.emoji.animate)},e.prototype._setupLocationHref=function(a){a&&a.locationHref?this._locationHref=a.locationHref:this._locationHref=this._envInfo.scopeInfo.accessibleHighestWin.location.href},e.prototype._checkHasEmbedded=function(b){switch(b){case a.ONEAD_CONST.PLAYER_TYPE.H5_320X480:case a.ONEAD_CONST.PLAYER_TYPE.H5_970X250:case a.ONEAD_CONST.PLAYER_TYPE.H5_640X480:return!0}},e.prototype._setVideoClickUrl=function(){this._videoClickUrl=this.lXml?this.isVast?this.vastResult.vastTrackerCenter.clickThroughURLTemplate||"":this._getXmlTagValue("clickURL"):this.lJson.linkXml.clickURL},e.prototype.checkNeedToAutoReplay=function(){switch(this._playerType){case a.ONEAD_CONST.PLAYER_TYPE.TRANSFORMER_300X250:return!0;case a.ONEAD_CONST.PLAYER_TYPE.INSTANT:return this._isRon;case a.ONEAD_CONST.PLAYER_TYPE.MOBILE:return this._playMode===a.ONEAD_CONST.PLAY_MODE.MIT;default:return!1}},e.prototype._setProp=function(a,b){this[a]=b},e.prototype._getProp=function(a){return this[a]},Object.defineProperty(e.prototype,"params",{get:function(){return this._params},set:function(a){this._params=a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCm",{get:function(){return this._isCm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cmCustomId",{get:function(){return this._cmCustomId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"materialHasTrackingEvent",{get:function(){return this._materialHasTrackingEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playerType",{get:function(){return this._playerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playMode",{get:function(){return this._playMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adTotalTime",{get:function(){return this._adTotalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoSource",{get:function(){return this.isVast?this._vastVideoSource:this._videoSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"envInfo",{get:function(){return this._envInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adFormat",{get:function(){return this._adFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bannerSizeErrorRule",{get:function(){return this._bannerSizeErrorRule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskCenter",{get:function(){return this._taskCenter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"h5Source",{get:function(){return this._h5Source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOnlyBanner",{get:function(){return this._isOnlyBanner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCrossBanner",{get:function(){return this._isCrossBanner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOnlyVideo",{get:function(){return this._isOnlyVideo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._currentTime=this._taskCenter._timeEventHandler._currentTime,this._currentTime<0&&(this._currentTime=0),this._currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoEndWrapperDisplayType",{get:function(){return this._videoEndWrapperDisplayType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayVideoEndWrapper",{get:function(){return this._videoEndWrapperDisplayType>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useOldStylePlayButton",{get:function(){return this._useOldStylePlayButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"advId",{get:function(){return this._advId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"campId",{get:function(){return this._campId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pmId",{get:function(){return this._pmId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mirvImpMode",{get:function(){return this._mirvImpMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDF",{get:function(){return this._isDF},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLandscape",{get:function(){return this._isLandscape},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoSize",{get:function(){return this._videoSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libCustomSetting",{get:function(){var a;try{a=this._envInfo.scopeInfo.accessibleHighestWin.ONEADs[this.isipIndex].customSetting}catch(b){a=void 0}return a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotElement",{get:function(){return this._slotElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRon",{get:function(){return this._isRon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideControlWrapper",{get:function(){return this._hideControlWrapper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptionData",{get:function(){return this._descriptionData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHideVolumeButton",{get:function(){return this._isHideVolumeButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidePlayButton",{get:function(){return this._isHidePlayButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isipIndex",{get:function(){return this.isipIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dfpConfig",{get:function(){return this._dfpConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oneadObj",{get:function(){return this._oneadObj},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSafeFrame",{get:function(){return this._isSafeFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSfGeomApi",{get:function(){return this._hasSfGeomApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acc",{get:function(){return this._acc||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationHref",{get:function(){return this._locationHref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHideReplayMore",{get:function(){return this._isHideReplayMore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.isOnlyBanner?0:this._volume},set:function(a){this._volume=a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIabImpression",{get:function(){return this._iabImpression},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStoryUserClick",{get:function(){return this._isStoryUserClick},set:function(a){this._isStoryUserClick=a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEventImpSend",{get:function(){return this._isEventImpSend},set:function(a){this._isEventImpSend=a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useNativePlayer",{get:function(){return this._useNativePlayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useTouchEventListener",{get:function(){return this._useTouchEventListener},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defultExpandNotCollapse",{get:function(){return this._defultExpandNotCollapse},enumerable:!0,configurable:!0}),
Object.defineProperty(e.prototype,"isCubeChatbotType",{get:function(){return this._cubeChatbotType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cubeChatbotId",{get:function(){return this._cubeChatbotId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLiftBanner",{get:function(){return this._isLiftBanner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMoatUseDisplay",{get:function(){return this._moatUseDisplay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMoatUseVideo",{get:function(){return this._moatUseVideo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVpaidParam",{get:function(){return void 0!==this._vpaidParam},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"funcParamMapForKeyWord",{get:function(){return this._funcParamMapForKeyWord},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"campaignTypeID",{get:function(){return this._ctid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpeakerButton",{get:function(){return this._speakerMuteButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGifMuteButton",{get:function(){return this._gifMuteButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUseAssign",{get:function(){return this._openUrlWithAssign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUseParent",{get:function(){return this._openUrlWithParent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isListenClickOnBannerIframe",{get:function(){return this._isListenClickOnBannerIframe},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclude",{get:function(){return this._exclude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBanner",{get:function(){return this.bannerDataInXml.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSafeFramePreview",{get:function(){return this._isSafeFramePreview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoClickUrl",{get:function(){return this._videoClickUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vpaidParam",{get:function(){return this._vpaidParam},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emojiParam",{get:function(){return this._emojiParam},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engCounts",{get:function(){return this._engCounts},set:function(a){this._engCounts=a},enumerable:!0,configurable:!0}),e.dataCenterArr_=[],e.isSafeFrame=!1,e}();a.DataCenter=e}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function b(){this._componentPool={},this.register(a.ONEAD_CONST.COMPONENT_TYPE.DI_CENTER,this)}return b.prototype.register=function(a,b){var c=this,d=function(a,b){a&&""!==b&&(void 0===c._componentPool[b]?c._componentPool[b]=a:Array.isArray(c._componentPool[b])?c._componentPool[b].push(a):c._componentPool[b]=[c._componentPool[b],a])};Array.isArray(b)?b.forEach(function(b){d(b,a)}):d(b,a)},b.prototype.get=function(a){return void 0!==this._componentPool[a]?this._componentPool[a]:void 0},b}();a.DiCenter=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function a(){this._queueList=[]}return a.prototype.enqueue=function(a){this._queueList.push(a),this._queueList.sort(function(a,b){return b.priority-a.priority})},a.prototype.dequeue=function(){for(var a;a=this._queueList.shift();)a.action(a.param)},a}();a.QueueManager=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){a.ONEAD_EVENT={events:{UI_SKIP:"skip",UI_UNMUTE:"unmute",UI_MUTE:"mute",UI_REPLAY:"replay",UI_MORE:"more",UI_EXPAND:"expand",UI_MINIMIZE:"minimize",CREATE_VIEW:"cv",VIDEO_CLICK:"videoClick",BANNER_CLICK:"bannerClick",IMPRESSION:"impression",VIEWABILITY:"viewability",TRIGGER_BUTTON:"tb",DISP:"disp",ENGAGEMENT:"eng",COMPVIEW:"compview"},viewEvents:{VIEW_2S:"view2s",VIEW_3S:"view3s",VIEW_5S:"view5s",VIEW_10S:"view10s",VIEW_30S:"view30s"},quarterEvents:{Q0:"q0",Q25:"q25",Q50:"q50",Q75:"q75",Q100:"q100"},playerEvents:{TIMEUPDATE:"timeupdate",VIDEOEND:"videoEnd",VPAID_READY:"vpaidReady",VPAID_CLOSE:"vpaidClose"},materialEvent:{CALL_VIDEO_PLAY:"callVideoPlay",CALL_VIDEO_PAUSE:"callVideoPause",CALL_IDENTITY_HIDE:"callIdentityHide",NEED_SYNC_BEFORE_CLOSE:"NEED_SYNC_BEFORE_CLOSE",SYNC_TRACKING_EVENT:"ONEAD_SYNC_TRACKING_EVENT",SEND_TRACKING_EVENT:"sendTrackingEvent",ONEAD_EXECUTE_CODE:"ONEAD_EXECUTE_CODE",SET_VIDEOCLICKAREA_TO_VIDEOSIZE:"setVideoClickAreaToVideoSize",ADJUST_ICON_CLICK_AREA:"adjustIdentityIconClickAreaSize",DISABLE_PLAYER_CONTROL:"disablePlayerControl",MATERIAL_TRACKING_EVENTS_SENT:"MATERIAL_TRACKING_EVENTS_SENT",SEND_BANNER_CLICK_TO_WARROOM:"sendBannerClickToWarroom",SEND_VIDEO_CLICK_AND_OPEN_URL:"sendVideoClickAndOpenUrl",SEND_VIDEO_CLICK_TO_WARROOM:"sendVideoClickToWarroom",SEND_CLICK_LANDING_PAGE:"sendClickLandingPage",SET_VIDEO_CLICK_URL:"setVideoClickUrl",ADD_TRACKING_ACCOUNT:"addTrackingAccount",INSERT_SCRIPT_IN_HEAD:"insertScriptInHead",REMOVE_BANNER_CLICK_AREA:"removeBannerClickArea",HIDE_UI_COMPONENT:"hideUiComponent",TOUCH_EVENT_SETUP:"TOUCH_EVENT_SETUP",TOUCH_EVENT_DISPATCH:"TOUCH_EVENT_DISPATCH",SEND_EVENT_ENG:"SEND_EVENT_ENG",SET_VIDEO_ZINDEX:"setVideoZindex",WAIT_FOR_EXPAND:"waitForExpand",DISPLAY_LAYOUT:"displayLayout",SEND_EVENT:"SEND_EVENT",GET_CUBE_CHANGE:"getCubeChange",SEND_IFRAME_READY:"sendIframeReady",VIDEO_TIME_UPDATE:"videoTimeUpdate",SETUP_TIME_EVENT:"setupTimeEvent",IS_FRAME_RUN_END:"isFrameRunEnd",MIRF_PLAY_DONE:"mirfPlayDone"},oneadLibEvent:{ADS_CONTENT_IS_EMPTY:"adsContentIsEmpty"},crossChannelEvent:{CLICK:"click"}};var b=function(){function a(a,b){this.priority=0,this.needExecute=!0,this.eventHandlerFunc=a,this.priority=b}return a}(),c=function(){function c(){c._eventCenterArr.push(this),this._id=c._produceId(),this.resetData()}return c.getInstance=function(a){return c._eventCenterArr[a]},c._produceId=function(){var a=Math.floor(1e3*Math.random()).toString();return Date.now()+a},c.prototype.resetData=function(){this._eventHandlerMap={},this._eventCounter={},this._eventSendLimit={},this._dataCenter=new a.DataCenter(this),this._queueManager=new a.QueueManager,this._diCenter=new a.DiCenter,this.diRegister(a.ONEAD_CONST.COMPONENT_TYPE.DATA_CENTER,this._dataCenter),this.diRegister(a.ONEAD_CONST.COMPONENT_TYPE.QUEUE_MANAGER,this._queueManager)},c.prototype.subscribe=function(a,c,d){if(void 0===d&&(d=0),this._eventHandlerMap[a]||(this._eventHandlerMap[a]=[]),c.toString().indexOf(".dispatch(")>-1)throw new Error("please use dispatchLater in subscribe!");this._eventHandlerMap[a].push(new b(c,d)),this._eventHandlerMap[a].sort(function(a,b){return b.priority-a.priority})},c.prototype.unsubscribe=function(a,b){for(var c=this._eventHandlerMap[a],d=0;d<c.length;d++){var e=c[d];e.eventHandlerFunc==b&&(e.needExecute=!1)}},c.prototype.clearByEventName=function(a){this._eventHandlerMap[a]&&(this._eventHandlerMap[a]=[])},c.prototype.clearAll=function(){this.resetData()},c.prototype.dispatchLater=function(a,b){this.dispatch(a,b,!0)},c.prototype.dispatch=function(a,b,c){var d=this;if(this.checkEventLimit(a)){void 0===b&&(b=a);var e=this._eventHandlerMap[a];e&&e.forEach(function(a){a.needExecute&&d._queueManager.enqueue({action:a.eventHandlerFunc,param:b,priority:a.priority})}),void 0===c&&this._queueManager.dequeue()}},c.prototype.checkEventLimit=function(a){var b,c=this._eventCounter[a],d=this._eventSendLimit[a];return void 0===d?b=!0:(void 0===c?c=1:c++,this._eventCounter[a]=c,b=c<=d),b},c.prototype.setupEventSendLimitTimes=function(a){this._eventSendLimit[a.eventType]=a.limit},Object.defineProperty(c.prototype,"dataCenter",{get:function(){return this._dataCenter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"eventCounter",{get:function(){return this._eventCounter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),c.prototype.sendErrorReport=function(a,b){this.dataCenter.reporting.sendErrorReporting(a,b)},c.prototype.diRegister=function(a,b){this._diCenter.register(a,b)},c.prototype.diGet=function(a){return this._diCenter.get(a)},c._eventCenterArr=[],c}();a.EventCenter=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function a(){this.gsPlayer={},this.muteButtonClick={},this.muteButtonSprite={},this.video={},this.clickArea={},this.videoPoster={},this.videoEndWrapper={},this.replayButton={},this.moreButton={},this.playButton={},this.loadingImage={},this.logoButton={}}return a.prototype.getVideoUrl=function(a){return void 0===a&&(a=0),this.video.param.src[a]},a}();a.PlayerData=b;var c=function(){function a(){this.bannerParam={},this.bannerImg={},this.banner={},this.clickArea={},this.container={},this.customEvent=[]}return a}();a.BannerData=c}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function b(a,b,c){this.callback=c,this._eventCenter=b,this.vastSetting={is_vast:a.is_vast,vastResult:a.vastResult},this.init(a)}return b.instance=function(a,b){},b.prototype.init=function(a){this.tracking=a.tracking,this._eventCenter.dataCenter.isVast||!this._eventCenter.dataCenter.isJson?this.xmlparserProcess(a):this.jsonParserProcess(a)},b.prototype.xmlparserProcess=function(b){var c=this;return a.Util.ajax({url:b.l_url,success:function(d){var e=a.parser.xml_parser(d,b,c.vastSetting);c._adParam=e,c._adParam.tracking=c.tracking,c._adParam.player_type=b.player_type,c._adParam.isipIndex=b.isip_index,null!==c.callback&&(a.Index.isip_index=b.isip_index,c._adParam.hasMraid=b.hasMraid,c._adParam.mraidScreenSize=b.mraidScreenSize,c._adParam.is_vast=c.vastSetting.is_vast,c._adParam.vastResult=c.vastSetting.vastResult,c._adParam.is_obm=b.is_obm||void 0,c._adParam.hasVPAIDAd=!!c.vastSetting.vastResult&&c.vastSetting.vastResult.hasVPAIDAd,"true"===c._adParam.is_vast&&(c._adParam.settings.video.poster="html"!=c._adParam.settings.video.video_type&&c.vastSetting.vastResult.extensions=={}?c.vastSetting.vastResult.extensions.Thumbnail[0].url:""),c.callback(c._adParam))}})},b.prototype.jsonParserProcess=function(b){var c=b.l_json.xml,d=b.guid;this._adJsonParam=a.parser.parseJSON(c,d),this._adJsonParam.player_type=b.player_type,this._adJsonParam.isipIndex=b.isip_index,null!==this.callback&&(this._adJsonParam.tracking=this.tracking,a.Index.isip_index=b.isip_index,this._adJsonParam.hasMraid=b.hasMraid,this._adJsonParam.mraidScreenSize=b.mraidScreenSize,this._adJsonParam.is_obm=b.is_obm||void 0,this._adJsonParam.is_vast="false",this._adJsonParam.vastResult=this.vastSetting.vastResult,this._adJsonParam.hasVPAIDAd=!1,this.callback(this._adJsonParam))},b}();a.AdParam=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){function c(b,c){void 0===c&&(c="");var d=b.videos,e=b.linkXml,f=b.companions,g=void 0==f.companion,h="OK",i=d?+d.video.duration:0,j=d?b.videos.video.filesize:"",k=e.holdonSecond?+e.holdonSecond:0,l=a.EnvInfo.getInstance().scopeInfo.accessibleHighestWin.location.href,m=l||"",n={insighter_url:b.linkXml.insighterURL||"",PID:b.linkXml.PID||"",UID:b.linkXml.UID||"",Viewer_ID:c,Play_Time:0,WatchTime:0,Vid_Length:0,Total_Time:i||0,Total_Filesize:j||"",Embedded_URL:m,VIDEO:"OPEN",CID:"0",Click_URL:"",AutoPlay:!1,counter:0},o={cid:g?"":f.companion.cid||f.companion[0].cid,src:g?"":f.companion.imgURL||f.companion[0].imgURL,click_links:g?"":{click_link:[]}};if(o.cid&&o.src){var p=void 0;f.companion.length>1?(p=f.companion[0].linkURL?f.companion[0].linkURL:f.companion[0].linkURLs.linkURL["#content"],o.click_links.click_link.push(p)):(p=f.companion.linkURL?f.companion.linkURL:f.companion.linkURLs.linkURL["#content"],o.click_links.click_link.push(p))}var q={delay_before_play_second:+e.delayBeforePlaySecond,pass_by_second:+e.bypassButtonSecond,hold_on_second:k,ad_total_time:i+k,inread_wording:e.body||"",banner:o,icons:[],tracking_code:e.tracking_code,texture_url:o.src||"",video:{src:[],poster:e.defaultURL,click_link:e.clickURL,cid:"-1",video_type:"video",duration:i||0}};if(d){var r=d.video.videoURL_mp4_1200k,s=d.video.videoURL_mp4["#content"],t="video"==d.video.videoURL_mp4["-format"]?"video":"html";r&&q.video.src.push(r),q.video.src.push(s),"html"==t&&(q.video.video_type=t)}if(q.banners=[],!g)if(void 0!==b.companions.companion[1]){var u=void 0,v=void 0!==b.companions.companion[1]?Object.keys(b.companions.companion).length:1;for(u=0;u<v;u++){var w=[];if(b.companions.companion[u].linkURL)w.push(b.companions.companion[u].linkURL);else if(void 0==b.companions.companion[u].linkURLs.linkURL.length){var x=b.companions.companion[u].linkURLs.linkURL["#content"];w.push(x)}else for(var y=0;y<b.companions.companion[u].linkURLs.linkURL.length;y++)w.push(b.companions.companion[u].linkURLs.linkURL[y]["#content"]);var z={src:b.companions.companion[u].imgURL,cid:b.companions.companion[u].cid,click_links:{click_link:w}};q.banners[u]=z}}else q.banners[0]=o;return void 0==e&&(h="JSON error"),{settings:q,warroom:n,play_mode:e.playerMode,player_type:e.playerType,auto_play:e.autoPlay,lJson:b,message:h}}b.parseJSON=c}(a.parser||(a.parser={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){var c=a.report.ERROR_REPORT,d=function(){function b(a,b,c,d){this.callback=d,this.iframeSize=b,this._eventCenter=c,this.vastSetting={is_vast:a.is_vast,vastResult:a.vastResult,hasVPAIDAd:a.hasVPAIDAd,vpaidSettingISIP:a.vpaidSettingISIP},this.init(a)}return b.prototype.init=function(a){this.tracking=a.params.tracking,this._eventCenter.dataCenter.isVast?this.xmlparserProcess(a):this._eventCenter.dataCenter.isJson?this.jsonParserProcess(a):this.xmlparserProcess(a)},b.prototype.xmlparserProcess=function(b){var c=this;return a.Util.ajax({url:b.params.l_url,success:function(d){var e=a.parser.xml_parser(d,b.params,c.vastSetting);c.adParam=e,c.adParam.tracking=c.tracking,null!==c.callback&&(a.Index.isip_index=b.params.isip_index,c.adParam.isip_index=b.params.isip_index,c.adParam.is_vast=c.vastSetting.is_vast,c.adParam.hasVPAIDAd=c.vastSetting.hasVPAIDAd,c.adParam.vpaidSettingISIP=c.vastSetting.vpaidSettingISIP,c.adParam.iframeSize=c.iframeSize,c.adParam.play_mode=b.params.play_mode,c.adParam.player_type=b.params.player_type,c.adParam.optionsParams=b.params,c.adParam.lXml=d,c.adParam.is_obm=b.params.is_obm,"landscape"===c.adParam.settings.inread_wording.split(",")[0].toLowerCase()&&(c.adParam.isLandScape=!0,top.window.ONEADs[b.params.isip_index].testParam={isLandScape:!0}),c.adParam.iframe=b.iframe,c.adParam.isNewDesign=b.params.play_mode===a.ONEAD_CONST.PLAY_MODE.IR,c.callback(c.adParam))},error:function(){c.errorHandle(b.params,"Can't get l.xml")}})},b.prototype.jsonParserProcess=function(b){this.adParam=b.params,this.adParam.tracking=this.tracking;var c=b.params.l_json.xml,d=b.params.guid;this._params=a.parser.parseJSON(c,d),"OK"!==this._params.message?this.xmlparserProcess(b):null!==this.callback&&(this.adParam.tracking=this.tracking,this.adParam.settings=this._params.settings,a.Tracking.TRACKING_CODE=this.adParam.settings.tracking_code,a.Index.isip_index=b.params.isip_index,this.adParam.isip_index=b.params.isip_index,this.adParam.is_vast=this.vastSetting.is_vast,this.adParam.hasVPAIDAd=this.vastSetting.hasVPAIDAd,this.adParam.vpaidSettingISIP=this.vastSetting.vpaidSettingISIP,this.adParam.iframeSize=this.iframeSize,this.adParam.play_mode=b.params.play_mode,this.adParam.player_type=b.params.player_type,this.adParam.optionsParams=b.params,this.adParam.is_obm=b.params.is_obm,this.adParam.iframe=b.iframe,this.adParam.isNewDesign=b.params.play_mode===a.ONEAD_CONST.PLAY_MODE.IR,this.callback(this.adParam))},b.prototype.errorHandle=function(b,d){var e=JSON.stringify({desc:d,lxmlUrl:b.l_url});this._eventCenter.sendErrorReport(c.XML_FAIL,e),parent.window.document.getElementById(parent.window.ONEADs[b.isip_index].wrapper).style.display="none";var f="object"==typeof parent.window.changeADState?parent.window.changeADState[b.isip_index]:parent.window.changeADState;a.Util.exec_callback(f,{newstate:"DELETED"})},b}();b.AdParam=d}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(){function b(a){this._element=document.createElement(a)}return Object.defineProperty(b.prototype,"id",{get:function(){return this._element.id},set:function(b){b+=a.Index.isip_index,this._element.id=b},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"class",{get:function(){return this._element.className},set:function(a){this._element.className=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),b.prototype.addEventListener=function(a,b,c){this._element.addEventListener(a,b,c)},b.prototype.removeEventListener=function(a,b,c){this._element.removeEventListener(a,b,c)},b.prototype.css=function(b){a.Util.apply_css(this._element,b)},b.prototype.hide=function(){this.css({display:"none"})},b.prototype.show=function(){this.css({display:"block"})},b.prototype.appendChild=function(a){a instanceof HTMLElement?this._element.appendChild(a):this._element.appendChild(a.render())},b.prototype.removeChild=function(a){a instanceof HTMLElement?this._element.removeChild(a):this._element.removeChild(a.render())},b.prototype.clean_all=function(){for(;this._element.firstChild;)this._element.removeChild(this._element.firstChild)},b.prototype.animate=function(b,c){return a.Util.animate(this._element,b,c)},b.prototype.addMouseEnterEffect=function(){var a=this;this.addEventListener("mouseenter",function(){a.css({filter:"brightness(1.5)",transition:"all 0.3s",transform:"scale(1.1)"})}),this.addEventListener("mouseleave",function(){a.css({filter:"brightness(1)",transition:"all 0.3s",transform:"scale(1)"})})},b.prototype.render=function(){return this._element},b.prototype.setAttribute=function(a,b){this._element.setAttribute(a,b)},b.prototype.removeAttribute=function(a){this._element.removeAttribute(a)},b}();b.Element=c;var d=function(a){function b(b){var c=a.call(this,"img")||this;return c._element.src=b,c}return __extends(b,a),Object.defineProperty(b.prototype,"src",{set:function(a){this._element.src=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this._element.width},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this._element.height},enumerable:!0,configurable:!0}),b.prototype.top=function(a){this.css({top:a+"px"})},b}(c);b.Image=d;var e=function(a){function b(b){var c=a.call(this,"a")||this;return c._element.href=b,c._element.target="_blank",c}return __extends(b,a),b}(c);b.aLink=e}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){!function(a){var b=function(a){function b(b){return a.call(this,"div")||this}return __extends(b,a),b}(a.Element);a.BasePlayer=b}(a.component||(a.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(c){var d=b.call(this,"video")||this;return d.hasVideo=!1,d.isDash=!1,d.id=a.ONEAD_CONST.ID.VIDEO,d.mute(),d.css({position:"absolute",width:"inherit",height:"inherit"}),d._dataCenter=c,d}return __extends(c,b),c.prototype.init=function(){try{if("html"===this._dataCenter.videoSource.video_type)return void this.hide();this._dataCenter.isVast?this._dataCenter.hasVPAIDAd||this.insertVastVideoSource(this._dataCenter.vastResult.video_src):this.insertVideoSource(this._dataCenter.videoSource.src)}catch(a){}},c.prototype.insertVideoSource=function(a){for(var b=0;b<a.length;b++)if(""!==a[b]){var c=document.createElement("source");c.src=a[b],this.appendChild(c),this.hasVideo=!0}},c.prototype.insertVastVideoSource=function(a){if(this._dataCenter.hasVideo){var b=a[0][0],c=function(a,b){return b.bitrate-a.bitrate};b.sort(c);for(var d=0;d<b.length;d++)if(b[d].fileURL.indexOf("mp4")>0){var e=document.createElement("source");e.src=b[d].fileURL,e.type="video/mp4",this.appendChild(e),this.hasVideo=!0}}},c.prototype.duration=function(){return parseInt(this._element.duration.toString())},c.prototype.currentTime=function(){return parseInt(this._element.currentTime.toString())},Object.defineProperty(c.prototype,"src",{get:function(){return this._element.src},set:function(a){this._element.src=a},enumerable:!0,configurable:!0}),c.prototype.play=function(){this._element.play()},c.prototype.pause=function(){this._element.pause()},c.prototype.mute=function(){this._element.muted=!0},c.prototype.unMute=function(){this._element.muted=!1},c.prototype.volume=function(a){this._element.volume=a,0==this._element.volume?this._dataCenter.volume=0:this._dataCenter.volume=this._element.volume},c.prototype.getVolume=function(){return this._element.volume},c.prototype.setCurrentTime=function(a){this._element.currentTime=a},c.prototype.isReady=function(){return this.readyState>=3},Object.defineProperty(c.prototype,"readyState",{get:function(){return this._element.readyState},enumerable:!0,configurable:!0}),c.prototype.isPlaying=function(){return!this._element.paused},c.prototype.autoPlay=function(a){this._element.autoplay=a},c.prototype.load=function(){this._element.load()},c}(b.Element);b.Video=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){function c(b){return new a.Promise(function(a,c){var d=f(b);if(d)e(d.mpdUrl).then(function(){e(d.mp4Url).then(function(){a(d)}).catch(function(a){c({message:"Error",status:a,fileType:"dashinit.mp4"})})}).catch(function(a){c({message:"Error",status:a,fileType:"dash.mpd"})});else{c({message:"video url has problem"})}})}function d(b){return new a.Promise(function(a,c){var d=g(b);if(d)e(d).then(function(){a(d)}).catch(function(a){c({message:"Error",status:a,fileType:".m3u8"})});else{c({message:"video url has problem"})}})}function e(b){return new a.Promise(function(a,c){var d=new XMLHttpRequest;d.open("HEAD",b,!0),d.addEventListener("load",function(b){d.readyState===d.DONE&&(d.status>=200&&d.status<300||304==d.status?a():c(d.status))}),d.addEventListener("error",function(a){c(d.status)}),d.send()})}function f(a){var b,c;if(a){var d=a.indexOf(".mp4");if(d>-1)return b=a.substr(0,d)+"_dash.mpd",c=a.substr(0,d)+"_dashinit.mp4",{mpdUrl:b,mp4Url:c}}else;}function g(a){if(a){if(a.indexOf(".mp4")>-1){var b=a.split("/"),c=b[b.length-1],d=/_\d+k.mp4/g,e=a.length,f=a.substr(a.search(d),e),g=c.substr(0,c.indexOf(f));return a.replace(f,"_m3u8/"+g+".m3u8")}}}function h(a){if(a.player&&a.player.videoTag){var b=1.5*window.innerHeight,c=function(){a.player.videoTag.isHls&&a.getAdTop()<=b&&(a.player.loadHlsSource(),top.window.removeEventListener("scroll",d))},d=c.bind(this);a.player.videoTag.isHls&&(top.window.addEventListener("scroll",d),d())}}b.checkIfDASHFileAvaliable=c,b.checkIfHlsFileAvaliable=d,b.checkIfNeedToLoadHls=h}(a.VideoUtil||(a.VideoUtil={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){var b=function(){function a(a,b){this.onBufferUpdateFunc=this.onBufferUpdate.bind(this),this.timeUpdateAndbufferCheckFunc=this.timeUpdateAndbufferCheck.bind(this),this.segmentIndex=0,this.initPlay=!0,this.lastBufferEndTime=0,this.isFetching=!1,this.DOWNLOAD_TIME_BEFORE_ENDBUFFER=3,this.hasSwitchBack=!1,this.videoElement=a,this.switchCallback=b}return a.prototype.init=function(a){this.mpdSrc=a.mpdUrl,this.mp4Src=a.mp4Url,this.getMPDFile()},a.prototype.getMPDFile=function(){if(this.mpdSrc&&this.mpdSrc.indexOf("mpd")>-1){var a=new XMLHttpRequest;a.open("GET",this.mpdSrc,!0),a.send(),a.addEventListener("load",this.onMPDFileLoad.bind(this)),a.addEventListener("error",this.onMPDFileError.bind(this))}else this.switchBackToOriginVideoWhenErrorOccur()},a.prototype.onMPDFileLoad=function(a){if(this.onLoadEnd(a))if(this.statusIsOk(a))try{var b=a.target.response,c=new DOMParser;this.xmlData=c.parseFromString(b,"text/xml"),this.mpdInfo=this.parseMPDInfo(),this.setupMediaSource()}catch(a){this.switchBackToOriginVideoWhenErrorOccur()}else this.onMPDFileError();else this.onMPDFileError()},a.prototype.onMPDFileError=function(){this.switchBackToOriginVideoWhenErrorOccur()},a.prototype.parseMPDInfo=function(){for(var a=this.xmlData.querySelectorAll("Initialization"),b=this.xmlData.querySelectorAll("Representation"),c=this.xmlData.querySelectorAll("SegmentURL"),d=[],e=0;e<c.length;e++)d.push(c[e].getAttribute("mediaRange"));return{fileUrl:this.mp4Src,mimeType:b[0].getAttribute("mimeType"),codecs:b[0].getAttribute("codecs"),initRange:a[0].getAttribute("range"),mediaRangeArr:d,rangeArrLength:d.length}},a.prototype.setupMediaSource=function(){this.mediaSource=new MediaSource;var a=URL.createObjectURL(this.mediaSource);this.videoElement.src=a,this.mediaSource.addEventListener("sourceopen",this.onSourceOpen.bind(this),!1)},a.prototype.onSourceOpen=function(){try{URL.revokeObjectURL(this.videoElement.src),this.videoSourceBuffer=this.mediaSource.addSourceBuffer(this.mpdInfo.mimeType+"; codecs=avc1.42C01E,mp4a.40.2"),this.fetchBuffer(this.mpdInfo.initRange,this.onInitBufferReadyStateChange)}catch(a){return void this.switchBackToOriginVideoWhenErrorOccur()}},a.prototype.fetchBuffer=function(a,b){if(a&&!this.isFetching)try{this.isFetching=!0;var c=new XMLHttpRequest;c.open("GET",this.mpdInfo.fileUrl,!0),c.setRequestHeader("Range","bytes="+a),c.responseType="arraybuffer",c.send(),c.addEventListener("readystatechange",b.bind(this),!1)}catch(a){return void this.switchBackToOriginVideoWhenErrorOccur()}},a.prototype.onInitBufferReadyStateChange=function(a){if(this.onLoadEnd(a)){if(!this.statusIsOk(a))return void this.switchBackToOriginVideoWhenErrorOccur();try{this.isFetching=!1,this.videoSourceBuffer.appendBuffer(new Uint8Array(a.target.response)),this.videoSourceBuffer.addEventListener("updateend",this.onBufferUpdateFunc,!1)}catch(a){return void this.switchBackToOriginVideoWhenErrorOccur()}}},a.prototype.onBufferUpdate=function(){this.bufferUpdated=!0,this.initPlay&&(this.getStarted(),this.initPlay=!1),this.videoSourceBuffer.removeEventListener("updateend",this.onBufferUpdateFunc)},a.prototype.getStarted=function(){this.fetchNextSegment(),this.videoElement.addEventListener("timeupdate",this.timeUpdateAndbufferCheckFunc)},a.prototype.timeUpdateAndbufferCheck=function(){if(this.bufferUpdated)if(this.segmentIndex<this.mpdInfo.rangeArrLength-1){if(this.videoElement.currentTime>=this.lastBufferEndTime-this.DOWNLOAD_TIME_BEFORE_ENDBUFFER)try{this.bufferUpdated=!1,this.segmentIndex++,this.fetchNextSegment(),this.lastBufferEndTime=this.mediaSource.sourceBuffers[0].buffered.end(0)}catch(a){this.switchBackToOriginVideoWhenErrorOccur()}}else this.videoElement.removeEventListener("timeupdate",this.timeUpdateAndbufferCheck)},a.prototype.fetchNextSegment=function(){this.segmentIndex===this.mpdInfo.rangeArrLength-1&&this.videoSourceBuffer.addEventListener("updateend",this.lastBufferUpdateEnd.bind(this),!1),void 0!==this.mpdInfo.mediaRangeArr[this.segmentIndex]&&this.mpdInfo.fileUrl&&this.fetchBuffer(this.mpdInfo.mediaRangeArr[this.segmentIndex],this.onFetchNextSegmentReadyStateChange)},a.prototype.onFetchNextSegmentReadyStateChange=function(a){if(this.onLoadEnd(a))if(this.statusIsOk(a)){this.isFetching=!1;try{this.videoSourceBuffer.appendBuffer(new Uint8Array(a.target.response)),this.videoSourceBuffer.addEventListener("updateend",this.onBufferUpdateFunc,!1),0===this.segmentIndex||this.isReady()||this.resetCurrentTimeWhenVideoStuck()}catch(a){this.switchBackToOriginVideoWhenErrorOccur()}}else this.switchBackToOriginVideoWhenErrorOccur()},a.prototype.lastBufferUpdateEnd=function(){this.videoSourceBuffer.updating||"open"!==this.mediaSource.readyState||(this.mediaSource.endOfStream(),this.videoElement.removeEventListener("updatend",this.lastBufferUpdateEnd))},a.prototype.resetCurrentTimeWhenVideoStuck=function(){this.videoElement.currentTime=this.videoElement.currentTime},a.prototype.switchBackToOriginVideoWhenErrorOccur=function(){var a=this;if(!this.hasSwitchBack){this.hasSwitchBack=!0;var b=this.videoElement.currentTime;this.videoElement.removeEventListener("timeupdate",this.timeUpdateAndbufferCheckFunc),this.videoElement.removeAttribute("src"),this.switchCallback(),this.videoElement.load(),this.videoElement.currentTime=b;var c=function(){a.videoElement.play(),a.videoElement.removeEventListener("canplay",c)};this.videoElement.addEventListener("canplay",c)}},a.prototype.onLoadEnd=function(a){return a.target.readyState===a.target.DONE},a.prototype.statusIsOk=function(a){return a.target.status>=200&&a.target.status<300||304==a.target.status},a.prototype.isReady=function(){return this.videoElement.readyState>2},a}();a.DashVideo=b}(a.Dash||(a.Dash={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"div")||this;return e.needToCheckSize=!1,e.hasVideo=!1,e._eventCenter=d,e._dataCenter=d.dataCenter,e.hasVideo=e._dataCenter.hasVideo,e.id="ONEAD-video-player-wrapper",e.css({width:"640px",height:"360px",position:e._dataCenter.isOnlyBanner||e._dataCenter.isLandscape?"static":"absolute","text-align":"initial"}),e.envInfo=a.EnvInfo.getInstance(),e.needToCheckSize=e.checkIfNeedToCheckSize(),e.videoTag=new b.Video(e._dataCenter),e.init(),e._eventCenter.diRegister(a.ONEAD_CONST.COMPONENT_TYPE.DESKTOP_PLAYER,e),e}return __extends(d,c),d.prototype.init=function(){this.hasVideo&&this.checkIfBrowserSupportDash()&&!this._dataCenter.isVast&&!this._dataCenter.isOBM?this.createDashVideo(this._dataCenter.videoSource.src):this.createOriginVideo()},d.prototype.createDashVideo=function(b){var c=this,d=function(){c.videoTag.isDash=!1,c.videoTag.init()},e=0,f=function(g){a.VideoUtil.checkIfDASHFileAvaliable(g).then(function(b){c.dashVideo=new a.Dash.DashVideo(c.videoTag._element,d),c.videoTag.isDash=!0,c.dashVideo.init(b),c.appendChild(c.videoTag)}).catch(function(a){e++,e===b.length?(a.message,c.createOriginVideo()):f(b[e])})};f(b[e])},d.prototype.createOriginVideo=function(){this.videoTag.isDash=!1,this.hasVideo&&(this.videoTag.init(),this.appendChild(this.videoTag))},d.prototype.checkIfBrowserSupportDash=function(){var a=top.window.navigator.userAgent,b=top.window.navigator.vendor;return!!this.envInfo.checkChromeVersionIsAbove("50.0.0.0")&&(!(/MSIE|Trident|Edge|iPhone|iPad|iPod/i.test(a)||/Safari/i.test(a)&&/Apple Computer/i.test(b))&&!!(window.MediaSource&&"MediaSource"in window))},d.prototype.setVideoPlayerSize=function(a){switch(a){case"NORMAL":this.css({width:"640px",height:"360px"}),this.videoTag.css({width:"inherit",height:"inherit"});break;case"LANDSCAPE":this.css({width:"950px",height:"390px"}),this.videoTag.css({width:"950px",height:"390px"});break;case"FOLLOW":this.css({width:"320px",height:"180px"}),this.videoTag.css({width:"100%",height:"100%",left:"0",top:"0"});break;case"DF_HTML":this.css({width:"640px",height:"390px"});break;case"INSYNC_HTML":this.css({width:"950px",height:"390px"});break;case"INREAD_BANNER":this.css({width:"640px",height:"435px"}),this.videoTag.css({width:"640px",height:"360px"});break;case"FOLLOW_LANDSCAPE":this.css({width:"320px",height:320/(950/390)+"px"}),this.videoTag.css({width:"320px",height:320/(950/390)+"px",left:"0",top:"0",transition:"all 0.3s"})}},d.prototype.isPlaying=function(){return this.videoTag.isPlaying()},d.prototype.isReady=function(){return this.videoTag.isReady()},d.prototype.play=function(){this.videoTag.play()},d.prototype.pause=function(){this.videoTag.pause()},d.prototype.autoPlay=function(a){this.videoTag.autoPlay(a)},d.prototype.mute=function(){this.videoTag.mute()},d.prototype.unMute=function(){this.videoTag.unMute()},d.prototype.volume=function(a){this.videoTag.volume(a)},d.prototype.checkIfNeedToCheckSize=function(){return this._dataCenter.isVast?!this._dataCenter.hasVPAIDAd&&this._dataCenter.vastResult.hasPlayableAd:this.hasVideo},d.prototype.canAutoPlay=function(){var a=this.videoTag._element.play();void 0!==a&&a.then(function(a){
alert("can autoplay.")}).catch(function(a){})},d.prototype.preventVideoPauseByBrowser=function(a){void 0===a&&(a=!1),!a&&this.videoTag.currentTime()<this.videoTag.duration()&&(this.isPlaying()||this.play())},d}(b.BasePlayer);b.VideoPlayer=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){!function(a){var b=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b}(a.Element);a.BaseComponent=b}(a.component||(a.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(a){var c=b.call(this,"div")||this;return c._eventCenter=a,c._dataCenter=a.dataCenter,c}return __extends(c,b),c.prototype.setupVideoClick=function(b){this._videoClickUrl=b,this.id=a.ONEAD_CONST.ID.VIDEO_CLICK_AREA,this.css({position:"absolute",top:"0px",left:"0px","z-index":"9900",width:"100%",height:"100%",cursor:"pointer","background-color":"rgba(255,255,255,0.01)"}),a.Util.checkUrlIsAvaliable(b)||this.hide()},c.prototype.setupBannerClick=function(b,c){switch(this.id=a.ONEAD_CONST.ID.BANNER_CLICK_AREA,this.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","z-index":"9999",cursor:"pointer","background-color":"rgba(255,255,255,0.01)"}),this._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:this.css({height:"75px",top:this._dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IR?"360px":"285px"});break;case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:this._dataCenter.hasVideo&&this.css({width:"300px",height:"390px",left:"645px"})}this.bindBannerClickEvent(b,c)},c.prototype.bindVideoClickEvent=function(b){b.eventCenter.dispatch(a.ONEAD_EVENT.events.VIDEO_CLICK),b.userClickLink(this._videoClickUrl)},c.prototype.bindBannerClickEvent=function(b,c){var d=this;c?this.addEventListener("click",function(){var b=void 0!==c.click()?c.click():d._dataCenter.vastTrackerCenter.click();a.Util.checkUrlIsAvaliable(b)&&(d._eventCenter.dispatch(a.ONEAD_EVENT.events.BANNER_CLICK),a.Util.openUrl(b,d._dataCenter.isUseAssign,d._dataCenter.isUseParent))}):this.addEventListener("click",function(){d._eventCenter.dispatch(a.ONEAD_EVENT.events.BANNER_CLICK),b.userClickLink(d._dataCenter.bannerDataInXml[0].linkUrls[0])})},c}(b.BaseComponent);b.ClickArea=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){var b=function(){function a(){}return a.hideUipLostIcon=function(a){if(a.contentDocument){var b=a.contentDocument.head||a.contentDocument.getElementsByTagName("head")[0],c=a.contentDocument.createElement("style");c.type="text/css",c.id="iframe-banner-style";var d=a.contentDocument.createTextNode("#abgc{display:none !important}");c.appendChild(d),b&&b.appendChild(c),setTimeout(function(){var b=a.contentDocument.querySelector("#abgc");b&&b.getBoundingClientRect().width>0&&b.style.setProperty("display","important")},2e3)}},a}();a.AdCustomLogic=b}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(a,c,d){var e=b.call(this,"iframe")||this;return e.isNewDF=!1,e.id="banner-iframe",e._element.setAttribute("scrolling","no"),e._dataCenter=a,e.isNewDF=e._dataCenter.isIR_DF,e.setupCss(),e.setupIframe(c,d),e}return __extends(c,b),c.prototype.setupCss=function(){this.bannerCss={DF_640_390:{width:"640px",height:"390px",position:"absolute",top:"0px",left:"0px",border:"0px","z-index":"1000",cursor:"pointer"},DF_640_75:{position:"absolute",left:"0px",top:"285px",width:"640px",height:"75px","z-index":"1000",cursor:"pointer"},DF_640_435:{position:"absolute",left:"0px",top:"0px",width:"640px",height:"435px","z-index":"1000",cursor:"pointer",border:"0"},FLIP_DF_BANNER:{position:"absolute",left:"0px",top:"0px",width:"640px",height:"435px","z-index":"1000",cursor:"pointer",border:"0"},INSYNC_950_390:{width:"950px",height:"390px",position:"absolute",top:"0px",left:"0px",border:"0px","z-index":this._dataCenter.isLiftBanner?"9990":"1000",cursor:"pointer"},INSYNC_300_250:{width:"300px",height:"250px",position:"absolute",top:"70px",left:"645px",border:"0px","z-index":"1000",cursor:"pointer"}}},c.prototype.isVastParam=function(a){return void 0!==a.creative},c.prototype.setupIframe=function(b,c){var d=this;switch(this._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF_BANNER:this.css(this.bannerCss.FLIP_DF_BANNER);break;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:this.isNewDF?this.css(this.bannerCss.DF_640_435):this.css(this.bannerCss.DF_640_390);break;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:this.css(this.bannerCss.INSYNC_950_390)}if(this.isVastParam(b)){if(null!==b.creative.iframeResource)this.bannerSrc=-2!==c?b.creative.iframeResource.substr(0,c)+"/index.html?isipIndex="+this._dataCenter.isipIndex:b.creative.iframeResource;else if(null!==b.creative.htmlResource){this.bannerSrc=void 0;var e=function(){var c=d._element.contentDocument;c.write(b.creative.htmlResource);var e=c.createElement("style");if(e.type="text/css",e.innerHTML="body{margin:0px;}",c.head)c.head.appendChild(e);else var f=0,g=setInterval(function(){c.head?(c.head.appendChild(e),clearInterval(g)):4==++f&&clearInterval(g)},500);a.AdCustomLogic.hideUipLostIcon(d._element)};this._element.contentDocument?e():this._element.addEventListener("load",e)}else null!==b.creative.staticResource&&(this.bannerSrc=b.creative.staticResource.substr(0,c)+"/index.html?isipIndex="+this._dataCenter.isipIndex);if(this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC||this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC)switch(b.creative.width){case"300":this.css(this.bannerCss.INSYNC_300_250);break;case"950":this.css(this.bannerCss.INSYNC_950_390)}else if(this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_DF||this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF)switch(b.creative.height){case"75":this.isNewDF?this.css(this.bannerCss.DF_640_435):this.css(this.bannerCss.DF_640_75);break;case"390":this.isNewDF?this.css(this.bannerCss.DF_640_435):this.css(this.bannerCss.DF_640_390)}}else this.bannerSrc=b.src.substr(0,c)+"/index.html?isipIndex="+this._dataCenter.isipIndex;this.bannerSrc&&this._element.setAttribute("src",this.bannerSrc),this._dataCenter.hasVPAIDAd&&this.css({"z-index":""})},c.prototype.restart=function(){this._element.setAttribute("src",this.bannerSrc)},c}(b.BaseComponent);b.IframeBanner=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"a")||this;e._eventCenter=d,e.id=a.ONEAD_CONST.ID.BUTTON.REPLAY,e.css({position:"absolute","z-index":"8000",left:"29.843%",top:"38.056%",cursor:"pointer"});var f=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABXCAMAAACkyjInAAAAqFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8j1z1tAAAAN3RSTlMA+ZfyeojgptUfUMr2EQXqQTQa5cRgVkvu0rMLkFxGOyPbuYaAJ82wmwJmrJ90bFIVDdi/oywHmCfJOAAAA5ZJREFUWMPt2Nl2okAQBuAqUBBFEHDHfZ+oiWb73//NphqUUScgic7V+J2TvkjO+dNVXU2C9PDw8H+wmrPNcmlqzzWHbjefviJRuTnR6+LMgG5SXeFCjW4xDHDApfqkbgDvdIs+IzKeeZ+khCHd4gmRxYDuowVFb9CdjPSo2jndSx2is6N7aUAEPt2LY8RDdzdNiBXdzxsAzig4XBsbj/KrAtm3YgrxVstf8ZUOhm1Euh+UT0+NtHPtEgmeOpTHBECd0pWQqPiUwzj7jAc48UY5uACmlKqL2Gahpp9yUD2fUZq5at6rupmONHtLOQRqh5lHtp5BhOT7lLeHG0qzBDBsQeSdmqhJFUrTYpjkQQwpp6LqUkhpqnP6ZmBUT5mylCFGlNOeASyvXiZ2KKeo75z1+38ZyWXKX7N57fFRoNx+lSBalObzFcKi/F4gXItSzNIquHJfS7uMjvCcvsNqQ3S+3GNNhyjS9wwYol3+oh02ROfzh//brC+mZ7eC4o7o2/qI8HrgJKc/XNlx3gf9QM1FTJ9Mn5rNxmx9/IbxQT/iL/GlSZV+qlzCX4I+3eBXecI4Ve9/0o2qfW2hQ3Dn/cmnO9nv/JAeHh4e/qndfPjS8K8+OemPZuFcn0S5tzLfOuNAR6RO2QbQ6GiESx4R2VCYZdGNTrd59d2mQ0fOqhKx0a5EzFAqmL4u6t0Kc+GlplTpSzWdRZeqzOtGxD99QTIv/87bEFklP7MS0FYHK7a9JKHhVI+ENzYMg8HGwYy+5LTKYuS4sA0RMD9Heztsh6GUiCjsmYLZNY+eKUNT59ZQs+jFZisOfLcsa4yurO9RoIdLbdmOdW6f7DOAQQv05Kt06F5dpsVFR9Y6SvEoTQDeaAfTgkc05gtzivVtbkmItgeXD4GnosBfWwbjiF01t/oF9ijm2W8qZEnb3vF83WRs3CiwWmKVc2RDjY1VPudJVFHZqp8GJy/tsttkbLQocACWfO2gqyNlDjuIyIn5DDQOHTB1jE1T1kBWA7rZIGfWL+JEWuCToXSkmVMG3JAUF5d0EkW4xQNTlZztg3nCiFtYK7pYFI8WkjOIAk8P5VqgH7DtF5ibpz0USQ9F8eJQsgzbzAP6NMCD88DdyFklgdcOJbHXGNHe5gzunwWWAD4+B64eSmLG3B4eX851EhPeUkRT5dUo8ozXwkGRbYfSee5mT7EXo0CimnyGPmoNQ4o5J89Ab0T5/QYZ37ffIV2jdwAAAABJRU5ErkJggg==");return f.id=a.ONEAD_CONST.ID.IMG.REPLAY,a.Util.setBaseStyles(f.element),e.appendChild(f),e}return __extends(d,c),d.prototype.click=function(a){a.playerState.isEnded=!1,a.videoPoster.hide(),a.play(),a.videoEndWrapper.hide(),a.newControlWrapper&&!this._eventCenter.dataCenter.hideControlWrapper&&a.newControlWrapper.show(),a.play_time++,a.materialCallCountDownTextHide||(a.controlWrapper.adCountDown.show(),a.FOLLOW_TYPE_CONST.isFOLLOW&&a.followControlWrapper.followControlWrapperBackground.adCountDown.show(),a.newControlWrapper&&a.newControlWrapper.newControlWrapperDiv.adCountDown.show()),a.bannerWrapper.isIframeBanner&&a.bannerWrapper.banner.restart()},d}(b.BaseComponent);b.ReplayButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"a")||this;e.id=a.ONEAD_CONST.ID.BUTTON.MORE,e.css({position:"absolute","z-index":"8000",left:"57.968%",top:"38.056%",cursor:"pointer"});var f=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABXCAMAAAByb+hCAAAAsVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+3mHKcAAAAOnRSTlMA/fj68eH1YNZAEIhPCQQw6sSxmHrLkNs1FWoh7aR1WhjltaYrVUrA03Ej0LqDZTsnHA2pgK2fi8hG/+qDGQAABSxJREFUWMPtmdli2jAQRTWSLDabxZh939dAQpImuf//YZVkuwSIWwx5ansenAmG62hGuhoFdg2zsnxg30dRAih9n14eGvfv1lv3/PmXesU3Z7tOr5cFaBDFHjTzSK6n43FqOSNxFFwA3fxRDg2WmspnwXz/YR3LGW6YjE8NaETnbGLDUDXhbYJzdsLqRjlDaxln7cha3ipnBIO3aRwPD8zSac/Z3bhbDjiF/De5wTNCRtNv0ZsgxvHY/bg48h0muIBmMguUGfGNftKva16mNnsiWq8BNB1T9vDu4/V6S1iU+XTHRDMd7E2w1w/IwiKfrpXrIGKnf8mZoGlejZbLIyIyV3uLREguXrFPRi8ywUN8t8muJVdxNJuViXfQHGJTNX7zEd5ts5swDkAs1suwe3kxqbeFhqZ9t94DgLKNoFndrVc368xGSkf9u/WqALI2MnV9uVvvB4CNjUbfsoCNWVVs5Oionn/q3GeDPoCFjRqI6G77w/SecKG3wRHx4ymN2MeWg1dWrRO9Gj4jB+nmnEEV8lZvHFf6SJq5M8Avuv13ffXDDDw3xi8Zd9auOrDMrtRzcIZ/sQc4KRywBM1iVy8n6BlaNpm964oBjfZ6L+gm6rGheRp1rtGb/jKS/IOC4Zldkrl6vyt2jaW0wnHVeYJLFc30fr/aUlDJRwMrbFeJ7+pepTeU0GT/sCG2oSmmmIDy9x19HwBn12He+ye3q1qjvZIMh+HVY4k07ES6luYIhkor8Q1IZ//DCgyNaaJvax7TtJE/YFDu148TAGosFQEMfJpQjfS7+8BW5Qe7ZC1MdePZl64qm6QeeHfrbn5BicwCKt66+16whca9ebc8JwfrLTew+NL9XqHJ3dq9BOycsd3zbqHlj3re5XgVyo/sG2nt8+w///mHWU9T9NonTtjKnVBihiGnp7zHvH7BEuRZc5k9pVaKOw+qnWzMgn9CCXuu7QkyW8ccIbzNgigkmDvHw5xXVxCOZdmJ3OcIge+tY5IW4WPvxSeqVqVYscMgY1FqEgYDz3qNQ1zFD5qf9y0cvGc7LFoUX4mvtQNSgzFHmK2xUDOQdMyPirX75oageq7hFVQ5VXusabmMiXxBUnIhyv2ZoPZ8psyTDzjBfrgGIpL6scNnwubUKVeC+DK0yQoMHKSINo8gEh1zQO9WgyDgaqyvi1DP9fdTiVGzzol872yLFmoXl/wZvTf4O3S70h1K5bSZ0SsXfuVva/QshxfBtdrFeanETSUiCpFe1uNUiPqUfFyx43i9YOyQEuASsnmpVzrqRQXLzgTK4Nla0/59frVa5bKir0ur1zSzQMjJriFJlg1Bkp7sQpUpuwTZCRd8Pd5eY9Keth4EKRFmvJakVw0wcSFB7TFGdq7lwUkjIMw1zp83fxWKHFevrHlZiH2S3raHRQFlXtdxNjqqc6UXAamyo2lkwspJgpDCFONpyUUmIX9vUdpHvckkCzmZmLXVAQVszk8awkOXFoMN8SabSRLtpHq8oqxXvEOIIdOxvoMao7N/jnuePcx1lwQ+SKxvw/aeLpygUKjoOhTc8KsAAqRfOu+Mc74CaHs8Hc5W+2Hzk94QaLKD55rMHfPXyVQIEoLLSn33UeoY18vn+mOlBMT7nh0ZkSAo/sgi9MJgLQLR8qhX5UJAjNoTxQFILeIbt1DKGNHrqfvORsTpkz18yAzz9EN439rlOLRJocauHV5hKbWGcaICV9T13cuWyVuXhucvTXPNMD15OzPcafFTXdfNnKfvZeZnJ56fTn/yqXBvdooAAAAASUVORK5CYII=");return f.id=a.ONEAD_CONST.ID.IMG.MORE,a.Util.setBaseStyles(f.element),e.appendChild(f),e.clickUrl=d,e}return __extends(d,c),d.prototype.click=function(b){b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MORE),b.userClickLink(this.clickUrl)},d.prototype.setMoreUrl=function(a){this.clickUrl=a},d}(b.BaseComponent);b.MoreButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function e(b,d){var e=c.call(this,"div")||this;return e._eventCenter=d,e.id=a.ONEAD_CONST.ID.WRAPPER.VIDEO_END,e.css({position:"absolute",top:"0",left:"0",width:"640px",height:"360px","z-index":"10000","transform-origin":"0 0",display:"none",transition:"all 0.3s"}),e.buildObject(b),e.appendChild(e.videoEndBackGround),e.appendChild(e.replayButton),e.appendChild(e.moreButton),e._eventCenter.dataCenter.isHideReplayMore&&(a.Util.thoroughHideElement(e),a.Util.thoroughHideElement(e.moreButton),a.Util.thoroughHideElement(e.replayButton),a.Util.thoroughHideElement(e.videoEndBackGround)),e}return __extends(e,c),e.prototype.buildObject=function(a){this.videoEndBackGround=new d,this.replayButton=new b.ReplayButton(this._eventCenter),this.moreButton=new b.MoreButton(a)},e.prototype.setSize=function(a){switch(a){case"NORMAL":this.css({width:"640px",height:"360px",transform:"scale(1)"});break;case"LANDSCAPE":this.css({width:"950px",height:"390px",transform:"scale(1)"}),this.replayButton.css({transform:"scale(1)"}),this.moreButton.css({transform:"scale(1)"});break;case"FOLLOW":this.css({width:"640px",height:"360px",left:"0",top:"0",transform:"scale(0.5)","transform-origin":"0 0"});break;case"FOLLOW_LANDSCAPE":this.css({width:"950px",height:"390px",left:"0",top:"0",transform:"scale("+320/950+")","transform-origin":"0 0"}),this.replayButton.css({transform:"scale(2)"}),this.moreButton.css({transform:"scale(2)"})}},e}(b.BaseComponent);b.VideoEndWrapper=c;var d=function(b){function c(){var c=b.call(this,"div")||this;return c.id=a.ONEAD_CONST.ID.VIDEO_END_BACKGROUND,c.css({width:"100%",height:"100%","z-index":"3000","background-color":"black",opacity:"0.5"}),c}return __extends(c,b),c}(b.BaseComponent)}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(b){var d=c.call(this,"div")||this;return d.id=a.ONEAD_CONST.ID.VIDEO_POSTER,d.createPoster(b),d.css({width:"640px",height:"360px",position:"absolute",top:"0",left:"0","z-index":"1000"}),d.hide(),d}return __extends(d,c),d.prototype.setSize=function(a){switch(a){case"NORMAL":this.css({width:"640px",height:"360px"});break;case"LANDSCAPE":this.css({width:"950px",height:"390px"});break;case"FOLLOW":this.css({width:"320px",height:"180px"});break;case"FOLLOW_LANDSCAPE":this.css({width:"320px",height:320/(950/390)+"px",transition:"all 0.3s"})}},d.prototype.createPoster=function(a){""!==a.videoSource.poster&&(this.poster=new b.Image(a.videoSource.poster),this.poster.id="video-poster-img",this.poster.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"0","margin-bottom":"0",display:"initial"}),this.appendChild(this.poster))},d}(b.BaseComponent);b.VideoPoster=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d,e,f,g){var h=c.call(this,"div")||this;return h._color="#ec0e0e",h._filter="brightness(1)",h.id=a.ONEAD_CONST.ID.DESKTOP.AD_COUNT_DOWN,h.css({"font-size":"12px",display:"none",position:"absolute",bottom:f||!d?"1px":"-1px",left:d?"40px":"6px",color:h._color,height:f?"25px":"",margin:"0",filter:h._filter}),h.countDownImg=new b.Image("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMy4xOSAxMC45MyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Jbi1SZWFkPC90aXRsZT48ZyBpZD0icmFtcCI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMi4xMS4wNWExLjE0LDEuMTQsMCwwLDEsLjQ4LjA5QS40NC40NCwwLDAsMSwyLjguNTZhNC4zNCw0LjM0LDAsMCwxLS4wNy41MmMtLjA4LjM3LS4xOC43Ny0uMjksMS4xOHY4LjExYS40Ny40NywwLDAsMS0uMTguNDIuNTcuNTcsMCwwLDEtLjQ0LjE0LjQ5LjQ5LDAsMCwxLS40LS4xNC40OS40OSwwLDAsMS0uMTctLjQyVjUuNWwtLjE3LjM3YS41Ny41NywwLDAsMS0uNDcuMjIuNzMuNzMsMCwwLDEtLjQ3LS4xNUEuNDYuNDYsMCwwLDEsMCw1LjU4YTEuMjQsMS4yNCwwLDAsMSwuMTItLjQxQTIyLDIyLDAsMCwwLDEuNzIuMzkuNDYuNDYsMCwwLDEsMi4xMS4wNVpNMy41Mi4zOUg2Ljc5QS43MS43MSwwLDAsMSw3LjIzLjUuNjEuNjEsMCwwLDEsNy4zNSwxYS41My41MywwLDAsMS0uMTEuMzcuNTMuNTMsMCwwLDEtLjQ1LjE4SDUuMzRsLS44LDIuNTlhMTMuNjEsMTMuNjEsMCwwLDAsMS4zOC0uMThjLS4xMi0uMzItLjI0LS42Ny0uMzgtMWEuNjcuNjcsMCwwLDEtLjA2LS4zLjc0Ljc0LDAsMCwxLDAtLjE4LjUyLjUyLDAsMCwxLC4yMi0uMTkuNjcuNjcsMCwwLDEsLjI2LDAsLjY0LjY0LDAsMCwxLC4zNi4xNSw3LjE0LDcuMTQsMCwwLDEsLjc3LDEuNTcsMy42NiwzLjY2LDAsMCwxLC4yOCwxLjIzLjQ1LjQ1LDAsMCwxLS4xMy4zMy42NS42NSwwLDAsMS0uNDUuMTQuNDkuNDksMCwwLDEtLjI3LS4wNi40NS40NSwwLDAsMS0uMTQtLjE2YzAtLjEzLS4wOS0uMjYtLjE0LS40YTcsNywwLDAsMS0uODIuMTYsMTEuMjksMTEuMjksMCwwLDEtMi4xNC4xOS42NS42NSwwLDAsMS0uNDYtLjE0LjY2LjY2LDAsMCwxLS4xNS0uNDguNjUuNjUsMCwwLDEsLjEtLjM4LjY2LjY2LDAsMCwxLC41My0uMThMNC4xNywxLjVIMy41MmEuNjMuNjMsMCwwLDEtLjQ0LS4xM0EuNTguNTgsMCwwLDEsMywxLC43My43MywwLDAsMSwzLjA4LjUuNzUuNzUsMCwwLDEsMy41Mi4zOVptLS4xLDYuMzJINC41NVY1LjkyYS41OC41OCwwLDAsMSwuMTQtLjM4LjczLjczLDAsMCwxLC40Mi0uMDkuNzYuNzYsMCwwLDEsLjQzLjA5LjQ5LjQ5LDAsMCwxLC4xNy4zOHYuNzloMWEuNjEuNjEsMCwwLDEsLjQxLjExLjU5LjU5LDAsMCwxLC4xMS40MS42My42MywwLDAsMS0uMDguMzQuNTMuNTMsMCwwLDEtLjQ0LjE4aC0xVjkuMjZxLjY3LDAsMS4zMi0uMTJhLjQuNCwwLDAsMSwuMzIuMTYuNTcuNTcsMCwwLDEsLjEuMzYuNDguNDgsMCwwLDEtLjEzLjM2LjQ0LjQ0LDAsMCwxLS4zNC4xNSwyOS4zOCwyOS4zOCwwLDAsMS0zLjY2LjM4LjYxLjYxLDAsMCwxLS40LS4xMkEuNjIuNjIsMCwwLDEsMi43NSwxMGEuNTUuNTUsMCwwLDEsLjEzLS4zNy43Ny43NywwLDAsMSwuNTQtLjE4bDEuMTMtLjA4VjcuNzVIMy40MkEuNTguNTgsMCwwLDEsMyw3LjYyYS41NS41NSwwLDAsMS0uMTEtLjM5QS42Ny42NywwLDAsMSwzLDYuODIuNjQuNjQsMCwwLDEsMy40Miw2LjcxWk04LjI0LDFhLjYuNiwwLDAsMSwuNDEuMTQuNTYuNTYsMCwwLDEsLjE1LjQxVjcuOTNhLjY0LjY0LDAsMCwxLS4xLjM3LjUzLjUzLDAsMCwxLS40Ni4xOEEuNTcuNTcsMCwwLDEsNy44LDguM2EuNTkuNTksMCwwLDEtLjEyLS4zN1YxLjVhLjUzLjUzLDAsMCwxLC4xNi0uNDFBLjU2LjU2LDAsMCwxLDguMjQsMVpNMTAuMTMuMDljLjM4LDAsLjU4LjE4LjU5LjUydjkuMmEuODguODgsMCwwLDEtLjIxLjY1LDEuMjgsMS4yOCwwLDAsMS0uNjguMjlIOC41M0EuNzcuNzcsMCwwLDEsOCwxMC40OWEuNjYuNjYsMCwwLDEtLjE0LS4zNkEuNzIuNzIsMCwwLDEsOCw5LjY3YS42My42MywwLDAsMSwuNDUtLjJoLjkyYy4xNCwwLC4yLS4wNS4yLS4xM1YuNjFDOS41Ny4yOCw5Ljc2LjExLDEwLjEzLjA5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTEzLjU1LjYxSDE0LjhWLjQ3QS41NC41NCwwLDAsMSwxNSwuMTFhLjc4Ljc4LDAsMCwxLC44LDAsLjQzLjQzLDAsMCwxLC4xOC4zNlYuNjFoMS4zYS42Ny42NywwLDAsMSwuNzYuNzZ2LjUyaC4xOGEuNTMuNTMsMCwwLDEsLjM0LjA4LjQ2LjQ2LDAsMCwxLC4wOS4zNC41MS41MSwwLDAsMS0uMDguMy40MS40MSwwLDAsMS0uMzUuMTdIMTh2LjU2YS42Ni42NiwwLDAsMS0uNzYuNzRoLTEuM3YuNDdoMS41OXEuNTcsMCwuNjMuNDhBMjYuNDUsMjYuNDUsMCwwLDAsMTkuMy4zOWEuNDguNDgsMCwwLDEsLjM4LS4zNCwxLjA4LDEuMDgsMCwwLDEsLjQ4LjA5LjQ0LjQ0LDAsMCwxLC4yMy40Miw0LjM1LDQuMzUsMCwwLDEtLjA2LjUyYzAsLjIzLS4wOC40Ny0uMTMuNzFoMi4zNWEuNjIuNjIsMCwwLDEsLjQ1LjEzLjYuNiwwLDAsMSwuMTQuNDguNzIuNzIsMCwwLDEtLjA5LjQuNTYuNTYsMCwwLDEtLjQ3LjIsMTYuNjQsMTYuNjQsMCwwLDEtMSw0LjE0LDYuOCw2LjgsMCwwLDEtLjMxLjY2LDgsOCwwLDAsMCwxLDEuMjZsLjY1LjY1YS40OC40OCwwLDAsMSwuMjcuNDIuNzEuNzEsMCwwLDEtLjE5LjUuNjIuNjIsMCwwLDEtLjQ1LjIxLjY1LjY1LDAsMCwxLS40Mi0uMThBNS43Niw1Ljc2LDAsMCwxLDIwLjY2LDlhNi45MSw2LjkxLDAsMCwxLTEuMTQsMS40NSwxLjUzLDEuNTMsMCwwLDEtLjY5LjQzLjc3Ljc3LDAsMCwxLS41Ni0uMjMuNy43LDAsMCwxLS4xOC0uNDQuNDMuNDMsMCwwLDEsLjI3LS40MSw4LjkyLDguOTIsMCwwLDAsMS42My0yYy0uMjktLjY0LS41Ny0xLjMyLS44Mi0yYS44NC44NCwwLDAsMSwwLC4xNC41OS41OSwwLDAsMS0uNDkuMjMuNjIuNjIsMCwwLDEtLjQ1LS4xNmgwVjZhLjU4LjU4LDAsMCwxLS42NS42NkgxNS4xNmEyLjYzLDIuNjMsMCwwLDEtLjIyLjU3aDMuNDJhLjQ3LjQ3LDAsMCwxLC4zMy4wOS40My40MywwLDAsMSwuMS4zMi41NC41NCwwLDAsMS0uMDguMzIuNC40LDAsMCwxLS4zNS4xNWgtLjkyYTEuMzksMS4zOSwwLDAsMS0uMjQuNjksMi41LDIuNSwwLDAsMS0uNjEuN3EuNjYuMjksMSwuNDVhLjQ3LjQ3LDAsMCwxLC4zMy40Ny40My40MywwLDAsMS0uMTMuMjcuNDYuNDYsMCwwLDEtLjM0LjE1LjkyLjkyLDAsMCwxLS4zOC0uMDhsLTEuNTQtLjY1YTkuMjYsOS4yNiwwLDAsMS0xLjg0LjU0LDUsNSwwLDAsMS0xLC4xLjQ4LjQ4LDAsMCwxLS40Mi0uMjMuNDguNDgsMCwwLDEtLjA5LS4yOS4zNy4zNywwLDAsMSwuMjktLjM3Yy42My0uMDksMS4xNy0uMTksMS42My0uM2wtLjc4LS4yOWEuMzYuMzYsMCwwLDEtLjI0LS4zNS45NC45NCwwLDAsMSwuMDktLjMxbC4yNS0uNWgtLjgxQS40OS40OSwwLDAsMSwxMi4yOCw4YS40Ny40NywwLDAsMS0uMS0uMzYuNDQuNDQsMCwwLDEsLjEtLjMyLjU0LjU0LDAsMCwxLC4zMy0uMDlIMTMuOGE1LjUxLDUuNTEsMCwwLDAsLjI1LS41N2gtLjhjLS40MywwLS42NC0uMjItLjY0LS42NlY1LjIxYzAtLjQ0LjIxLS42Ni42NC0uNjZIMTQuOFY0LjA4SDEzLjU1YS42Ni42NiwwLDAsMS0uNzYtLjc0VjIuNzhoLS4xNWEuNDEuNDEsMCwwLDEtLjMxLS4xMi40OS40OSwwLDAsMS0uMTEtLjM1QS41LjUsMCwwLDEsMTIuMzMsMmEuNDkuNDksMCwwLDEsLjMxLS4wOGguMTVWMS4zN0EuNjcuNjcsMCwwLDEsMTMuNTUuNjFaTTE0LjgsNS44N1Y1LjM2aC0xYS4wOC4wOCwwLDAsMC0uMDkuMDl2LjMzYS4wOC4wOCwwLDAsMCwuMDkuMDlabS0uOTQtNGguOTRWMS40MmgtLjc0Yy0uMTMsMC0uMi4wNi0uMi4xN1ptLjk0LDEuNFYyLjc4aC0uOTR2LjMxYS4xOC4xOCwwLDAsMCwuMi4yWm0xLjU0LDQuODJIMTQuNDhsMCwwYTEuNCwxLjQsMCwwLDAtLjEzLjM5YzAsLjA2LjA5LjEzLjI2LjJsLjkxLjM0cy4wNiwwLC4wNy0uMDVBMS40NCwxLjQ0LDAsMCwwLDE2LjM0LDguMTFabS0uNC02LjY5di40N2gxdi0uM2MwLS4xMS0uMDYtLjE3LS4yLS4xN1ptLjc4LDEuODdjLjE0LDAsLjItLjA2LjItLjJWMi43OGgtMXYuNTFaTTE3LDUuODdhLjA4LjA4LDAsMCwwLC4wOS0uMDlWNS40NUEuMDguMDgsMCwwLDAsMTcsNS4zNkgxNS45NHYuNTFaTTE5LjY4LDRjMCwuMTMuMDguMjkuMTQuNDhhMTguNDcsMTguNDcsMCwwLDAsLjc4LDJBMTEuODgsMTEuODgsMCwwLDAsMjEuNDMsM0gyMGMtLjA3LjI0LS4xNC40OC0uMi43M0MxOS43MiwzLjgyLDE5LjcsMy45MSwxOS42OCw0WiIvPjwvZz48L3N2Zz4="),h.countDownImg.id="count-down-img",h.countDownImg.css({width:d?"25px":"23px",position:"relative",height:d?"30px":"35px","vertical-align":"middle",cursor:"pointer",margin:"0",padding:"0",border:"0","margin-bottom":"0",display:"initial"}),h.countDownSpan=new b.Element("span"),h.countDownSpan.id="count-down-second",h.countDownSpan.css({position:"relative",top:"1.5px",width:"14px","text-align":"center","font-size":"12px","line-height":d?"30px":"35px","margin-top":"2px","margin-left":"1px","margin-right":"1px",background:"initial",color:"white",display:"initial"}),h.secondImg=new b.Image("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMC45NyAxMC45MyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Jbi1SZWFkPC90aXRsZT48ZyBpZD0icmFtcCI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMy45NC4yOWEuNjQuNjQsMCwwLDEsLjQ3LjE3QS43MS43MSwwLDAsMSw0LjU4LDFhLjcuNywwLDAsMS0uMTcuNDIsOC40NSw4LjQ1LDAsMCwxLTEuMzMuMzZWMy4zNGgxYS42Ny42NywwLDAsMSwuNDguMTNBLjY0LjY0LDAsMCwxLDQuNzIsNGEuNjcuNjcsMCwwLDEtLjEuNDEuNjYuNjYsMCwwLDEtLjUxLjE5aC0xdi41NmEuNjIuNjIsMCwwLDEsLjI1LS4wNS42LjYsMCwwLDEsLjI3LjEsMy45MSwzLjkxLDAsMCwxLC40OS42NCwzLjc1LDMuNzUsMCwwLDEsLjU5LDEuNDguNDkuNDksMCwwLDEtLjE0LjM2LjYzLjYzLDAsMCwxLS40Ny4xNS41OC41OCwwLDAsMS0uNDMtLjI0QTEwLjgxLDEwLjgxLDAsMCwwLDMuMDgsNi4zdjRhLjU3LjU3LDAsMCwxLS4xNC40NS41OS41OSwwLDAsMS0uNDYuMTZBLjU1LjU1LDAsMCwxLDIsMTAuNzdhLjU4LjU4LDAsMCwxLS4xNS0uNDVWNi44N2E2LjA5LDYuMDksMCwwLDEtLjk0LDJBLjYuNiwwLDAsMSwuNDcsOWEuNTcuNTcsMCwwLDEtLjM0LS4xNUEuNTUuNTUsMCwwLDEsMCw4LjQ1YTEuMzIsMS4zMiwwLDAsMSwuMTMtLjU0QTE4LjE3LDE4LjE3LDAsMCwwLDEuNzIsNC41NWgtMWEuODIuODIsMCwwLDEtLjQ3LS4xM0EuNjQuNjQsMCwwLDEsLjEzLDRhLjc0Ljc0LDAsMCwxLC4xNC0uNDguNzUuNzUsMCwwLDEsLjQ3LS4xM0gxLjg4VjJjLS4zNy4wNS0uNjguMDgtLjk0LjA5cy0uNi0uMi0uNjEtLjU2QS40NS40NSwwLDAsMSwuNjksMSwyNC4zNiwyNC4zNiwwLDAsMCwzLjU5LjM4Ljc5Ljc5LDAsMCwxLDMuOTQuMjlabTIsMWExLDEsMCwwLDEsLjQ3LjA5LjQ4LjQ4LDAsMCwxLC4yMi40Nyw0Ljc2LDQuNzYsMCwwLDEtLjExLjg4LDIzLDIzLDAsMCwxLTEsMy4zM0EuNi42LDAsMCwxLDUsNi4zNGEuNTkuNTksMCwwLDEtLjQ0LS4xOC40OS40OSwwLDAsMS0uMTMtLjM0LDMuOTIsMy45MiwwLDAsMSwuMTMtLjYxLDIyLjQsMjIuNCwwLDAsMCwxLTMuNjJBLjM5LjM5LDAsMCwxLDYsMS4yOFptNC4zLDQuMzlhLjYuNiwwLDAsMSwuNC4xNy41MS41MSwwLDAsMSwuMjMuNDUsMS4yNiwxLjI2LDAsMCwxLS4xNy41QTkuMzQsOS4zNCwwLDAsMSw4LjgyLDlhMTAuOTIsMTAuOTIsMCwwLDEtMi42MywxLjU5LDIuNjMsMi42MywwLDAsMS0xLC4zMi40OC40OCwwLDAsMS0uNDEtLjE3Ljg5Ljg5LDAsMCwxLS4xNS0uNUEuNjIuNjIsMCwwLDEsNSw5LjcsMTAsMTAsMCwwLDAsNy45Myw4LjE0YTkuNDcsOS40NywwLDAsMCwyLTIuMjdBLjM3LjM3LDAsMCwxLDEwLjI1LDUuNjdaTTcuNzIsMGMuNCwwLC42MS4xOS42Mi41NlY2LjgxYS44OC44OCwwLDAsMS0uMzQuOCwyLjM0LDIuMzQsMCwwLDEtMS4xNi4yOCwyLjQ3LDIuNDcsMCwwLDEtLjQ0LDBBMS44MiwxLjgyLDAsMCwxLDYsNy43M2EuNTIuNTIsMCwwLDEtLjI5LS40NS45LjksMCwwLDEsLjEzLS41MS4zNS4zNSwwLDAsMSwuMjktLjE2aC4xOWEzLjUsMy41LDAsMCwwLC42Mi4wOGMuMTEsMCwuMTcsMCwuMTctLjE0di02QzcuMTEuMTksNy4zMiwwLDcuNzIsMFptMS43LDEuMjJhLjU1LjU1LDAsMCwxLC4zOC4yYy40LDEsLjc0LDEuOSwxLDIuODNhMi41NCwyLjU0LDAsMCwxLC4xNC42NC40OC40OCwwLDAsMS0uMi40Mi41OS41OSwwLDAsMS0uNDEuMTkuNTMuNTMsMCwwLDEtLjUyLS4zNGMtLjI4LTEtLjU5LTItLjk1LTIuODlhMS42NCwxLjY0LDAsMCwxLS4xNC0uNTRBLjQ1LjQ1LDAsMCwxLDksMS4zNi43Ny43NywwLDAsMSw5LjQyLDEuMjJaIi8+PC9nPjwvc3ZnPg=="),h.secondImg.id="count-down-second-img",h.secondImg.css({width:d?"12px":"11px",position:"relative",height:d?"30px":"35px","vertical-align":"middle",cursor:"pointer",margin:"0",padding:"0",border:"0","margin-bottom":"0",display:"initial"}),g&&(h.text=g.toString(),h.countDownSpan.element.innerText=h.text,h.setLongSecondStyle()),h._oldStyle=d,h.dataCenter=e,h.setCountdownColor(),h.appendChild(h.countDownImg),h.appendChild(h.countDownSpan),h.appendChild(h.secondImg),h}return __extends(d,c),d.prototype.setFollowStyle=function(a){switch(a){case"HTML5_IS_FOLLOW_CENTER":this.css({left:"80px"});break;case"HTML5_IS_FOLLOW":this.css({left:"47px"})}},d.prototype.setNormalStyle=function(){this.css({left:"40px"})},d.prototype.setLongSecondStyle=function(){this._oldStyle||this.css({left:+this.text<100?"6px":"2px"})},d.prototype.displaycountDown=function(){this.css({display:"block"})},d.prototype.countDown=function(a,b,c){c?(this.text=a.toString(),this.countDownSpan.element.innerText=this.text):(this.text=b.toString(),this.countDownSpan.element.innerText=this.text,this.setLongSecondStyle(),this.displaycountDown()),b<=0&&this.hide()},d.prototype.holdOnSecondCountDown=function(a,b){var c=this,d=a-1,e=setInterval(function(){c.text=d.toString(),c.countDownSpan.element.innerText=c.text,c.setLongSecondStyle(),c.displaycountDown(),--d<0&&(c.countDownSpan.element.innerText="",clearInterval(e),c.hide(),b())},1e3)},d.prototype.vpaidCountDown=function(a){this.text=Math.floor(a).toString(),this.countDownSpan.element.innerText=this.text,a<=0&&(this.countDownSpan.element.innerText="",this.hide())},d.prototype.setCountdownColor=function(){var a=this.dataCenter.funcParamMapForKeyWord.countDownColor;a&&a.filter&&(this._filter=a.filter,this.css({filter:a.filter}))},d}(b.BaseComponent);b.AdCountDown=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c;!function(a){a.OLD_STYLE="OLD_STYLE",a.NEW_STYLE="NEW_STYLE"}(c||(c={}));var d=function(d){function e(e,f){var g=d.call(this,"div")||this;switch(g.isMuted=!0,g.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_BUTTON,g.eventCenter=e,f){case c.OLD_STYLE:g.speakerImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAARCAYAAAAougcOAAABqUlEQVQ4jZ2UQW7aQBiF319YgJAhmiUIhQX7JCeoKw7QcoKSjce79ibNEtg0vUGPAGsWUMkH8CCwBBKjZrxBFni6caqEjM2Qt7Ke3vyff7+RAQtJKRtRFF3bZE36cC6wWq1ulFLh8Xjs5GWEEN+Wy+Xnd0GEEF8Ph8MEwFVB5qfW+iFN08HFECHED631owVgAGBRr9dzIeVTQ0rZUEo9aq2/5B0yAFzG2FMuJAxD/dJQShXNBgBEUXSdJIkVALAo3qRmsylKpZJrAwCAspQSjLGLQe12e2qbLc9mM1QqFXS7XbRaLatDWW8LAJ1nb71eY7vdLvr9/t0bCADs93sEQYAgCOA4DhhjcBwH1WrVCJnP51e1Wi1MkiTcbDbY7XYAACL6a9zk1IjjGHEcvwkS0f/nXq8nAHwqXPeF3lU8AIzH44+j0ahhk6VTYzgc3gD4TUSdV0Ei1/O86TNAaz0BsADgcs4vu8K+7/8hottsgFGe502zv8EtgMm5jYyfi3P+xDm/ywYZ5fv+vS2osBPf9+8BDCxBuS90tnjO+S8ictM0NV7PDPS9aOt/tcbQL1dUTx0AAAAASUVORK5CYII="),g.speakerMuteImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAARCAYAAAAougcOAAAB0ElEQVQ4jbWUQW7aUBRFzzMetTKxjBQ5aqSyg3QHZQnZQcnInjVLICsIncGo7go6ZVY6hQndARYWYlJD8CwCvw6wI8fFwYraO7L1n+/57/37DTUVx/FZ3dqyjDpFYRjeJ0ly+18gcRyfzefz76r6agCAWbUQRdHVdrsNgA/H1pcX9ntR2herzc9Kj3P7Cio6WSwWH3e73bgKAJCq0dvTGEeu8/UowG19wmjMVIyxGYbhvao+M9vv950q81wCcz08dSPX4XIV3zwDQAAgIjMzA5w0LevdKr6LXKcN0i2CigBUZ28e9bpWuqp02L0eDJFu5LZ+lAAdZ71+MEajEZPJhDiO/wEom0gBAFm61us10+kUy7KwLAvHcbAsi2azWY+Upn2MRjd/VQhywBMkV5IkJEnCcrms3Ul0bl+pGGMBVHUjIraI9CO3tblc/f4GNW/8SYCIjers7aO2C6MLshBgArciYucfpmlqi0gA2GXTlwCFM7iJXIdD6ggit4Xp+/6vssFwOGwDY164jCqNnghlAEAW5QNIVftHx+V53gPQUX1q/S+Zsu8L2isDiqDsn9eTKpNcg8Hgs4j0gZ7neXen6o/p5MH7vv9FVa9VdfMaAMAfnPTvx4+7gJ0AAAAASUVORK5CYII="),g.css({bottom:"6px",left:"12px",position:"absolute",cursor:"pointer"});break;case c.NEW_STYLE:g.speakerImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAGLApi2AAAACXBIWXMAAAsSAAALEgHS3X78AAACMklEQVRYw+1X243bMBAcGv4MEKcDpQOlA10Hlw7UQdRBnA58HSgdGMhPPpUK4lQQd3C8CiY/Q2O9oGjpfE6E4AgsJJKr5exyXwok4cfKvEcAWwAI4kzswXIGPWsAWJvPw+nFH7Ryh9b2gKxw+k9CyKEvadNIfvqKAFoPz4t8JzOcSQqO+lFFL2GaxVR5jCuj2XdtVKK7EyNJ8Hw0bj6K6cFO1v5O9Gxlpxc2wSRJz7XlpTFkV2XKHFXOvCAZSdYkN1rfJP61l1tAQgBfARwBPMr6pzBZz1ApWJ+/ZKPk2h9HhL2XsDsAHYCnKTZKtLe2INnLPrXl+6fXvzyHXJagdsyPLl39PcnBzFNoRM9bEnKwqUuxN5i9o+W3IbJRmXoD4FsG/FE8NOFSaf0MUWk0BlmUyp1Vu1RvfAzuARxEnSliYe6tbYrzK1TbKaCLtxZ9wXE3CZ8hVwU1HjJ1McomBwC/Us2e4pAVyW0mj89yyBztTCHAshPb8jLk4jR7BTQjt/hGKnXdg2libwJop4Me9WwyPI0yxQcB/61sUb9kbYwC8KnAVxvLUPPatNI/pdDkGnvg/NEo6Q7KWEnWoH1bSo9a66amRj4TEEi2Zq12fWKveTOWq28RZT2AL3q/N2v2zyz9Nbz9G2HfAfjsgLSmkYEJgKepPtRf4UN7V0pLPtReW16rgsPbslu7vdasp65kmztjLiDf5cYRQJ4awxv9T9BN+oaREY3j/pCTx9dq/18B+gODnhN9VKtkOAAAAABJRU5ErkJggg=="),g.speakerMuteImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAGLApi2AAAACXBIWXMAAAsSAAALEgHS3X78AAABt0lEQVRYw+1Yy3GDMBB98uQeleAO4nsOoYAcUgLuICVQgkughJTggwugg5QQOni5rDLLehGC2B4y8c5o0Ajx9kn7kwgkYWWj+rSD1M80GPRTfx5+OlbRxtNaKQU1SIJklOc5RvDY51aT8AmgH8wSHRWHEknW0i9TN5vTZSZVADq1e602U+JExzL0zAbjASEh2tVR23iMeFi8uqLNvNhe/hZIe9e0JK92vE5LmkOSrerX6d1coKjGWjU+ANKtcYA6UQbDMAuk27FgzgrN/7cccp1ADYBjCdBD5l0P4HEJo60E6qsEqgaJTvC2g1Jh3D0Xa7XqtyYGs0uDw0Bn7zDmkDnPTB91AJ48oDnmTyABwP5M8Ug00ymtvZnTSmqZTCMfTmIbbbnNfgOwk3aP/jVlyNWt7E4oI9s1EIpSWQjgs/ggdgVCjSj/AvAyMmcH4FCAdXCzk5PntpJQ5wpMwTo7GJoiNjh95pJ1xWVicSyxLJFbEErtpOacpqrQtcI+qpvfsxTkvfSpjg8o8aEoBXjJDtlvPdMccj5Wcm+w5uwLbju7Aqx3/aNhKSELyDmnlJteiO617N8S+gabIgNglFhGHAAAAABJRU5ErkJggg=="),g.speakerImg.css({width:"23px",height:"22px"}),g.speakerMuteImg.css({width:"23px",height:"22px"}),g.addMouseEnterEffect(),g.css({bottom:"-1px",left:"23px",height:"22px",position:"absolute",cursor:"pointer","z-index":"20000"})}return g.speakerImg.id=a.ONEAD_CONST.ID.IMG.UNMUTE,a.Util.setBaseStyles(g.speakerImg.element),g.speakerMuteImg.id=a.ONEAD_CONST.ID.IMG.MUTE,a.Util.setBaseStyles(g.speakerMuteImg.element),g.speakerImg.hide(),g.speakerMuteImg.show(),e.diRegister(a.ONEAD_CONST.DESKTOP_COMPONENT.VOLUME_BUTTON,g),g.appendChild(g.speakerImg),g.appendChild(g.speakerMuteImg),g}return __extends(e,d),e.prototype.mute=function(){this.speakerImg.hide(),this.speakerMuteImg.show(),this.isMuted=!0},e.prototype.unMute=function(){this.speakerImg.show(),this.speakerMuteImg.hide(),this.isMuted=!1},e.prototype.setNormalStyle=function(){this.css({left:"12px"})},e.prototype.setFollowCenterStyle=function(){this.css({left:"45px"})},e.prototype.setFollowStyle=function(){this.css({left:"23px",bottom:"-1px"}),this.speakerImg.css({height:"22px"}),this.speakerMuteImg.css({height:"22px"})},e.prototype.changeToMuteImg=function(){this.isMuted?(this.speakerMuteImg.show(),this.speakerImg.hide()):(this.speakerMuteImg.hide(),this.speakerImg.show())},e.prototype.sendVolumeEvent=function(){this.isMuted?this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MUTE):this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE)},e}(b.BaseComponent);b.VolumeButton=d}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(c){var e=b.call(this,"div")||this;return e.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER_DIV,e.css({position:"absolute",width:"21px",height:"100px",bottom:"15px",left:"6px",display:"none",cursor:"pointer"}),e.volumeSliderBackground=new d(c),e.appendChild(e.volumeSliderBackground),e}return __extends(c,b),c.prototype.setFollowCenterStyle=function(){this.css({left:"45px"})},c.prototype.setNormalStyle=function(){this.css({left:"6px"})},c}(b.BaseComponent);b.VolumeSliderButton=c;var d=function(b){function c(c){var d=b.call(this,"div")||this;return d.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER_BACKGROUND,d.css({width:"21px",height:"88px",display:"block",
"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAABYCAYAAAAa0bwkAAAB0klEQVRYhe3ZwXHaQBQG4P+t7PiaBjTjVBDuSBPSAR2EdEAJKYEOQjqgA+NZodvO4AqChwbMJW9AgT8XwdhYsgTmlHn/SSu9/VhJqwtPUJM0Tb8A6JPsHF8TkTmAiff+vmqu1GBjALd1P/gsCwCDY/wFmqbpTwCDFthxxt777/tBtD/odrvfROTHGSAAdOI4XiyXywegXGmSJJ/L5/SukOxkWfbgAEBEJnWF26JAoX/wd72GA7DdrLEtisravROVtz2oRTdrFKoQAT7c3GCjCoCIrq+ryj/GcbxwItJvf4PNEZG+E5FX+/CdaMeh3X48JbfuwiAAwFBDDTXUUEMNNdRQQw011FBDDTXUUEMNNfR/QElOLwmSnDoAtf+cn5mJU9XxJUVVHbsQworksK5InIO7uoI4BxKQKIK46ldBchhCWB16J0mS3IlI79wVkpxmWfYVePb2VbVP8qxWB8m5qh76BQc0hLBS1d6pu4HkVFV7IYTV/tyrfhRw6PgM32oskJyTHM1ms1/H1yrRfdI0/Y3q5sLCe/+pbl7TFzU48Xwz6r2/J/ni4yBZ29trhQLAbrcbAngqh0/l+M00onmeP5Iclasc5Xn+2DSndZIkuWtb+w82DMH0uiTwMwAAAABJRU5ErkJggg==)"}),d.volumeSlider=new e,d.volumeSliderBall=new f(c),d.appendChild(d.volumeSlider),d.appendChild(d.volumeSliderBall.sliderImg.element),d}return __extends(c,b),c}(b.BaseComponent),e=function(b){function c(){var c=b.call(this,"div")||this;return c.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER,c.css({height:"80px",width:"22px",overflow:"hidden",position:"relative"}),c}return __extends(c,b),c}(b.BaseComponent),f=function(){function c(c){c.diRegister(a.ONEAD_CONST.DESKTOP_COMPONENT.SLIDER_BALL,this),this.sliderImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAABNCAYAAABNP/8xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJENDA4REZEMzc2ODExRTU4NTlFODY0RThFMjk0OEUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJENDA4REZFMzc2ODExRTU4NTlFODY0RThFMjk0OEUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkQ0MDhERkIzNzY4MTFFNTg1OUU4NjRFOEUyOTQ4RTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkQ0MDhERkMzNzY4MTFFNTg1OUU4NjRFOEUyOTQ4RTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5wKzpcAAACoklEQVR42uyUzWvaYBjA35i3xho/BprhpbUrHja2g8hwHXRM2H+xy27bX7EehsfBoNfdZSi49rKubAcpA9uV9WOsLax1CLOKtVWjMY1JTPa8KR0qsfWwww7vAw8hT97n93y+YUzTRP3CMAwalnNNe9z/7sJ4B86J/bZhzl9jvw5AVfWZrCiNc0Ux+5XYQN9cxSHKjMq8UCjcDwrCZ0VR/KXjY9TT9YusOQ5NTU8jjDHqSNLzUCj0dlTmDmQjiUQCe32+rK7r/nK5jJqNBmq325bWTk9RsVhEqqoiFuPX6XRaQCPEFr64uPgCwFPdbteCuN3uAYVqrECapvlmZ2efkoLtOHjYEIlEuJYk3fP5/ajX6yGe522zIt9IYFmW70KlHJiUa+GcIPDNet17UxCs/nu9XtslgKytAKIo8hCAHwuOZXny2/b2YXhm5iIYDNDj8QycacAMSGuIbO3s/IT2ucZqC2yBsbS8vPdwbq4WCASEWq1mgVyuC3/S60uwJEktcpb4jDtQ2WGarVQqle10OhoM1sq0UqlYCkBEbEQ/rKx8ZAyjTXzGgkOPO9Dr8vfd3a2XCwvvIHNx+MzJyUkrmUxmP62urhksWyU+dnDbSxSPxwOqYdyGjw/AdOfR/PyTYDB4iwyw2Wo11nK59ybDHLEIrXcx3v+xsVEd+xKFw+GmzrJHANiAaHmX2/1rEvbb6XSSG9qEpV4ndg3jQ07X66MuEbYzZjKZHjyq0Wi062DZs1gsNn/D5yM7TVZPhHZ80SYmqnv5fINs5ij4lT+uy+pqZ2evfpdK5v7Bgfl1czNnV7Hdjwuj68WAPe85YBZkQ1RNIxkYY/jZ9/xfCYVTOIVTOIVTOIVTOIVTOIVTOIVTOIVTOIVTOIVTOIX///A/AgwA0/ON2jm5a5UAAAAASUVORK5CYII="),this.sliderImg.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER_BALL,this.sliderImg.css({display:"block",left:"-1px",position:"absolute","-webkit-clip-path":"polygon(0% 0%, 100% 0%, 100% 12px, 0% 12px)"}),this.top(66)}return c.prototype.top=function(a){this.sliderImg.top(a)},c}();b.VolumeSliderBall=f}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"div")||this;e._hasToSyncWithMaterialWhenSkip=!1,e._eventCenter=d,e.id=a.ONEAD_CONST.ID.BUTTON.SKIP_AD,e.css({position:"absolute",bottom:"5px",left:"168px",display:"none",cursor:"pointer"});var f=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAATCAYAAADCrxD+AAAEB0lEQVRYhe1YMWzbRhR9LjLe7SV3kbN5WrrYnjqIOg9d5EhAOriVBi9BbCBdDEuwlwKW4QwpIMUaUqBOs4aW16hasvDomdQueid3d6B45lES5aKDPfhNvM/j/X/v/n93R+AZS7EGAHd3d3ePHchTxIv04Yey9Zhx3OOJLNM34eG7xw7iKePFIuPHvz7BMM2VHwe+j58bLx/k6HtNQxxFiON4zn4bhkpb03Wlz40QS8clhIBQqoyxCpUqx/WVs7LfQnIM03xQmX1zvTnbbrMFQggAII5jDPo9EELwR+8DhrOAwulUBmexMmov69hr/Yo4jmHzbWU8izHstZqK7X2vr7RLpomJ7yu2oeMoBOw2WxiPvmISBLD5/yAnBSEEFitj/M9I2jY2t+AJdy4Dskj7W6wMQgje9z7g7cEbTIIA64zBYmXZN0tS+t2g30OlyucyKIUnBDzhQtN0aLqOi35PvrNYGZ5wFbJKhoFavQ6LsaRtmgrBQeDjXbc756eQnFq9gV+aLRy3j3B95aBS5Thsd3DR72GQCagIFivjpHOE1/sHOG4fwa5ynHTa8n02yOwi2JwnGdNsLR2bUgpN14BM1eXbG1tbKBkmftzaVHzms3ERCskZ9HvQNA2H7Q4sxmDzbQydL4XEEEJgGKZ8Tif8+fISf17+jVf1HaX/XquJ3WYLnnBRMgzYnMNiTK6upusLS+tGCITTKQilSiYOHUfRqCiK4AkX67OsAQBCqdIGklLP61YhOQBw0mlD03XYfBuecJVVfwjWGYNd5QjDED9xG7V6A5qm4aLfw20YYmNzS052nTEct4/mBDivMRZjSzPKYmVZWjdCKMSlGI9Gc3YP7n8np1LlsFgZQ+cLbL69UunjOEYQJPVOKEU4nSKcOa3VGzI4OT7noJSidNrF50+XABIyPCFgMaboiZyIEBiPvqLCOeIo0T5N1xBOw5lfIgke9HsLd8AsJr6/UEMLyUk1JtUcTwgctjsA8CC1ByCz4/zsVNqy4vvbwT4IIdjNZYIn3EQ/ckh3QkIpKKX35Gi6JCct6xT5HTCLdAEWHRcKyfGEi7f7b+RErq8cxFEkM2MR8poDAHEcKc7zKV2rNxQxPu+eglCK8WgESikIpfJdyTThCRcAMPEDGYuma9Ju5fQEwHKdLBD8QnJuw3CuDrOTWIY8eYTMC2CKkmHArnIAyWJkhZEQglq9gWvnPkvTEo+jCHQmxpPAx9Bx5PN593TOzzL/+d0ti4XkhNPpwgNeHouCeHd2f14oOtkCyeRf7x/gVX0HhFLYfBulHQOTIFD7zXaXGyFkqf3ePUMYTpPs8X3EUQQgKa8K5xiPRiv9r4K8lT9fPFU8XzxX4JmcAjz/7FqCtbW1tX8B/R/dMTJp+HQAAAAASUVORK5CYII=");return f.id=a.ONEAD_CONST.ID.IMG.SKIP_AD,f.show(),e.appendChild(f),e._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.NEED_SYNC_BEFORE_CLOSE,function(){e._hasToSyncWithMaterialWhenSkip=!0}),e}return __extends(d,c),d.prototype.bindClickEvent=function(b){var c=this;this.addEventListener("click",function(){c._hasToSyncWithMaterialWhenSkip?(c._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.MATERIAL_TRACKING_EVENTS_SENT,function(){c.skip(b)}),c._eventCenter.dispatch(a.ONEAD_EVENT.events.UI_SKIP)):(c._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_SKIP,function(){c.skip(b)},-1),c._eventCenter.dispatch(a.ONEAD_EVENT.events.UI_SKIP))})},d.prototype.skip=function(a){a.player.is_vast&&!a.player.hasVPAIDAd&&(a.player.vastResult.hasPlayableAd?a.player.vastTrackerCenter.skip():a.bannerWrapper.vastBannerParam.skip()),a.player.hasVPAIDAd&&a.player.vpaidWrapper.vpaidAdCreative.skipAd(),a.close()},d.prototype.bindFollowCenterClickEvent=function(a){this.addEventListener("click",function(){a.fadeWrapper.hide(),a.setNormalStyle(),a.player.mute(),a.isCloseFollow=!0,a.isExpand=!1,a.player.playerState.isEnded||a.scrollControl()})},d}(b.BaseComponent);b.SkipADButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"div")||this;return e.isFollowStyle=!1,e.mouseEnterHandler=e.mouseEnter.bind(e),e.mouseLeaveHandler=e.mouseLeave.bind(e),e._eventCenter=d,e.id=a.ONEAD_CONST.ID.DESKTOP.CONTROL,e.css({position:"absolute",bottom:"0px",width:"640px",height:"30px","z-index":"10003"}),e.volumeButton=new b.VolumeButton(e._eventCenter,"OLD_STYLE"),e.volumeSliderButton=new b.VolumeSliderButton(e._eventCenter),e.skipADButton=new b.SkipADButton(e._eventCenter),e.adCountDown=new b.AdCountDown(!0,e._eventCenter.dataCenter),e._eventCenter.dataCenter.playerType.indexOf("FOLLOW")>-1&&(e.scaleButton=new b.ScaleButton(e._eventCenter),e.followCenterSkipButton=new b.SkipADButton(e._eventCenter),e.followCenterSkipButton.id="follow-"+a.ONEAD_CONST.ID.BUTTON.SKIP_AD,e.appendChild(e.scaleButton),e.appendChild(e.followCenterSkipButton),e.scaleButton.hide(),e.followCenterSkipButton.hide()),e.appendChild(e.volumeButton),e.appendChild(e.volumeSliderButton),e._eventCenter.dataCenter.playMode!==a.ONEAD_CONST.PLAY_MODE.IN_STREAM&&e.appendChild(e.skipADButton),e.appendChild(e.adCountDown),e.volumeButton.addEventListener("mouseenter",function(){e.volumeSliderButton.show()}),e.volumeSliderButton.addEventListener("mouseenter",function(){e.volumeSliderButton.show()}),e.volumeButton.addEventListener("mouseleave",function(){e.volumeSliderButton.hide()}),e.volumeSliderButton.addEventListener("mouseleave",function(){e.volumeSliderButton.hide()}),e}return __extends(d,c),d.prototype.setFollowCenterStyle=function(){this.volumeButton.setFollowCenterStyle(),this.volumeSliderButton.setFollowCenterStyle(),this.adCountDown.setFollowStyle("HTML5_IS_FOLLOW_CENTER"),this.scaleButton.setFollowCenterStyle(),this.followCenterSkipButton.show(),this.skipADButton.css({visibility:"hidden"})},d.prototype.setNormalStyle=function(){this.volumeButton.setNormalStyle(),this.volumeSliderButton.setNormalStyle(),this.adCountDown.setNormalStyle(),this.scaleButton.hide(),this.followCenterSkipButton.hide(),this.skipADButton.css({visibility:"visible"})},d.prototype.mouseEnter=function(){this.css({opacity:"1"})},d.prototype.mouseLeave=function(){this.css({opacity:"0"})},d.prototype.addMouseEventsHandler=function(a){a.addEventListener("mouseenter",this.mouseEnterHandler),a.addEventListener("mouseleave",this.mouseLeaveHandler)},d.prototype.removeMouseEventsHandler=function(a){a.removeEventListener("mouseenter",this.mouseEnterHandler),a.removeEventListener("mouseenter",this.mouseLeaveHandler)},d}(b.BaseComponent);b.ControlWrapper=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(c,e){var f=b.call(this,"div")||this;return f._eventCenter=c,f._dataCenter=f._eventCenter.dataCenter,f.id=a.ONEAD_CONST.ID.DESKTOP.CONTROL,f._element.draggable=!1,f.css({"user-select":"none",position:"absolute",top:"295px",left:"-9%",width:"154px",height:"36px","z-index":"10003",transition:"all 0.3s"}),f.newControlWrapperDiv=new d(f._eventCenter,e),f.appendChild(f.newControlWrapperDiv),f._dataCenter.hideControlWrapper&&f.css({display:"none"}),f}return __extends(c,b),c}(b.BaseComponent);b.NewControlWrapper=c;var d=function(c){function d(b,d){var e=c.call(this,"div")||this;if(e.STYLE_CONST={SLIDER:"SLIDER",NO_SLIDER:"NO_SLIDER"},e.clickCancelMuteFunc=e.clickCancelMute.bind(e),e.cancelVolumeTriggered=!1,e.id=a.ONEAD_CONST.ID.DESKTOP.CONTROL+"-div",e._element.draggable=!1,e.eventCenter=b,e.dataCenter=b.dataCenter,e.css({cursor:"pointer"}),e.setVolume=d,e.buildVolumeCountdownArea(e.eventCenter),e.dataCenter.adFormat===a.ONEAD_CONST.AD_FORMAT.IRFOLLOWDF){var f=e.eventCenter.diGet(a.ONEAD_CONST.COMPONENT_TYPE.FOLLOW_CONTROL_WRAPPER);e.followVolumeButton=f.followControlWrapperBackground.volumeButton}return e.bindListener(),e}return __extends(d,c),d.prototype.buildVolumeCountdownArea=function(c){this.adCountDown=new b.AdCountDown(!1,this.dataCenter,!1,this.dataCenter.hasVPAIDAd?null:this.dataCenter.duration),this.backgroundImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAAAjCAYAAABsOhOqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA2LTA0VDE0OjU3OjQ5KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNi0wNFQxNDo1ODowNyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxNDo1ODowNyswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjN2ViMTJkNC1lM2Y3LTFkNDktYjQ3Yi1lODhkZDI3OTQ4YTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YzdlYjEyZDQtZTNmNy0xZDQ5LWI0N2ItZTg4ZGQyNzk0OGEyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzdlYjEyZDQtZTNmNy0xZDQ5LWI0N2ItZTg4ZGQyNzk0OGEyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjN2ViMTJkNC1lM2Y3LTFkNDktYjQ3Yi1lODhkZDI3OTQ4YTIiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTQ6NTc6NDkrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5YQfctAAACjElEQVR42u2cLWzCQBiGUThU3SlUHaquCoVDkSBQKCSZncZOLWRBTE0MNbMhMDgyg2pQS2ZhBsUMJCRdv/EdOX7au5bBxL1N3oTSa5eMJ9/Pe3fNCSFaEGSoRqRypGIYhrk0yuGfB50BnQvQoGsCJwAadC15AA26lsoADfpX2AAalFR7VSPVMtxbAmiR6vX6bbvd7gCm42gUZ12I7UHXm4bPcqwHbTQavc1msw+AtVMlUoFV4kgmgWryuc/X8wyc7pk1gAbQ9tIcw+OniHo03jUY6wI0gNZiWPIZ6jCKco4BbDWABtAqGSFTYaNU6pnUagDNTjV1tZbv+zdBEAw0TVOVG4WGzsgFaJa6+Jz6Tl7vdDp36/V6HgESTiaTZ4P06+pgBGh2qhAXzcbj8UuoHAagyRQcOwagWWrEqumOPMXNZvMdxhwE2nQ6fe33+48ypc7n83c1pfLzqgl/Mw/Q7JOsq3ZpMkw4CDSCjD4PBoPn5XL5SSLglGcKTVMgAJp98hkMY9BoHEFG56vV6usAMoAG0BJnAYxBI7AoihFk9J1MowANoP1p6qSaTKZLmUYPbI+CZloKNZqNYtB2Ru1wOHwioEiHjQF91+12H9R02ev17qmJkJ6czktD12mvvVHkOc6TRu1isQhS2Bu+morhowG0vR+fva/YJT/ST6Nol9WTw8wAQJMFfFG3bs9g5YeDuU6AZjLf6Wa8v2wwKY/VGwBtC4ICWzPFfR7fV8V6NICWZm+AY1BrSQ9OjtUtL8IKW+wZiE2FBWV/gKdIcATL87lJ9MOeAUjbkXrcKAgFuso5m4kBGoR9nRB2qkPQ0QwB3r0BXbprxduEoIsavr9+Gt6PBl0CrrJI8QI+qR8BzGFsbbZFMAAAAABJRU5ErkJggg=="),this.backgroundImg.id="control-wrapper-background-img",this.backgroundImg._element.draggable=!1,a.Util.setBaseStyles(this.backgroundImg.element),this.cancelMuteImg=new b.Image("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ni45MyAxMC45NyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5Jbi1SZWFkPC90aXRsZT48ZyBpZD0icmFtcCI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNLjY2LjUyaDVhLjY1LjY1LDAsMCwxLC40NC4xMS41OS41OSwwLDAsMSwuMTIuNDRjMCwuMDUsMCwuMSwwLC4xNUg5LjQ3YTEuNDEsMS40MSwwLDAsMSwuNzguMTguNzguNzgsMCwwLDEsLjI1LjY2LDEyLjg2LDEyLjg2LDAsMCwxLS41OSwzLjgsOS44LDkuOCwwLDAsMS0uNzMsMS43OEExNSwxNSwwLDAsMCwxMC41NSw5LjhhLjU0LjU0LDAsMCwxLC4yOS40NS41My41MywwLDAsMS0uMTguNDUuNi42LDAsMCwxLS40OS4xOCwxLjQ0LDEuNDQsMCwwLDEtLjktLjY1LDguNDEsOC40MSwwLDAsMS0uODgtMS4zMiwxNC41OSwxNC41OSwwLDAsMS0xLjA4LDEuMywyLjI1LDIuMjUsMCwwLDEtMSwuNjcuNjQuNjQsMCwwLDEtLjUzLS4yLjU3LjU3LDAsMCwxLS4xNC0uMzcuNjQuNjQsMCwwLDEsLjE1LS40MkExMywxMywwLDAsMCw3LjczLDcuNTdxLS4zLS42Ni0uNTctMS40MWEyMy4wNSwyMy4wNSwwLDAsMS0uOTMtMy43Ny40Ny40NywwLDAsMS0uMzYtLjE1LjY4LjY4LDAsMCwxLS4xNC0uNDcuMzQuMzQsMCwwLDEsMC0uMTFsLS4xMSwwSDUuNDh2OC42M2EuNTguNTgsMCwwLDEtLjE1LjQ1LjY2LjY2LDAsMCwxLS40OS4xNi41OS41OSwwLDAsMS0uNDYtLjE2LjYuNiwwLDAsMS0uMTUtLjQ1di0xQzMsOS40NSwxLjc1LDkuNTMuNjEsOS41NWEuNzMuNzMsMCwwLDEtLjQ1LS4xM0EuNzIuNzIsMCwwLDEsMCw5YS42MS42MSwwLDAsMSwuMTQtLjQyLjgxLjgxLDAsMCwxLC41Ny0uMTloLjFWMS42OEguNjZhLjY1LjY1LDAsMCwxLS40My0uMTQuNjMuNjMsMCwwLDEtLjE0LS40N0EuNjMuNjMsMCwwLDEsLjIzLjYzLjcxLjcxLDAsMCwxLC42Ni41MlptMS40LDIuNjFINC4yM1YxLjY4SDIuMDZabTAsMi41M0g0LjIzVjQuMzFIMi4wNlptMCwyLjYsMi4xNy0uMTRWNi44NEgyLjA2Wk03LjQxLDIuMzlhMjEuMzYsMjEuMzYsMCwwLDAsLjc3LDIuOTVjLjA5LjI2LjE5LjUyLjI5Ljc3YTEyLjYzLDEyLjYzLDAsMCwwLC43OC0zLjYzYzAtLjA2LS4xLS4wOS0uMjUtLjA5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTEyLjc2LDIuOTFhMS4xNSwxLjE1LDAsMCwxLC40Ny4xM0E2LjUsNi41LDAsMCwxLDE0LDRhMi4xNSwyLjE1LDAsMCwxLC41NCwxLC41Ny41NywwLDAsMS0uMTcuNDIuNzguNzgsMCwwLDEtLjUyLjE4LjUuNSwwLDAsMS0uNDQtLjIzLDEwLjMyLDEwLjMyLDAsMCwwLTEuMjktMS42NS4zOC4zOCwwLDAsMS0uMTEtLjIyQS41MS41MSwwLDAsMSwxMi4yOSwzLDEuMTcsMS4xNywwLDAsMSwxMi43NiwyLjkxWm0xLjM1LDMuMzFhMS4zNSwxLjM1LDAsMCwxLC40My4wOGMuMTkuMDguMjguMjUuMjguNTRhNC41LDQuNSwwLDAsMS0uMTkuN2MtLjE1LjQ0LS40MSwxLjEyLS43OSwyLjA1bC0uNDIuOTFhLjc0Ljc0LDAsMCwxLS42Ni40Ny44Mi44MiwwLDAsMS0uNDYtLjIxLjYuNiwwLDAsMS0uMTYtLjQ1LDMxLDMxLDAsMCwxLDEuMi0yLjkycS4xOC0uNDIuMy0uNzVDMTMuNzUsNi4zNywxMy45MSw2LjIzLDE0LjExLDYuMjJaTTEzLjI4LjA4YTEuMjUsMS4yNSwwLDAsMSwuNDcuMTksNi42Niw2LjY2LDAsMCwxLC44OS44NiwxLjg1LDEuODUsMCwwLDEsLjYxLjkyLjU5LjU5LDAsMCwxLS4yLjQ3Ljg1Ljg1LDAsMCwxLS41Ny4xOS40OC40OCwwLDAsMS0uNDItLjIzQTkuMiw5LjIsMCwwLDAsMTIuNjQuOTNhLjM5LjM5LDAsMCwxLS4xMi0uMjQuNTUuNTUsMCwwLDEsLjI3LS40OEExLjA1LDEuMDUsMCwwLDEsMTMuMjguMDhabTMsLjNhLjc4Ljc4LDAsMCwxLC40MS4xNCwzLjgxLDMuODEsMCwwLDEsLjYyLjcyLDEuODUsMS44NSwwLDAsMSwuNDEuODEuNTUuNTUsMCwwLDEtLjE3LjQzLjc3Ljc3LDAsMCwxLS41My4xOC40NS40NSwwLDAsMS0uNDItLjIyLDguNzIsOC43MiwwLDAsMC0uOTEtMS4zNi4zNC4zNCwwLDAsMS0uMDgtLjE5QS40My40MywwLDAsMSwxNS44LjQ4Ljk0Ljk0LDAsMCwxLDE2LjIzLjM4Wk0xOS4wOCwwYS43Mi43MiwwLDAsMSwuNDcuMTIuNTEuNTEsMCwwLDEsLjIuNDNWMi44NmgxLjgxYy42MywwLC45NC4zOS45NCwxLjE3VjkuOTRhLjc2Ljc2LDAsMCwxLS4zNC43NSwyLjM1LDIuMzUsMCwwLDEtMS4xNi4yMyw1LjUsNS41LDAsMCwxLTItLjI5LjYuNiwwLDAsMS0uMzItLjQ3YzAtLjQ0LjE4LS42Ny41MS0uNjlsLjM5LDBhNi41Myw2LjUzLDAsMCwwLDEuNDkuMTkuMi4yLDAsMCwwLC4yLS4yMlY4LjM0SDE2LjkzdjJhLjQ5LjQ5LDAsMCwxLS4xOC40NC43OC43OCwwLDAsMS0uNDcuMTIuNTMuNTMsMCwwLDEtLjYyLS41NlY0cTAtMS4xNy44NC0xLjE3aDEuOTNWLjU1YS42MS42MSwwLDAsMSwuMTgtLjQzQS43LjcsMCwwLDEsMTkuMDgsMFpNMTYuOTMsNS4wNWg0LjMyVjQuMjFjMC0uMTItLjA1LS4xOC0uMTYtLjE4SDE3LjE2YS4yLjIsMCwwLDAtLjIzLjIyWm0wLDIuMTZoNC4zMnYtMUgxNi45M1ptNS02Ljg4YTEsMSwwLDAsMSwuNTEuMTQuNTMuNTMsMCwwLDEsLjIzLjQ3Ljc0Ljc0LDAsMCwxLS4xMy4zMyw5LDksMCwwLDEtLjksMS4xNy41MS41MSwwLDAsMS0uMzYuMjIuODUuODUsMCwwLDEtLjUtLjE0LjU3LjU3LDAsMCwxLS4yNy0uNDcuNDIuNDIsMCwwLDEsLjEtLjIyYy4zOS0uNS42OS0uOTEuODktMS4yM2EuODcuODcsMCwwLDEsLjE2LS4yQS41LjUsMCwwLDEsMjEuOS4zM1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yNC42Ni44OWgxLjIzVi41NUEuNTMuNTMsMCwwLDEsMjYsLjE5YS42NC42NCwwLDAsMSwuNDItLjExLjYuNiwwLDAsMSwuNC4xMUEuNDYuNDYsMCwwLDEsMjcsLjU1Vi44OWgxLjI4YS42NC42NCwwLDAsMSwuNC4xMS41Ni41NiwwLDAsMSwuMTEuNDEuNTEuNTEsMCwwLDEtLjEuMzQuNTIuNTIsMCwwLDEtLjQxLjE3SDI3di41MmgxLjE3YS42MS42MSwwLDAsMSwuMzcuMDkuNTEuNTEsMCwwLDEsLjEuMzguNjYuNjYsMCwwLDEtLjA4LjM0LjQ1LjQ1LDAsMCwxLS4zOS4xN0gyN3YuNTJoMS4zN2EuNjQuNjQsMCwwLDEsLjQuMS41My41MywwLDAsMSwuMTIuNDEuNTIuNTIsMCwwLDEtLjEuMzUuNTQuNTQsMCwwLDEtLjQyLjE3SDI0LjU2YS41Mi41MiwwLDAsMS0uMzgtLjEzLjQ3LjQ3LDAsMCwxLS4xMy0uMzlBLjU4LjU4LDAsMCwxLDI0LjE4LDRhLjYxLjYxLDAsMCwxLC4zOC0uMWgxLjMzVjMuNDJIMjQuNzZhLjQ1LjQ1LDAsMCwxLS4zNi0uMTMuNTQuNTQsMCwwLDEtLjExLS4zOC41OS41OSwwLDAsMSwuMTEtLjM4LjYuNiwwLDAsMSwuMzYtLjA5aDEuMTNWMS45MkgyNC42NmEuNTMuNTMsMCwwLDEtLjM5LS4xMy40Ni40NiwwLDAsMS0uMTMtLjM4QS41Ni41NiwwLDAsMSwyNC4yNywxLC42Mi42MiwwLDAsMSwyNC42Ni44OVptMy4yLDQuNWMuNDksMCwuNzMuMi43My42MXY0LjE2YS43OS43OSwwLDAsMS0uMTguNTksMS4xLDEuMSwwLDAsMS0uNjUuMTdoLS4zNWwtLjM0LDBhLjU2LjU2LDAsMCwxLS4zMy0uMTkuNTQuNTQsMCwwLDEtLjExLS4zNS42NS42NSwwLDAsMSwwLS4yMi4zNy4zNywwLDAsMSwuMTgtLjIxLjc4Ljc4LDAsMCwxLC4yOSwwaC4yNmMuMDUsMCwuMDgsMCwuMDgtLjA1VjkuMjJoLTJ2MS4yM2MwLC4zMi0uMTkuNDctLjU2LjQ3cy0uNTctLjE1LS41Ny0uNDdWNmMwLS40My4yMy0uNjUuNjktLjY1Wk0yNS40Miw2Ljk0aDJWNi40MnMwLDAsMCwwaC0yczAsMCwwLC4wOVptMCwxLjQ1aDJWNy43N2gtMlptNC4xMS00LjdoMy4zMWEuNDMuNDMsMCwwLDEtLjE3LS4zNi4zNC4zNCwwLDAsMSwuMDctLjE4LDUuMDYsNS4wNiwwLDAsMCwuNDUtLjYzLDMuNDksMy40OSwwLDAsMCwuMzMtLjg0LjM5LjM5LDAsMCwxLC4zNC0uMzIsMS4yNiwxLjI2LDAsMCwxLC40Ni4wOC4zOS4zOSwwLDAsMSwuMjMuMzksMS4xMiwxLjEyLDAsMCwxLDAsLjIxLDMuNDIsMy40MiwwLDAsMS0uMzMuODUsMy4xNCwzLjE0LDAsMCwxLS40Ny43NWwtLjA1LDBjLjUsMCwuNzYuMjcuNzYuNzJWNS41M2gwYS41OS41OSwwLDAsMSwuNDEuMTFBLjUzLjUzLDAsMCwxLDM1LDZhLjc0Ljc0LDAsMCwxLS4wOC4zOC41My41MywwLDAsMS0uNDQuMThoMFY3LjgzYzAsLjQ0LS4yNi42NS0uNzYuNjVIMzIuMTFWMTBjMCwuNi0uMjYuODktLjc0Ljg5aC0uODVhLjU5LjU5LDAsMCwxLS42LS42MWMwLS4zMi4xMi0uNDkuMzctLjUxaC41MmMuMDksMCwuMTQtLjA1LjE0LS4xNlY4LjQ4SDI5LjQ4cS0uMzksMC0uNDItLjUxYzAtLjMzLjE2LS41LjQyLS41MkgzMVY2LjZIMjkuMzZhLjU2LjU2LDAsMCwxLS40LS4xM0EuNi42LDAsMCwxLDI4Ljg0LDZhLjU2LjU2LDAsMCwxLC4xMi0uNC42Mi42MiwwLDAsMSwuNC0uMTFIMzFWNC43MkgyOS41M3EtLjQyLDAtLjQyLS41MUMyOS4xMiwzLjg2LDI5LjI2LDMuNjksMjkuNTMsMy42OVpNMzQuMTMuMTNhLjQ2LjQ2LDAsMCwxLC4zNy4xNi41Mi41MiwwLDAsMSwuMTQuMzUuNTQuNTQsMCwwLDEtLjM2LjUyQTE4LjQxLDE4LjQxLDAsMCwxLDMyLDEuNDVjLS43Ni4wNy0xLjYxLjEyLTIuNTUuMTMtLjM0LDAtLjUxLS4yNC0uNTEtLjY0LDAtLjI0LjE3LS4zOS40Ny0uNDJBMzYuMSwzNi4xLDAsMCwwLDMzLjg5LjE1Wk0yOS40NSwxLjcyYS45MS45MSwwLDAsMSwuMzcuMTYsMi42MSwyLjYxLDAsMCwxLC4yNS41NiwyLjI4LDIuMjgsMCwwLDEsLjE4LjYuNDYuNDYsMCwwLDEtLjE2LjM3LjYxLjYxLDAsMCwxLS40Mi4xNC4zNC4zNCwwLDAsMS0uMzEtLjE3QTEwLjYyLDEwLjYyLDAsMCwwLDI5LDIuMzFhLjU1LjU1LDAsMCwxLDAtLjE3LjM2LjM2LDAsMCwxLC4xNy0uMzJBLjY0LjY0LDAsMCwxLDI5LjQ1LDEuNzJabTEuOTItLjA5YS45NC45NCwwLDAsMSwuMzguMTQsNS4yMiw1LjIyLDAsMCwxLC4yNy41OSwyLjU3LDIuNTcsMCwwLDEsLjE5LjY0LjQ2LjQ2LDAsMCwxLS4xNS4zNi41Ny41NywwLDAsMS0uNDIuMTYuMzguMzgsMCwwLDEtLjMyLS4xOSwxMC43OSwxMC43OSwwLDAsMC0uNDMtMS4xMi41LjUsMCwwLDEsMC0uMTZBLjQxLjQxLDAsMCwxLDMxLDEuNzEuODUuODUsMCwwLDEsMzEuMzcsMS42M1ptLjc0LDMuMDl2LjgxaDEuMTRWNWMwLS4xNC0uMDktLjIyLS4yNS0uMjVabTAsMS44OHYuODVIMzNjLjE1LDAsLjIzLS4wNi4yNS0uMlY2LjZaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNDEuNDUuMDhhLjcuNywwLDAsMSwuNDkuMTQuNjIuNjIsMCwwLDEsLjIuNDd2LjQySDQ2YS42MS42MSwwLDAsMSwuNDMuMTMuNjEuNjEsMCwwLDEsLjEyLjQ0LjYyLjYyLDAsMCwxLS4wOS4zOC41OS41OSwwLDAsMS0uNDYuMThoLTEuM2wtLjQ3LDEuNWgyLjE5YS41OC41OCwwLDAsMSwuNDMuMTMuNTYuNTYsMCwwLDEsLjEzLjQ0LjU5LjU5LDAsMCwxLS4xLjM4LjU4LjU4LDAsMCwxLS40Ni4xOUgzNi41NmEuNTcuNTcsMCwwLDEtLjQyLS4xNUEuNTEuNTEsMCwwLDEsMzYsNC4zMWEuNjQuNjQsMCwwLDEsLjE0LS40NC42LjYsMCwwLDEsLjQyLS4xM2gyLjM3bC0uNDctMS41SDM3YS42LjYsMCwwLDEtLjQyLS4xMy41NS41NSwwLDAsMS0uMTQtLjQzLjY0LjY0LDAsMCwxLC4xNC0uNDRBLjY2LjY2LDAsMCwxLDM3LDEuMTFoMy43MlYuNjlhLjc1Ljc1LDAsMCwxLC4xOC0uNDdBLjc0Ljc0LDAsMCwxLDQxLjQ1LjA4Wk0zOCw1LjUzaDdhLjc2Ljc2LDAsMCwxLC44Ni44NVY5LjhhLjc1Ljc1LDAsMCwxLS44Ni44M0gzOGEuNzQuNzQsMCwwLDEtLjg0LS44M1Y2LjM4QS43NS43NSwwLDAsMSwzOCw1LjUzWm0uNDgsMmg2VjYuOGMwLS4xNCwwLS4yLS4xNy0uMkgzOC42M2MtLjEyLDAtLjE4LjA2LS4xOC4yWm01Ljg2LDIuMDVhLjE1LjE1LDAsMCwwLC4xNy0uMTdWOC41M2gtNnYuODVjMCwuMTEuMDYuMTcuMTguMTdabS00LTUuODFoMi40NWwuNDYtMS41SDM5Ljg3WiIvPjwvZz48L3N2Zz4="),this.cancelMuteImg.id="volume-slider-img",this.cancelMuteImg._element.draggable=!1,this.cancelMuteImg.css({width:"49px",position:"absolute",top:"11.5px",left:"71.45px",cursor:"pointer",margin:"0",padding:"0",border:"0","margin-bottom":"0",display:"initial"}),this.muteImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAACXBIWXMAAAsSAAALEgHS3X78AAACU0lEQVQ4jZVUMY8SQRR+R8AE49Fc5TwLqrPR6qCBxtCRcDQWJiYkVlzWgsRcwQ+QlmirlQmJFsQGbCHXYAMkJlpdKDY5njbQ4IUCijXfsoOzw3KeXzLZmXnffvPem/fmwPM80ogx8zERef1+v+tbmLkKY5gGynq9XmIRZ+YzTESEQv9oiMh7UkqlvQCz2eyq1+t1QQ4JhwADhlJK6fmBUipHRI9s7arWrtVqr7GOmVKj0WjuR6GUQnxPzN8jPdhuMvMJEZ3YBP9gk2xG7bru20QikdSpCfBLRLqxQBEK7zBAxNpxnGOsA/L9SOXhcHiOICzlSxG5MH1WRFSyXL4WkY/blU5pVJrNYapWaRdjERlH+hqBHyLyFRk41TYrao3NBeMiJ5PJN88ACgeXvFqtlrAjG3GQk8lk0pSoVCpdKDcajWawdehXxXQ6vTKJrVbrNJ/Pv3Ic51mwNUeloEpQLZROp+8OBoM3VtL/Vs8/or4QkUszj8+J6J5F+iIiP8lutZsQSWTmQyJ6DLcjTrlGdRLRdxH5HaUdEmXmbRL+A3417ojuqUofyHC73XYwz2azzRvO2uYpHoRa0gLFYvEB5rlc7mGhUIg8aA9KzPwJKYmb4cKj4MWIBA7tdDrnqVTqCPbFYjEvl8tN13WXAR//jmO3c2KDTCZzBEGIYWCOPZuHCr1DRC9sAzqqXq+/1O8KbS7yzOZZ+CAiK31RyOtTIsIBO0C/4IsG2yO2IqLPusTskgq9wLeE30Kh8Pd1CTOj8DEQhf+M4u0lInjjiggaYBdE9AfSbmmdqSlvUwAAAABJRU5ErkJggg=="),this.muteImg.id=a.ONEAD_CONST.ID.IMG.MUTE,this.muteImg._element.draggable=!1,this.muteImg.css({width:"21px",height:"21px",position:"absolute",top:"7.5px",left:"70.45px",cursor:"pointer",display:"none",margin:"0",padding:"0",border:"0","margin-bottom":"0"}),this.unMuteImg=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAACXBIWXMAAAsSAAALEgHS3X78AAACzUlEQVQ4jZVUTWgTURCexhLQthSJ0Prm0CIhh9ZScYWAlFLwmpysPdhe6iEhp1AwBZNDbypCQPDkXgMWC5JLwEN6qG6QgrT0x1OSxV5Gt4cmYEMECa7Msi++3aZSP3jsm3nf+3Zmdmb7bNsGiQAiRgDAzufzH5wTREzwoZfGlP39/Q4b/YiY5A0RgeeOBBHpIIQYtyzLZpim+Xttbe09kz3CHvABLyGEkPs+IcRdALjp106wLuvPzs4+YZtjhGaz6bBGR0evOlkIITi/OfV6zwi6TkTUAEDzE5wXS7hhJuTa29vrcDC8l08hRNwRFUJoMmIJJiWTST2Tybzd3t4+dc/PKpdKpYZUNE1TKs95SomIAgBivpBbRPTGE7O61DKrS1VNwFnsENFOt2TnkCS+ENEn7rK49MTj8TtE9Frus9lssvuBObtyudxQS8U+wzBOuYnc7CPOxw6FQv3+901OTg4eHBx8dc0hh1ir1U6Oj489xEqlYmmadsM1T1ipurKy8oytcDgc2tzcfMp7wzA+GoYhe+DoIllvEVFVreNDABj0kUpE9A38o/Yv9CQi4hAATAHAeI+3tADgCAAOiei0l7ZHFBF5VCIXCucvqkS0pToCrphwC3VGkCus6/rzQqGQV32Li4v3XDPCd93OdtDvphqT5Gg0eov3Y2Nj4fn5+dsjIyMOUX5rFt/Y2FifmJiYMgzjwfLycq5er5+wBiKuOyWR08lrd3f3h30O5BDquv650WjYCwsLL3hyi8WiqQysxuUM/Gf9YHh4+Fqr1QLLsprBYNDudDptP4c79FD+mWKx2GN5wFOUSqUeTU9PX1IvtNvtn0tLS9nV1dVMIBC4kk6nXynHrNWdYa7rfQAI9oqOR3RgYOByLpd7KX0zMzPhSqVSd81fAPBOtpi/pTx/4AvCGSGVe+6UICI3Pi/O4rrr/g4AHM0RD23PiwDwB/BrzezVGESpAAAAAElFTkSuQmCC"),this.unMuteImg.id=a.ONEAD_CONST.ID.IMG.UNMUTE,this.unMuteImg._element.draggable=!1,this.unMuteImg.css({width:"21px",height:"21px",position:"absolute",top:"7.5px",left:"70.45px",cursor:"pointer",display:"none",margin:"0",padding:"0",border:"0","margin-bottom":"0"}),this.sliderDiv=new e(c,this.setVolume,this.changeToMuteImg.bind(this)),this.appendChild(this.adCountDown),this.appendChild(this.backgroundImg),this.appendChild(this.cancelMuteImg),this.appendChild(this.sliderDiv),this.appendChild(this.muteImg),this.appendChild(this.unMuteImg)},d.prototype.mouseEvent=function(){var a=this;this.addEventListener("mouseenter",function(){a.setStyle(a.STYLE_CONST.SLIDER)}),this.addEventListener("mouseleave",function(){a.setStyle(a.STYLE_CONST.NO_SLIDER)})},d.prototype.setStyle=function(a){switch(a){case this.STYLE_CONST.SLIDER:this.backgroundImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAAAkCAYAAAEGOBOEAAAACXBIWXMAAAsSAAALEgHS3X78AAAD7klEQVR4nO2coVIcQRBAOxRFTKIuhm2DOhCgKARRqChQUYlCYSPyFYj8QBRVVAVFIcAEdeoiCOpicupMLyoK1CmqLz1hWGZn93bndjvcvKotirvZqd7enunumZ57kSTJHgSAiM65lwUAWPZdZ2dnn/iv3JDbFhEPuEOW8MAn39XV1eckSVbN/4i46Wm+uVjmYRFxg4gG5iZP02GhhNNARF9DvZRrIkrLSndCRLdG6XmU0h13ZCTwNCv3IuwbfF8GewnmBQR7owE5IqLxtGp7Ag+Yra2tL/yk2e+KDMDDPiKWM5CquAQuQ+mppAKXAPAuxIMFm4kDcEtEPdPNoszIGmCv0IVZjFJjW4i4V/eBF0ILBQ8O9q5Of6FG50X2AyL6VuB3nRDRNY/OUIJ1ACB1COfzQ04QcTKqQwm2DQAD+4MaE+2E0HPZkId9kZMtQS+0B+gG6OOSiEZanbombkwYb4hKm44wEVpdTIRndTMmoqO8bsWr7rQkLkeOvWBOMxAjn8Lgr1sZVo1IA7GjTWk/FMjg4tGL1Ka0D2UaVYmuarJv3976nJZFAqhrV3SHiEvZB2gazesIGhmanFOdpSmjx44nK5Km1QNNpL7kLw7PYi54Ddlupc17amQXEd/bckWllaNjK65VpR0eHr7N+WoS9duXa0WsYVhxCbSttCRJOo6PT+3lZAPPKy2nT8wuKByebGF/fA3aVhwivlalNJeF5TBuXLgHpt7zVAGvhDSYf44AYMVaiu78zxlBU0pjhfWehdKamtvEY9px2o0qpbGA2eg7p12bWcxAm/fcLWpgNvfagnej1GUEPisSha00K9Ej2CmoTtjHssN7K4pqU1kTzDyq2REsNeghC7EdT1yELOaOqz7sVlFp+dwAwHfeHM62iIuQkaqwU/xVJkSEODojNZgENFzfK7DR9fO6i4YWCcU6Iq4DAK+GnmfdZ3Sd1RjJdSfpCkfhL6V6tit/551HM9xcG9rx8fHe2tpaN1NQ6GIstbal4hEDH7WSCul55V8mFV1nMU8qEsoi5/kGspWhZt2hQV7x8Rau8Y4FCX5OqhqZjdQeld2YfG5MDmvFGS2fnnVStjZSFfikMvC5UBAmrEZDy2c0i05b3nacFRzDnorOXJX5y9HQ8nnjOn9ZFwVVYjPDsxWtqxhBGdsySoOg4bhIi6QxGcinIz8IUBsxso8Kn7Ep1FUKaWPyo0fmJy6qgIh8iHdfFnXnkVMVJ7DbpN/v/07T1FtALuyIwfBOwE/XuTKDzF4bcs2rcYFJEEzmHregIrNgmD3QEJOBSEhyKziioUXqYOqgB65iR5vFgt+HjEQMHGvxJvn0a4sAcA8+KY4CWs1evgAAAABJRU5ErkJggg==",this.sliderDiv.isMuted?(this.muteImg.show(),this.unMuteImg.hide()):(this.muteImg.hide(),this.unMuteImg.show()),this.sliderDiv.show(),this.css({cursor:"default",width:"100%"});break;case this.STYLE_CONST.NO_SLIDER:this.backgroundImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAjCAYAAACAY7T5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA2LTA0VDE0OjMyOjU2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNi0wNFQxNDozMzo0MCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0wNFQxNDozMzo0MCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjMDBmZWNkOS00ODgzLTM1NGMtYjNlNS1hNmRhMjk4MDQ1YmEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YzAwZmVjZDktNDg4My0zNTRjLWIzZTUtYTZkYTI5ODA0NWJhIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzAwZmVjZDktNDg4My0zNTRjLWIzZTUtYTZkYTI5ODA0NWJhIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjMDBmZWNkOS00ODgzLTM1NGMtYjNlNS1hNmRhMjk4MDQ1YmEiIHN0RXZ0OndoZW49IjIwMTgtMDYtMDRUMTQ6MzI6NTYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5E6khZAAABmElEQVRo3u3bLY6EQBAFYBQOhXtqFA7VrhUKhyJBjEIh8aPnIptwhLXLATjCHoBzsIZNWJL+Iw10sm+ScjOQ8KW7i6qaCEDH8BJPABWAAkAGIFmWJXKJiA/x1KgAZMQIK2oAIEZYIYkR3tYVEyOsbSsmRkArhBj+0lgJ4IG/nxxA6XAdQYw1hmH4mKbpyxHBmKoCiAEIy2smxAC6cRw/53n+tvx+oTp4NSjpCmi1XRHDDqNwfZverZLacP2UGHYY5VGI3QppTdjE0GO0rluTBiTX3YcYZgzhA2IDojs/UmLoMRLPGLoMKyeGGqP2CbE5O5SrkBhqjMI3xgqiTHGJocYQxCAGMQLYpiQxrj3AwQM8nNRWau71IIYeQ3rG0JVEYmKYyyHJBS98FcshdoXC6uSXve63R0KM80voportk/0M9+ZSeaC5BANEt+0c/muMpmlefd+/HX7TWrZdk7Uz6DSUwIGEY9GuDzvfDSQIi66eMjkgxn0BjuqEsaoyThSGAZFy1vb+MGZjxLhm0Bn8f8a9g83StZTyA7fkysGJIgVvAAAAAElFTkSuQmCC",this.sliderDiv.hide(),this.css({cursor:"default",width:"98px"})}},d.prototype.mute=function(){this.setVolume(0),this.sliderDiv.setSliberBallPosition(0),this.sliderDiv.isMuted=!0,this.unMuteImg.hide(),this.muteImg.show(),this.followVolumeButton&&this.followVolumeButton.mute(),this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MUTE)},d.prototype.unMute=function(){0==this.sliderDiv.currentVolume&&(this.sliderDiv.currentVolume=.2),this.setVolume(this.sliderDiv.currentVolume),this.sliderDiv.setSliberBallPosition(this.sliderDiv.currentVolume),this.sliderDiv.isMuted=!1,this.muteImg.hide(),this.unMuteImg.show(),this.followVolumeButton&&this.followVolumeButton.unMute(),this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE)},d.prototype.bindListener=function(){this.addEventListener("click",this.clickCancelMuteFunc),this.muteImg.addEventListener("click",this.unMute.bind(this)),this.unMuteImg.addEventListener("click",this.mute.bind(this))},d.prototype.clickCancelMute=function(){this.sliderDiv.isMuted=!1,this.cancelMuteImg.hide(),this.setStyle(this.STYLE_CONST.SLIDER),this.followVolumeButton&&this.followVolumeButton.unMute(),this.setVolume(this.sliderDiv.currentVolume),this.sliderDiv.setSliberBallPosition(this.sliderDiv.currentVolume),this.mouseEvent(),this.cancelVolumeTriggered=!0,this.removeEventListener("click",this.clickCancelMuteFunc),this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE)},d.prototype.changeToMuteImg=function(a){a?(this.muteImg.show(),this.unMuteImg.hide()):(this.muteImg.hide(),this.unMuteImg.show())},d}(b.BaseComponent),e=function(c){function d(d,e,f){var g=c.call(this,"div")||this;return g.currentVolume=.2,g.isMuted=!0,g.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER_DIV,g.css({width:"65px",height:"36px",position:"absolute",left:"89px",top:"0px",display:"none"}),g.setVolume=e,g.changeToMuteImg=f,g.eventCenter=d,g.sliderZone=new b.Element("div"),g.sliderZone.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER_BACKGROUND,g.sliderZone.css({width:"65px",height:"36px",position:"absolute",cursor:"pointer"}),
g.sliderBall=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTI1VDE0OjU3OjQ3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0yNVQxNTo1ODoxOSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0yNVQxNTo1ODoxOSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MThlMzRhNi03NzA1LTgxNGYtYmU2OS03Zjg1NzVhMGIyODQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODE4ZTM0YTYtNzcwNS04MTRmLWJlNjktN2Y4NTc1YTBiMjg0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODE4ZTM0YTYtNzcwNS04MTRmLWJlNjktN2Y4NTc1YTBiMjg0Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MThlMzRhNi03NzA1LTgxNGYtYmU2OS03Zjg1NzVhMGIyODQiIHN0RXZ0OndoZW49IjIwMTgtMDUtMjVUMTQ6NTc6NDcrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6pKnG3AAAAUElEQVQoFWP4//8/AxJ2AOID/1HBBiA2gKlBVtzwHz9IQNYQ8J84YADTcIFIDQtgGogFH2AeJRqQZQNZfiA2lBSQ4yGBlHhAjukNxMY0URgA8igQWN4JMb0AAAAASUVORK5CYII="),g.sliderBall.id=a.ONEAD_CONST.ID.DESKTOP.VOLUME_SLIDER_BALL,g.sliderBall.css({width:"12px",height:"12px",position:"absolute",top:"13px",cursor:"pointer",margin:"0",padding:"0",border:"0","margin-bottom":"0",display:"initial"}),g.sliderBall._element.draggable=!1,g.appendChild(g.sliderZone),g.appendChild(g.sliderBall),g.sliderAnimation(),g}return __extends(d,c),d.prototype.setSliberBallPosition=function(a){var b=48*a;b>48&&(b=48),this.sliderBall.css({left:b+"px",transition:"all 0.3s"})},d.prototype.sliderAnimation=function(){var b=this,c=function(c){var d,e=0,f=0,g=function(a){a=a||window.event,e=a.pageX-(a.offsetX-6),document.onmouseup=i,document.onmousemove=h,document.onmousedown=h},h=function(c){c=c||window.event,b.sliderBall.css({transition:""}),f=c.pageX,(d=c.target.id.indexOf("ball")>-1?c.offsetX+b.sliderBall.element.offsetLeft-6:f-e)<=65&&d>=0&&(d>=45?(d=48,b.setVolume(1),b.currentVolume=1,b.changeToMuteImg(!1),b.isMuted&&b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE),b.isMuted=!1):d<=5?(d=0,b.setVolume(0),b.currentVolume=.2,b.changeToMuteImg(!0),b.isMuted||b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MUTE),b.isMuted=!0):(b.setVolume(d/48),b.currentVolume=d/48,b.changeToMuteImg(!1),b.isMuted&&b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE),b.isMuted=!1),b.sliderBall.css({left:d+"px"}))},i=function(){document.onmouseup=null,document.onmousemove=null};c.onmousedown=g};c(this.sliderBall._element),c(this.sliderZone._element)},d}(b.BaseComponent)}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){!function(a){var b=function(a){function b(b){var d=a.call(this,"div")||this;return d.id="gradient-wrapper",d.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"360px","user-select":"none",opacity:"0",visibility:"hidden","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAFoCAYAAADHMkpRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA2LTE0VDE4OjAyOjI3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNi0xNFQxODowMzowMiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNi0xNFQxODowMzowMiswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5ZmExZDFjMi1kNDRkLWMzNDAtYWQxOC0zY2RkNzgyYjM0OWQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OWZhMWQxYzItZDQ0ZC1jMzQwLWFkMTgtM2NkZDc4MmIzNDlkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OWZhMWQxYzItZDQ0ZC1jMzQwLWFkMTgtM2NkZDc4MmIzNDlkIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5ZmExZDFjMi1kNDRkLWMzNDAtYWQxOC0zY2RkNzgyYjM0OWQiIHN0RXZ0OndoZW49IjIwMTgtMDYtMTRUMTg6MDI6MjcrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WIYa/AAAGX0lEQVR42u3dwU3FQBAFwYGdjQAhcScK8s/rmwNk0VUh+NTyW6/fvr8+f2bmYwAASNiz+8zM41EAAEQC8O6OAAQACAWgN4AAALEA3LOvmXl5FAAAlQC8JmAAgFQAmoABAGIBaAIGAKgFoAkYACAWgMcEDACQCsCzRwACAJQCcPc+4wwgAEApAE3AAACpADQBAwDEAvCagAEAWgHoImgAgFgArgkYAKAWgCZgAIBUAJqAAQBiAbjHBAwA0ArAawIGAGgFoH8BAwC0AtBF0AAAsQA0AQMA1ALQRyAAAK0AdA0MAEAsAH0EAgBQC8C7zgACAJQC0AQMABALQBMwAEAtAE3AAACxAPQGEACgFYDOAAIAxAJw744ABAAoBeDZ1zgDCADQCUATMABALADvmoABAFIBeNYEDAAQC8BjAgYAKAXg3TsCEAAgFIA+AgEAiAXgnuMMIABAKgCvCRgAIBWAx7+AAQBaAbhrAgYAaAWgCRgAIBaAJmAAgFYAuggaACAWgLv3GWcAAQBKAWgCBgBIBaAJGAAgFoDXBAwA0ApAbwABAGIB6BoYAIBaAF4TMABAKgD/J2AAACoB+D8BAwCQCcC/CVgEAgBkAvCYgAEASt6eR/8BAJS8ewQAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAgAAEABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAgAAEABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAAACEABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAQgAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAEIAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAACEAAAAEIAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAAAhAAAAEIAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAQgAAAAhAAAAEIAIAABABAAAIAIAABABCAAAAIQAAABCAAAAIQAAABCACAAAQAQAACACAAAQAEoEcAACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAgAAEAEIAAAAhAAAAEIAAAAhAAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAgAAEAEIAAAAhAAAAEIAAAAhAAQAACACAAAQAQgAAACEAAAAQgAAACEAAAAQgAgAAEAEAAAgAgAAEAEIAAAAhAAAAEIACAAAQAIOMXKj5x/4GoUV4AAAAASUVORK5CYII=)"}),d.wording=new c(b),d.appendChild(d.wording),d}return __extends(b,a),b}(a.BaseComponent);a.GradientWrapper=b;var c=function(a){function b(b){var c=a.call(this,"span")||this;return c.css({position:"absolute",top:"7px",left:"40px","font-size":"12px",display:"block",color:"white","z-index":"12000"}),c.text=b,c._element.innerText=c.text,c}return __extends(b,a),b}(a.BaseComponent)}(a.component||(a.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){!function(a){var b=function(b){function d(){var d=b.call(this,"div")||this;return d.id="bottom-scraper",d.css({width:"100%",height:"30px",position:"absolute",bottom:"0px","background-color":"black"}),d.scraperArrow=new a.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAeCAYAAAAcni9KAAAB0ElEQVQ4je2TwWoTURSGv3Nuksm0SUgYSKEbIYldVjDtIG2TYNy6K4i+gOBWENwKQkEQfA7fx1WgT9HtnOPizkyqMTUBl97NLO79z3f+/5yB/+efnkae5991X1WAV51O91r21CVXV7PbtN0+3ouo8D5tt4/B2YeYzeeL26TV6oGzM7HX731KklYvomRn4uPl8sUPEWmq1G3//YxGo5ug2gxBAcF8N+FsMplciwpFYQCI7CB8Op1+URHcjBAUJDpsPCQK8DrLsmeFOw5gXt89REymef4Zd6ywMkcHAXPfTlR41+/3xw7o/ew9etw2jmw+m63SNB14fIsV0aOZbW9V4UN6cDCwypM5KgLu9ej/RHy0fL5chaBNUcXdwcv+6jq2SRwOhzeNZqOpIeAlUVWrTSMuuGwIz56cnr4BcDO0TKUoDEQwc0R10+NoPP4WQsABKR+qauzSPH7dEfmV+PJkMrk0j+05gEr0WAWiWvus5tg4Oz//WpSiKrF1cut0QfDqf1R4mw0GJ1Jeuq9Xqy4hUpaK4QjQvbi4XPW6naNKYOY1TkTqdNd0QRU+djqHR+6Olcss+vt47wtjq7JYLO7aSXIIglkBIpEC68HHNmrX5sZPC1WcSZzY1i4AAAAASUVORK5CYII="),d.scraperArrow.id="scraper-arrow-img",d.scraperArrow.css({"margin-left":"146px",display:"inline-block",padding:"0px"}),d.scraperBar=new c,d.appendChild(d.scraperArrow),d.appendChild(d.scraperBar),d}return __extends(d,b),d}(a.BaseComponent);a.BottomScraper=b;var c=function(b){function c(){var c=b.call(this,"div")||this;c.id="scraper-bar",c.css({width:"calc(100% - 160px)",display:"inline-block"});var d=new a.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAAeCAYAAAD0O81IAAAGTElEQVR4nO2dWZajMAxFDRlqW7X/JSUB+qOPq4RK0rMxBJK8+5MDnuRRtoggJUIIIYQQQgghhBBCCCGEEEIIIe9C9/39PUURxnEMM3g8Hk0CTFNYPOQxDk3515Sv46LrkjzWbD+rfCST7t8ldXpGfE+uruvCdGj8pjEuv7R/vLaX6a04SL5hiMf3ErlqwhG6fXR+qH5W/8k8mvsX0LVVP/UgHMsXh8P+aZS/MTlp5Hy5XMIIaAHo+3gIti4AMBysT2gC1CgAuRjka71YRPnpPHKaCBQu+weV78lUc711es3j8QjzPJ/PYfrb7RaGr6WAtVyZ6/UaxkPyI+73exiO8m9V8Hr9qN1g5vHtbWCWKPAqQP8jWhUwkh/Nj8baUwHvzBlNYDSAWhVwq4Js3cHX7qDRDt+Tx1tgUPshZHpvk1CCp+Rq2t8qr7X/df2i8lF6mzj919dXnNppp3wt55clK5IPzU/Uv2gDcjqdwnCETG+Nv9L1wVLEzcq1gNb1A6XGCrZxg9EoP9mXM5ogKLzVBNRK6yRdM32kgHS8fA+1X037rmES1/eWbIBa00vyCa5EwUXp3fKHdSwknjVEn4BrT4jWCVqCTrCo/qj9EGiD0foIBNG8/uysgIcBbSC334SQ/TinVLdw1y7qS3aYJaeqnzhdfOqMTlDTNKXT6ZTGcZwpxawYpZnZ2qlL2azdv4zv1Qed8PQJpaavPJO0pSh0/fO9LF/JM9hZvwDZMn3fh+0b5Zf7L5IPKSjrGWCNNQDVV9dBx0PtC02QjSZMNP7kGPLCc1jJ+I/KRzJb99EGAyvoNgXcAQsIwlKwNWvmrH/yPSOMHJM+pb+T5Bmmn2ezdIKQY/DK/fcJ84sQUs/P9tEyoaX0WgudxRKzGDkO79J/3vwihHwuM/vNJ5gs3r1+784r998nzK+jAU34T5KDEIuzPum+y8lXU/IMkxyXVzVBf8r82gu2I3llaIImh+Zd+o8maEKIZvYXxE9YFF5x8Sa/vHL/fcL8IoSU0/YaHkIIOTD4GTA3RWQ/zrUmvto3HSE/zzXQvqz5nuWjquNqX14ZlmXX5nidXtYr+x1GaaSM+Vf6Hef4fd+bfoy1foK6Dax8lr6JKPIDLfnTkRWn5s9KtX7Hf9IbVZS5TNMkHSv/ltE4hHM76fHzv7juz3j1/NC3wvIZXxPkJ5/v1awflp+1vv9zb5zg6yS3pKT+EbP+CcLIMdlz7BFCyK5wASR7wvFHCCGE7AAVMCGEELIDVMCEEELIDlABE0IIITtABUwIIYTsABUwIYQQsgPwRRzWNz4j1vA98/x3zfA0/46tlsH74Lfn92r5lVrvjbb8X3Va5DeZwzzfYfmdYp0mI7+Ha/WV9kP2fJ2tekr5S19VmuOVvspUfpDe80kvfQ/0krGn/cV1Xtb3cOf+27/fG7b6u0T2yPc6+mB99h+PQN9Llizx8/Xir/UqW9nWskz53W4vDaLE5xb1l8xDrwn0wyWI1d+EdbSBVzvBPCVsxbXKshRkiwLRi78Ou9/vYR7X6xUqYa00872U7A+ar6kArQ+qR21eWna+HobBiv6Dp8Cil5akJBZbkd6SQStArZiQfNYH6y05PHT+UXtG8u/FWmtJ6Tgi5Jk0K+CSk+SRQfKjHbCVX3QqLsmrJg064UhFohVvSr8K0FMwSFYvbIkCbG0L617paciyHngnmtmJB7wJTOdv5lEoVwveBgC9yczKYytK8l/jhH7UtemocpHtWO0E/OpfeymV31NU3qYjK6AlyiO6n6+zAvYW1mzitRRySnMzt6UckAm4xOwaUXrCXnoSRuNQnvD0xguZEruuS1OKlZSun84PnTBbF2WZf0kbevJHG7w18PKPHoFZY7O2nKOwdA691ipLNKuaoJc89zmSokbvQ7ZOBTqOvHafWxuLS5R/xDAMUEHmXyv/2+32J41MhywB6JSE6qNN0DXm7ZJ76AReYjmw4tU+7y1RMCXytYbXWjFaTbdbnFiXKFE/j33XnzXqRl6XtzdB1/whQ6axFkhkVrbMeZfLxYxrXaP7Vrh3ws7X+hmijpfDl5igp2ma/YnLiqufUWukglyqbGoUnybLZ/3xL9+PLARptDco0SZLgjYIrQpaW0A8+UrGz9ZzegvlW2Nl2pujykW24x/uS2YUFxgZJgAAAABJRU5ErkJggg==");return d.id="scraper-bar-img",c.appendChild(d),c}return __extends(c,b),c}(a.BaseComponent)}(a.component||(a.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(b,d){var e=c.call(this,"div")||this;return e.isNewDF=!1,e._isOnlyBanner=!1,e._isVast=!1,e.id=a.ONEAD_CONST.ID.WRAPPER.BANNER,e.player=b,e._eventCenter=d,e._dataCenter=d.dataCenter,e.isNewDF=e._dataCenter.isIR_DF,e._isOnlyBanner=e._dataCenter.isOnlyBanner,e._isVast=e._dataCenter.isVast,e._isVast&&(e.vastResult=e._dataCenter.vastResult),e.chooseBannerTypetoDisplay(),e}return __extends(d,c),d.prototype.chooseBannerTypetoDisplay=function(){this._isVast?this.vastResult.hasCompanionAds?(this.vastTrackerCenterArrayOfCompanion=this.vastResult.vastTrackerCenterArrayOfCompanion,this.vastResult.hasPlayableAd?this.buildVastBanner():this.buildVastOnlyBanner()):this.banner=null:this._dataCenter.params.settings.banner.src?this.buildNormalBanner(this._dataCenter.params.settings.banner):this.banner=null},d.prototype.buildNormalBanner=function(c){this.zipIndex=c.src.indexOf(".zip"),-1==this.zipIndex?(this.banner=new b.Image(c.src),this.banner.id=a.ONEAD_CONST.ID.IMG.BANNER,this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_DF||this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF?this._isOnlyBanner?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.DF_390):this.isNewDF?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.NEW_DF):this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.DF):this._isOnlyBanner?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC_950):this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC),this.appendChild(this.banner)):(this.isIframeBanner=!0,this.banner=new b.IframeBanner(this._dataCenter,c,this.zipIndex),this.appendChild(this.banner)),(this.isNewDF||this._isVast)&&this.setupBannerClickArea()},d.prototype.vastBannerFilter=function(b,c){var d,e=this,f=function(){switch(b){case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:d={width:"640",height:e.isNewDF?"435":"390"};break;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:case"ONLY_BANNER":d={width:"950",height:"390"}}},g=function(a,b){var c;if(b){if(c=a.filter(function(a){return a.creative.iframeResource.indexOf(".zip")>-1}),c.length>0)return e.zipIndex=c[0].creative.iframeResource.indexOf(".zip"),c[0]}else if(c=a.filter(function(a){return a.creative.staticResource.indexOf(".zip")>-1}),c.length>0)return e.zipIndex=c[0].creative.staticResource.indexOf(".zip"),c[0]},h=function(){f();var a=c.filter(function(a){return null!==a.creative.staticResource});if(a.length>0){var b=g(a,!1);if(b)return b;e.zipIndex=-1;var h=a.filter(function(a){return a.creative.width===d.width&&a.creative.height===d.height});return h.length>0?h[0]:i(a,!1)}},i=function(c,f){switch(b){case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:d={width:"300",height:"250"};break;case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:d={width:"640",height:"75"}}return c=c.filter(function(a){return a.creative.width===d.width&&a.creative.height===d.height}),c.length>0?(null!==c[0].creative.iframeResource&&(e.zipIndex=-2),c[0]):f?h():void 0};f();var j=c.filter(function(a){return null!==a.creative.iframeResource});if(j.length>0){var k=g(j,!0);if(k)return k;var l=j.filter(function(a){return a.creative.width===d.width&&a.creative.height===d.height});return l.length>0?(this.zipIndex=-2,l[0]):i(j,!0)}return h()},d.prototype.chooseVastBanner=function(){var b,c,d;switch(this._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:b=[{width:"640",height:this.isNewDF?"435":"390"},{width:"640",height:"75"}];break;case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:b=[{width:"950",height:"390"},{width:"300",height:"250"}];break;case"ONLY_BANNER":b=[{width:"950",height:"390"}]}for(var e=0;e<b.length;e++)if(c=this.vastResult.getFilteredVastTrackerCenterCompanion(b[e].width,b[e].height),c.length>0){d=c[0];break}return d},d.prototype.buildVastBanner=function(){if(this.vastBannerParam=this.vastBannerFilter(this._dataCenter.playerType,this.vastTrackerCenterArrayOfCompanion),void 0===this.vastBannerParam){if(this.vastBannerParam=this.chooseVastBanner(),!this.vastBannerParam)return;this.banner=new b.IframeBanner(this._dataCenter,this.vastBannerParam,this.zipIndex),this.appendChild(this.banner),this.isIframeBanner=!0,this.setupBannerClickArea()}else-1===this.zipIndex?(this.banner=new b.Image(this.vastBannerParam.creative.staticResource),this.banner.id=a.ONEAD_CONST.ID.IMG.BANNER,this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_DF||this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF?"640"===this.vastBannerParam.creative.width&&"390"===this.vastBannerParam.creative.height?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.DF_390):"640"===this.vastBannerParam.creative.width&&"435"===this.vastBannerParam.creative.height?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.NEW_DF_435):"640"===this.vastBannerParam.creative.width&&"75"===this.vastBannerParam.creative.height&&(this.isNewDF?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.NEW_DF):this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.DF)):"300"===this.vastBannerParam.creative.width&&"250"===this.vastBannerParam.creative.height?this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC):"950"===this.vastBannerParam.creative.width&&"390"===this.vastBannerParam.creative.height&&this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC_950),this.appendChild(this.banner),this._dataCenter.hasVPAIDAd&&this.banner.css({"z-index":""})):(this.banner=new b.IframeBanner(this._dataCenter,this.vastBannerParam,this.zipIndex),this.appendChild(this.banner),this.isIframeBanner=!0),this.setupBannerClickArea()},d.prototype.buildVastOnlyBanner=function(){this.vastBannerParam=this.vastBannerFilter("ONLY_BANNER",this.vastTrackerCenterArrayOfCompanion),void 0!==this.vastBannerParam&&(-1==this.zipIndex?(this.banner=new b.Image(this.vastBannerParam.creative.staticResource),this.banner.id=a.ONEAD_CONST.ID.IMG.BANNER,this.setBasicBannerStyle(a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC_950),this.appendChild(this.banner)):(this.banner=new b.IframeBanner(this._dataCenter,this.vastBannerParam,this.zipIndex),this.appendChild(this.banner),this.isIframeBanner=!0),this.setupBannerClickArea())},d.prototype.setupBannerClickArea=function(){var c;if(this._isVast){c=!!this.vastBannerParam.creative.companionClickThroughURLTemplate?this.vastBannerParam.creative.companionClickThroughURLTemplate:this.vastResult.vastTrackerCenter.clickThroughURLTemplate}else c=this._dataCenter.bannerDataInXml[0].linkUrls[0];a.Util.checkUrlIsAvaliable(c)&&(this.clickArea=new b.ClickArea(this._eventCenter),this.clickArea.setupBannerClick(this.player,this.vastBannerParam),this.appendChild(this.clickArea))},d.prototype.setBasicBannerStyle=function(b){switch(this.banner.css({position:"absolute",cursor:"pointer",margin:"0",padding:"0",border:"0px","margin-bottom":"0",display:"initial","z-index":"9800"}),b){case a.ONEAD_CONST.BANNER_TYPE.DESKTOP.DF:this.banner.css({left:"0px",top:"285px",width:"640px",height:"75px"});break;case a.ONEAD_CONST.BANNER_TYPE.DESKTOP.DF_390:this.banner.css({width:"640px",height:"390px",top:"0px",left:"0px"});break;case a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC:this.banner.css({left:"645px",top:"70px",width:"300px",height:"250px"});break;case a.ONEAD_CONST.BANNER_TYPE.DESKTOP.INSYNC_950:this.banner.css({left:"0px",top:"0px",width:"950px",height:"390px"});break;case a.ONEAD_CONST.BANNER_TYPE.DESKTOP.NEW_DF:this.banner.css({left:"0px",bottom:"0px",width:"640px",height:"auto"});break;case a.ONEAD_CONST.BANNER_TYPE.DESKTOP.NEW_DF_435:this.banner.css({width:"640px",height:"435px",top:"0px",left:"0px"})}},d.prototype.setOnlyBannerNormalStyle=function(){this.banner.css({transform:"scale(1)"})},d.prototype.setOnlyBannerFollowStyle=function(a){switch(a){case"DF":this.banner.css({transform:"scale(0.5)","transform-origin":"0 0 0","z-index":"0",transition:"all 0.3s"});break;case"INSYNC":this.banner.css({transform:"scale("+320/950+")","transform-origin":"0 0 0","z-index":"0",transition:"all 0.3s"})}},d}(b.BaseComponent);b.BannerWrapper=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(b,d){var e=c.call(this,"a")||this;return e._isInRead=!1,e.id=a.ONEAD_CONST.ID.BUTTON.LOGO,e._dataCenter=b.dataCenter,e._isInRead=e._dataCenter.playMode==a.ONEAD_CONST.PLAY_MODE.IR,e._playerType=d||e._dataCenter.playerType,e.setCss(e._playerType),e.shortIcon=e.buildShortLogo(),e.longIcon=e.buildLongLogo(),e.updateElement(),e.appendChild(e.shortIcon),e.appendChild(e.longIcon),e.bindListener(b),e._dataCenter.identity||e.hide(),e}return __extends(d,c),d.prototype.updateElement=function(){var a="?utm_source=onead&utm_medium="+this._dataCenter.playMode+"&utm_campaign="+this._dataCenter.pid;this.aLink=this._element,this.aLink.href=encodeURI("https://www.onead.com.tw/cookie-policy/"+a),this.aLink.target="_blank"},d.prototype.setCss=function(b){switch(this.css({display:"block",position:"absolute","z-index":"20000",cursor:"pointer"}),b){case a.ONEAD_CONST.PLAYER_TYPE.IS_DF_BANNER:this.css({bottom:"7px",right:"7px"});break;case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:this.css({top:this._isInRead?"342px":"372px",left:this._isInRead?"7px":"",right:this._isInRead?"":"7px"});break;case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:this.css({right:"0.3%",top:"0.5%"});break;case"HTML5_IS_FOLLOW":this.css({right:"5px",top:"",bottom:"0px"}),this.addMouseEnterEffect();break;default:this.css({right:"7px",top:"342px"})}},d.prototype.bindListener=function(b){var c=this;this.addEventListener("click",function(){b.mute()}),this._dataCenter.identity&&(this._playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_DF||this._playerType===a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF?(this.addEventListener("mouseenter",function(){c.css({right:"10px"}),c.shortIcon.hide(),c.longIcon.show()}),this.addEventListener("mouseleave",function(){c.css({right:"7px"}),c.longIcon.hide(),c.shortIcon.show()})):this._playerType!==a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC&&this._playerType!==a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC||(this.addEventListener("mouseenter",function(){c.css({right:"0.6%",top:"1%"}),c.shortIcon.hide(),c.longIcon.show()}),this.addEventListener("mouseleave",function(){c.css({right:"0.3%",top:"0.4%"}),c.longIcon.hide(),c.shortIcon.show()})))},d.prototype.buildShortLogo=function(){var a=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAMCAYAAAC9QufkAAAA2UlEQVQokZXSrU7DUByG8d+W1s6NBsNmkKgGBxKD4DKmlgkCV1HUUgMXAW6XQEgaEjwkMAULrnILH6I0qeiB8qh/Tt7nnPfknF6aFSe4wBixv9ngBWcR5hh1kGpi7GIeNcRXHHeQF9jGKGosru/P9x+gzJMD7OFyMF19Ns00K9b13A/sfqi6znOZJ0ehCiEZIuzgusyT2zJPtv4jN4nbslFLsOYDb5gMpqtFWyB08h1OMQ6J0Euz4utnfsfklyY1VxhS1V6q3nqImw5yzbKPGR5V364LGzxh9g3PlS9xIRBhyQAAAABJRU5ErkJggg==");return a.id="onead-short-logo",a.css({width:"15px",height:"12px",display:"block",margin:"0",padding:"0",border:"0","margin-bottom":"0"}),a},d.prototype.buildLongLogo=function(){var a=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAJCAYAAABHTLDrAAADkklEQVRIicWWT2gdVRTGfzfNIkEY8yp2KkhanyCuSnEyWMFFI68uJFVEEtS6USQufIVWO+RRFBeKJA6Iwog0GyNIFw0uLCpSg0+hi8J0QEVdiH3twoWv0jw7oqV/5LiYc9PrOGMKUv3gMvee8813zz1z77ljuI4QkaYxplc3Xg9BnBrgAaAJbKignAWOAr8D48DPWRT+VtIYATYDq8Al7ddhNYvC3DXkie8DtwDfeu3+5ZJvHBiq0DnvtfuD4X+Y6F9BRALgU2CjYz4pIruMMdk1yjwMvE+RvMslnwE84C3gBeA00AvidHcWhd85vB1AF9gPfKn9OuwH3rCDPPGHgI+Bu4B9wJsl/tfAjVVCeeK/MwQgIrMiMqv9hojMici0jpsiEqitJSJNtbdKvsAKq1arZgEtEZlzNcp9B+P63NMdndrYHZ2azKJwLIvCMWCL+m51+E3gRBCnUzVzWzwLNCra2yXeExSJPQa8lCd+o0LrXWDSafcBh4E9wyJySIUHItKg2G0rwKyz2Dm1NYEB0AGOABP6XASOiMiMcquCsGjB2s62JcLVq4MHdPPET4GnJi/wawXnKHAH8EEQpwezKFyo0bof2FRh/wQ4AZAn/ijwKkWi9gKngBeB50rvnPHa/c9dQ574W4DHh3SBTa4mz7YGYHfjijFmBlgGpnVX94Bp9VteS1tHWxWsr6VzruldQz2+SHHM4xr/aeBuiiTNB3H6HjBSwbsT2FnR3FNwALgJOOi1+6vAy0A7T/zb14lxDcPGmAUR6QHzFDsQwH7xHjBrycaYFRGBYncuqzmzfGNMZo/8Omg4eoOSXh2uAOeAx7x2/7MgZqyKlEVhHsTpgxrT81SXp/ksCpfqJsoTf7PGNAKcyRPfdb8GPLJOrBsA/lIWKJLbokg0VC94mSLh9kOc1EAaItJR+yH1DUrvDiiO/4CrH3BZ31/k77ikz92TFz7cqpxtQcw2YFR95YuOLAr/AA4EcfpNje7TQZzurLAfzqLwGPCKjrcD5x3/DLCQJ/69Xrt/XG2P5om/3eEYIAR+GjbGPGPrnzFmAOyyl5O91bUWo7aOiCwqFxGZQGuxHuusVE9dTKCXR+mPIbN6JXQpat2TGnQZ5yj+Jq4AXwA/uM4sCpeCOP2e4kj/CPyiPICtFXpenvg3A7cBHa/d/8p15on/OnAP8BBwHPgIuKGkIRTlbqlC/7+F/Qv5v+O4HvgTihV+fMZlcPsAAAAASUVORK5CYII=");return a.id="onead-long-logo",a.css({width:"87px",height:"9px",display:"none",margin:"0",padding:"0",border:"0","margin-bottom":"0"}),a},d}(b.BaseComponent);b.LogoButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(a){!function(a){var b=function(b){function c(){var c=b.call(this,"div")||this;return c.id="banner-title",c.css({"text-align":"center",width:"100%",height:"38px","z-index":"6999",position:"absolute",top:"0px",left:"0px","background-color":"black"}),c.bannerTitleImg=new a.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAAmCAYAAAAcNx+hAAAIuUlEQVR4nO1b3W8UyRH/VfWsjaKTYyKeLRPl2VkLkBDyx9pAOF2sxZcghIREyD3wePjeI5/hD+BQkED3kjMnESxkCWM2CO7ALGaPFyNj8RzpLP6AAL4DvLvT1fcwH56dmf2yZ5cj8k+yZ6a7urp6q7u6qj8IIVy6dGk3M/fCsgAAVpigGiyrNm2j/KwNiobqbrDeiqQ6tA3VqxRUI3TN8o2hXV9fXxkbG3sZR07ey5Wvv74FAIo5S+QkExG8d79A4DvuPfxshk+1snHvYb61+NUrU6+Oeu1ptG2EkDwU03aEyrqfdrn82cGDB7+JtAcArly58oWVSl2o19DNNqxZ5TVTX7Uym+1oYR6Nlq1bxtMEIZoXo9yg8jy6d2/f/h4Ajhw58qNHZwEAW9Z4sKBofV6MyUek80slZC43QZu0uWy47kZNZsJTj5VKTRBRlohgdXam3WRfgdxoPdv4dcJXvjdMjcjimTNnvnxvEm2jArlcbuW33d3/A4AUszcCb3r57P3zbLchyrddym1UxdjY2EsjZi3iALlwRmBg0m2XTV1aWuoHAMvqmLLt0tS+ffuetanqLaNQKIxYlpWxbTsPAAMDAw9bW6NZAWEoLidqQlsriQ92zQEzZZWyMktLS5lfoxIfP37yKQBYFp3WWl8cGBh4yGxliHiS2f/5WqxAgJgBE9WOBcS7w0lgeXn5UT0aYwyYuQtQc8vLy6u1aLXWE+1WslKYAAAiHgL0RSdVYAwBkLYJwUQwHLWPUQ82hmizcBpdG8btVUTcA6CnFq3W0p2MZI0hn8+PGKIhAChr+8WgayptESgiaGmPApU7wOI0sx1GfOCIzIEcY2c3CzFOD9VaL4rWU35dSqUtpS4AgGj9rdZ62stLdXQsiMhzANC2PeGlF4vF1eHhYT+AbQeY1UWjnTYQ0FMo/OD/OEYLGDQJAIXCD5PVeNh2eTSTyWx5jiRQrH/izIHMLXFijLjcjIFlpRbi8oj4lGXxqWA6gfoAIJXq8MswW+cBtC0+zefz50Dos7X9wk1aDWT3MnOPiMTlVaBcLr/aqiwEb4BVmQMrkhOcA70RKMZA7PL5QFYvK3UKAERkEf6yHUMpnvR+GGMw7RWwbcknJlgdPHjw4O9EPGnEoFwqjQPA4cOHfedpYSF/jmAmRZtpABgdzbS4Y3HFIwg/DmyFCfVGmWiDAwf2+40sFAojKXJGHYGGwOQ7O2IE2sgqABzYv7/tK0J3vv++n5X6lxiBrfVnQcX5MkJAxnm2DQRwjGpaGgcavzOY7kKhMBLISptgRwlXKqYbcBQdTNZat3QevHv37ggTZWzbXnPF6v3u/v1zYToRyZD7BIA4mjDW376dzmazm5OdHf1UnwODcWCCJtTWtvfaB6IFCvDWpkbvJfQBACm1UJmM1s6DzBkCJje2gFDVOTHGgMm3HHXDpY6OjjwCuwhNieXrp8ocGHRikjShXpcRkeci+h8A/2FzjORnAP8tFourSYkWh9L6+jQz51vB+/Xr1ytbKU8gcIwN3Y4DP3D4XmjSc+C9e/d2b3ih8sq27Z87Ojsv1CkWCxFazAwPDyckWlW4c5Rv5u7n8yM1yGviUAKxnweCu1NUy4lJGkqp3oAXugo4XqnW8gLYCA9cnFaKe7SW86H0XqX4lOh2LbFXIkW8UJ8KqLLTk9gC84aL0sa1UNu2wco5hCCiV/1vQg9inAMtGsQUSRcjMO1010N1i8ia+1kxh9XQTppZdSUtC1F8HBGJA2PH6SbAbGW8Eai1eQU4I1BE1owJ/RiENDN32VovhtK7mblP6/ekQBFokRUA+NOhQw2Z8O/u33+kGvBKm4N7wKmRODApr0YgaXIrLBu9AgDKiL86E4QxjnDhkSZiAIqmtwvGGKDZHQcRmKS351x2cbrx40B/BCZkQo1Ixmv62McfP8zlciPi8O5CTA8V54eqSCcibxQkIlOzEBFIkxZJNqP0OiCwu5hdLQ5M+EjF7du3PwXQVbbteS9tbGzs4bVr137X1d09TkTjijnr5YnI4p8/+WT4P3fuXGXeWNgWkRdizJzY9nQCYjWNYKe6e+9ew5qUFnQ4R0fbceD/HaJroUmYUKLTIgJb6zkAuJ3L3QKQZmZ/x91bb4Qxc+/evZsCgHKpNMdKvSKicQBg5h4m+pxTqc/nc7lFo/XU0aNHW37+xINIdS+0BtLOEZHkwOxMcXGqcUwokKgXKiK9IrI2ns1+AwBzt25llFI9tm0/N0Bei+T/Oj5+M1xu3Em7CeAsANy4cWP3jh07JkA0zsxD6wnsrTXZDoh2HLBsNtuQFzo/P/8IW/BCc7ncTgDYtWtXOhAkeEdJegHg6dOnI4CzuO9QJLiADQBHs9k/zs7O9nvfpWJxqlwuT5w8eTL2hk01HD9+/Ec4yjw7Ozvbf+zYsbYeaCqur48aY5rqNKVSaYKItnx2J5XquMjMfcE7Et4eqlLWKSJCuVz6CwHAv2dmHil2DiAZkW9PnDjxt60KsI2t4cmTpf4dO1SelbMoEL61JKL/mU6nz3Iw0dE2ZS5fvrzzPci8jQAOHNj3zBjjHGl010K9P63leTqdPuvkAZiZmbnqDU9n0dSswRhn0mYO7EfFXMEKfrimmOOue8XQebQe30j4W4UuyrPyyEFY3kq+tWkjsnpQyj/eFxt0cYgXPHlD0gavl7nlmTdoRWQKAPbu3fsQAJaXn121LMs9fmLWAOCnn173Dg4OvgxJsI0PEQQAV69f7/9NKrUMbO0CZDitkQuQjZaJk4Uqu3PNi5UVfAMXJ6OWInCxMs4CIOYCKtWuz3/3H1VoCBCtXwDAmzdv0oODgy8fP36886OPuvKWpfqKRXsUAPbuTfuhlM/h+vXr/QDAljVBRL0VQlczhzVMXKwZCpjjWFMY4w2HzXGjZjNCG7R2jcgaMJmVdUdPiHFEeaFSIbPpmcwo7UYtxsjcnj17vgKci0CpVGcmne77Kk7UbXzA+AWjsDmtMx2eKAAAAABJRU5ErkJggg=="),c.bannerTitleImg.id="banner-title-img",c.appendChild(c.bannerTitleImg),c}return __extends(c,b),c}(a.BaseComponent);a.BannerTitle=b}(a.component||(a.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){a.VPAID_EVENTS={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",quarterEvents:{Q0:"AdVideoStart",Q25:"AdVideoFirstQuartile",Q50:"AdVideoMidpoint",Q75:"AdVideoThirdQuartile",Q100:"AdVideoComplete"},AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError"}}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(){var a=b.call(this,"div")||this;return a.id="ONEAD-vpaid-container",a.vpaidState={is_ready:!1,is_started:!1,is_playing:!1,is_video_ended:!1},a}return __extends(c,b),c.prototype.initVPAID=function(a,b){var c=this,d=a.ONEAD_VPAID;this.layout=b.layout,this.player=b,this.vastEvent=d.constant.VAST_EVENT,this.vpaidClient=new d.Client(this._element,this.player.videoPlayer.videoTag._element,{}),this.vpaidClient.loadAdUnit(a.vpaidAdUrl,function(b,d){b?c.layout.close():(c.vpaidAdCreative=d,c.vpaidAdCreative.setCallbacksForAdUnit(c.createCallbacksForVPAID(),c),c.vpaidAdCreative.handshakeVersion("2.0",function(b,d){var e={AdParameters:a.vpaidAdParameters}||{},f=function(a){};c.vpaidAdCreative.initAd(c.player.isLandScape?950:640,c.player.isLandScape?390:360,"normal",-1,e,{videoSlotCanAutoPlay:!1},f)}))})},c.prototype.setInitState=function(){var b=this;this.vpaidAdCreative.setAdVolume(0),"inread"==this.player.playMode?(this.player.eventCenter.dataCenter.adWrapper.style.display="block",this.layout.scrollControl()):("incover"===this.player.playMode&&(this.player.show(),top.window.document.getElementById(a.ONEAD_CONST.ID.WRAPPER.FADE+this.player.isipIndex).style.display="block"),this.player.play(),this.layout.executeViewabilityCheck());var c=setInterval(function(){b.vpaidAdCreative.getAdSkippableState(function(a,d){d&&(b.player.controlWrapper.skipADButton.show(),b.player.canShowSkipButton=!0,clearInterval(c))})},1e3)},c.prototype.createCallbacksForVPAID=function(){var b=this;return{AdStarted:function(){b.vpaidState.is_started=!0,b.vpaidState.is_playing=!0,"inread"==b.player.playMode&&b.player.bannerTitle&&b.player.bannerTitle.hide()},AdStopped:function(){},AdSkipped:function(){b.player.vastTrackerCenter.skip(),b.layout.close()},AdLoaded:function(){b.vpaidState.is_ready=!0,b.setInitState()},AdLinearChange:function(){},AdSizeChange:function(){b.vpaidAdCreative.getAdWidth(function(a,b){}),b.vpaidAdCreative.getAdHeight(function(a,b){})},AdExpandedChange:function(){},AdSkippableStateChange:function(){b.vpaidAdCreative.getAdSkippableState(function(a,c){a?b.player.vastTrackerCenter.errorWithCode(901):(b.player.controlWrapper.skipADButton.show(),b.player.canShowSkipButton=!0)})},AdDurationChange:function(){b.vpaidAdCreative.getAdDuration(function(a,b){})},AdRemainingTimeChange:function(){b.vpaidAdCreative.getAdRemainingTime(function(a,c){a||b.player.vpaidCountDown(c)})},AdVolumeChange:function(a,c){
b.vpaidAdCreative.getAdVolume(function(a,c){0===c?b.player.mute():b.player.unMute()})},AdImpression:function(){b.player.vastTrackerCenter.impress(),b.player.vastTrackerCenter.creativeView(),b.player.eventCenter.dispatch(a.ONEAD_EVENT.events.IMPRESSION),b.player.controlWrapper.skipADButton.show(),b.player.canShowSkipButton=!0},AdClickThru:function(c){b.player.mute(),b.player.vastTrackerCenter.click(),b.player.eventCenter.dispatch(a.ONEAD_EVENT.events.VIDEO_CLICK),c.playerHandles&&a.Util.openUrl(c.url)},AdInteraction:function(a){},AdVideoStart:function(){b.player.vastTrackerCenter.track(b.vastEvent.START),b.player.eventCenter.dispatch(a.ONEAD_EVENT.quarterEvents.Q0)},AdVideoFirstQuartile:function(){b.player.vastTrackerCenter.track(b.vastEvent.Q1),b.player.eventCenter.dispatch(a.ONEAD_EVENT.quarterEvents.Q25)},AdVideoMidpoint:function(){b.player.vastTrackerCenter.track(b.vastEvent.Q2),b.player.eventCenter.dispatch(a.ONEAD_EVENT.quarterEvents.Q50)},AdVideoThirdQuartile:function(){b.player.vastTrackerCenter.track(b.vastEvent.Q3),b.player.eventCenter.dispatch(a.ONEAD_EVENT.quarterEvents.Q75)},AdVideoComplete:function(){b.player.vastTrackerCenter.track(b.vastEvent.COMPLETE),b.player.eventCenter.dispatch(a.ONEAD_EVENT.quarterEvents.Q100),b.vpaidState.is_video_ended=!0,setTimeout(function(){b.layout.close()},500)},AdUserAcceptInvitation:function(){},AdUserMinimize:function(){},AdUserClose:function(){b.player.vastTrackerCenter.close(),b.layout.close()},AdPaused:function(){b.vpaidState.is_playing=!1},AdPlaying:function(){b.vpaidState.is_playing=!0},AdError:function(a){b.vpaidState.is_ready?b.player.vastTrackerCenter.errorWithCode(901):b.player.eventCenter.dataCenter.returnControlToPublish(),b.layout.close()},AdLog:function(a){}}},c}(b.BaseComponent);b.VPAIDWrapper=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(){var d=c.call(this,"div")||this;return d.id=a.ONEAD_CONST.ID.BUTTON.CLOSE,d.css({position:"absolute","z-index":"20000",right:"0px",top:"0px",cursor:"pointer"}),d.img=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAGLApi2AAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVRYw+1WwQ3CMAy8oA4UpuHbURiBEToCm9ABeDACXz4cD1owbhqTJkhBaqSoSmyfz47j1JGEHhu19gDQiA0CcFrTDYKJuQMApx1tYl4/cCbe3As5xN6KhiKql3WjlLZCmOZuESdTqVey95rkOD2fA+ILkh9KWnFWiSHFYBWIfLmyKfgKKTWXPwGirCZ1d4KyZi5kVZpbACddiSk58gJgFiTGyAcY+ND9CNWknP3M/liSE3l9x/8/BVkXUAvgELHpx2fGqqPL0JG6gOw6yPZWa9MGnbFnAmnDKIgFJMGiICTLndrPQyuS7GLH35I8RELuh55UeT+qD6hYjqqLbCVUGyGK2SXgewBXYXvMaY76L0a2bqt9p+p//X6kOlpMZCmhmONbDpFcQuPckbwrIucczL/PUDU1VN0tWxqxJna0bNbHdSWUOx56gkZVLiReKAAAAABJRU5ErkJggg=="),d.img.id=a.ONEAD_CONST.ID.IMG.CLOSE,d.img.css({width:"26px",height:"25px",margin:"0",padding:"0",border:"0","margin-bottom":"0",display:"initial"}),d.addMouseEnterEffect(),d.appendChild(d.img),d}return __extends(d,c),d.prototype.setFollowCenterStyle=function(){this.img.css({height:""})},d.prototype.setFollowStyle=function(){this.img.css({height:"25px"})},d.prototype.bindClickEvent=function(a){this.addEventListener("click",function(){a.fadeWrapper.hide(),a.setNormalStyle(),a.player.mute(),a.isCloseFollow=!0,a.isExpand=!1,a.isMinimize=!1,a.player.playerState.isEnded||a.scrollControl()})},d}(b.BaseComponent);b.CloseButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"div")||this;return e.id=a.ONEAD_CONST.ID.BUTTON.SCALE,e.css({width:"26px",height:"26px",position:"absolute","z-index":"20000",left:"0px",bottom:"-3px",cursor:"pointer"}),e.img=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAAHeTXxYAAAACXBIWXMAAAsSAAALEgHS3X78AAAA00lEQVRIx+2V0Q2EIBBEZ4wFXAmWQAnYyZVynUEJlmAJdDD3g2ajQPy4j9PwEj9YZzcLTBaghDIAMObYjOci6SNDU8wtA0DMsUCSt9pu7drtejj8Xyv14ul4TMUJwAQAJKMkvwvJiE77njbCYe2tbjxZ1LiRJI8JP2svFGJOkmvZyEvymyi35gG8Wkml8bPkr/N42DDhPmEMieRi/HWyDslUqjc0mngDCBcbdlnraoKxkbwCiLX5aOOSUh7A6f+f14taX5pxV4+u9JBFknPpgevcny8IFI4nXNqHlwAAAABJRU5ErkJggg=="),e.img.id=a.ONEAD_CONST.ID.IMG.SCALE,a.Util.setBaseStyles(e.img.element),e.appendChild(e.img),e.addMouseEnterEffect(),e.eventCenter=d,e}return __extends(d,c),d.prototype.setFollowCenterStyle=function(){this.img.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAGLApi2AAAACXBIWXMAAAsSAAALEgHS3X78AAABK0lEQVRYw+1X2w3CMAy8VB2AERiBEcImjMAGhE3YhI7ACN3E/DSV5YbEaQNKUC1Zah627xzHbQ0RQUrHngmABYCeTZr8nUYG6mJRlRMmhD5mZSf1VlePmXsigd+PTZBYkmgKk3qTC+BbsDsG2Oow9eIsJX0AMJ2gfBdjUzYFKk9rcvk1R05kbL4VGmohria11keMkLNWjFqxZNd3/O0VZH2OiPWy4UNll0Ukr8gJwCFhwyt7nBQgIq4DLcUp1hqoI38yXJ1ibZFsm9HkKq/s/fb/MEfVMftbQP0GW8tu+DCplwv7Hn3MLVQjos3mqAu120BLtjl+m6uhUIf2elPGeEZ8uNwaeimDjoXs2utDsSOLpX6tXXtFbdlPptS7MsY54qP+DO0v1x3QVnkDz/wyTM0ViR4AAAAASUVORK5CYII=",this.img.css({height:"25px"}),this.eventCenter.dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IR?this.css({top:"337px",right:"1px",bottom:"",left:""}):this.css({bottom:"2px",left:"12px"}),this.show()},d.prototype.setFollowStyle=function(){this.img.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAAHeTXxYAAAACXBIWXMAAAsSAAALEgHS3X78AAAA00lEQVRIx+2V0Q2EIBBEZ4wFXAmWQAnYyZVynUEJlmAJdDD3g2ajQPy4j9PwEj9YZzcLTBaghDIAMObYjOci6SNDU8wtA0DMsUCSt9pu7drtejj8Xyv14ul4TMUJwAQAJKMkvwvJiE77njbCYe2tbjxZ1LiRJI8JP2svFGJOkmvZyEvymyi35gG8Wkml8bPkr/N42DDhPmEMieRi/HWyDslUqjc0mngDCBcbdlnraoKxkbwCiLX5aOOSUh7A6f+f14taX5pxV4+u9JBFknPpgevcny8IFI4nXNqHlwAAAABJRU5ErkJggg==",this.img.css({height:""}),this.css({bottom:"-3px",left:""})},d.prototype.bindClickEvent=function(b){var c=this;this.addEventListener("click",function(){!1===b.isExpand?(b.isExpand=!0,a.Util.apply_css(b.element,{width:b.followSize.normal_width+"px",height:b.followSize.normal_height+"px",position:"fixed",top:"50%",bottom:"",left:"50%","margin-left":"-"+b.followSize.normal_width/2+"px","margin-top":"-"+b.followSize.normal_height/2+"px","z-index":"2147483647",transform:"scale(1)",transition:"all 0.3s","-webkit-clip-path":"polygon(0% 0%, 0% "+b.followSize.normal_height+"px,"+b.followSize.normal_width+"px "+b.followSize.normal_height+"px,"+b.followSize.normal_width+"px 0%)"}),b.element.style.setProperty("width",b.followSize.normal_width+"px","important"),b.element.style.setProperty("height",b.followSize.normal_height+"px","important"),b.fadeWrapper.show(),b.player.setFollowCenterStyle(),c.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_EXPAND)):(b.isExpand=!1,a.Util.apply_css(b.element,{width:b.followSize.follow_width+"px",height:b.followSize.follow_height+"px",position:"fixed",top:"",bottom:"0",left:"0","margin-left":"","margin-top":"","z-index":"2147483647","-webkit-clip-path":"polygon(0% 0%, 0% "+b.followSize.follow_height+"px,"+b.followSize.follow_width+"px "+b.followSize.follow_height+"px,"+b.followSize.follow_width+"px 0%)"}),b.element.style.setProperty("width",b.followSize.follow_width+"px","important"),b.element.style.setProperty("height",b.followSize.follow_height+"px","important"),b.fadeWrapper.hide(),b.player.isOnlyBanner?b.player.setOnlyBannerFollowStyle():b.player.setFollowStyle(),b.scrollControl(),c.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MINIMIZE))})},d}(b.BaseComponent);b.ScaleButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(c){var e=b.call(this,"div")||this;return e.mouseEnterHandler=e.mouseEnter.bind(e),e.mouseLeaveHandler=e.mouseLeave.bind(e),e.id=a.ONEAD_CONST.ID.DESKTOP.FOLLOW_CONTROL,e.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"}),e.followControlWrapperBackground=new d(c),c.eventCenter.diRegister(a.ONEAD_CONST.COMPONENT_TYPE.FOLLOW_CONTROL_WRAPPER,e),e.appendChild(e.followControlWrapperBackground),e}return __extends(c,b),c.prototype.mouseEnter=function(){this.followControlWrapperBackground.css({opacity:"1",visibility:"visible"})},c.prototype.mouseLeave=function(){this.followControlWrapperBackground.css({opacity:"0",visibility:"visible"})},c.prototype.addMouseEventsHandler=function(a){a.addEventListener("mouseenter",this.mouseEnterHandler),a.addEventListener("mouseleave",this.mouseLeaveHandler)},c.prototype.removeMouseEventsHandler=function(a){a.removeEventListener("mouseenter",this.mouseEnterHandler),a.removeEventListener("mouseleave",this.mouseLeaveHandler)},c.prototype.setFollowCenterStyle=function(){this.followControlWrapperBackground.volumeButton.setFollowCenterStyle(),this.followControlWrapperBackground.closeButton.setFollowCenterStyle(),this.followControlWrapperBackground.scaleButton.setFollowCenterStyle(),this.followControlWrapperBackground.adCountDown.setFollowStyle("HTML5_IS_FOLLOW_CENTER"),this.followControlWrapperBackground.followControlWrapperTitle.setFollowCenterStyle()},c.prototype.setFollowStyle=function(){this.followControlWrapperBackground.volumeButton.setFollowStyle(),this.followControlWrapperBackground.closeButton.setFollowStyle(),this.followControlWrapperBackground.scaleButton.setFollowStyle(),this.followControlWrapperBackground.logoButton.setCss("HTML5_IS_FOLLOW"),this.followControlWrapperBackground.adCountDown.setFollowStyle("HTML5_IS_FOLLOW"),this.followControlWrapperBackground.followControlWrapperTitle.setFollowStyle()},c}(b.BaseComponent);b.FollowControlWrapper=c;var d=function(c){function d(b){var d=c.call(this,"div")||this;return d.eventCenter=b.eventCenter,d.id=a.ONEAD_CONST.ID.DESKTOP.FOLLOW_CONTROL_BACKGROUND,d.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","user-select":"none",opacity:"0",visibility:"hidden",transition:"all 0.3s",background:"linear-gradient(to bottom,rgba(0, 0, 0, 0.3) 0%,transparent 15%,transparent 85% ,rgba(0, 0, 0, 0.3) 100%)"}),d.buildControlElements(b),d}return __extends(d,c),d.prototype.buildControlElements=function(a){this.closeButton=new b.CloseButton,this.logoButton=new b.LogoButton(a,"HTML5_IS_FOLLOW"),this.scaleButton=new b.ScaleButton(this.eventCenter),this.adCountDown=new b.AdCountDown(!0,this.eventCenter.dataCenter,!0),this.volumeButton=new b.VolumeButton(this.eventCenter,"NEW_STYLE"),this.followControlWrapperTitle=new e,this.dragDiv=new f,this.eventCenter.dataCenter.identity&&this.appendChild(this.logoButton),this.appendChild(this.closeButton),this.appendChild(this.scaleButton),this.appendChild(this.adCountDown),this.appendChild(this.volumeButton),this.appendChild(this.followControlWrapperTitle),this.appendChild(this.dragDiv),this.adCountDown.setFollowStyle("HTML5_IS_FOLLOW")},d}(b.BaseComponent),e=function(a){function b(){var b=a.call(this,"p")||this;return b.css({"font-size":"12px",position:"absolute",top:"4px",left:"6px",margin:"0",color:"white","z-index":"20000"}),b}return __extends(b,a),b.prototype.setFollowCenterStyle=function(){this.css({"font-size":"16px",left:"10px"})},b.prototype.setFollowStyle=function(){this.css({"font-size":"12px",left:"6px"})},b}(b.BaseComponent),f=function(b){function c(){var a=b.call(this,"div")||this;return a.isDrag=!1,a.id="drag-div",a.css({position:"absolute",top:"0",left:"0",width:"calc(100% - 100px)",height:"15%",cursor:"move","z-index":"20000"}),a}return __extends(c,b),c.prototype.draggableAPI=function(b){var c=this;!function(d){var e=0,f=0,g=0,h=0,i=function(a){a=a||window.event,e=a.clientX,f=a.clientY,document.onmouseup=k,document.onmousemove=j},j=function(d){c.isDrag=!0,d=d||window.event,g=d.clientX,h=d.clientY,c.posY=h-f+b.playerIframe.offsetTop,c.posX=g-e+b.playerIframe.offsetLeft,a.Util.apply_css(b.playerIframe,{top:c.posY+"px",left:c.posX+"px",transition:""})},k=function(){document.onmouseup=null,document.onmousemove=null};d.onmousedown=i}(this._element)},c.prototype.removeDraggableAPI=function(){this._element.onmousedown=null},c}(b.BaseComponent)}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"div")||this;return e._hasToSyncWithMaterialWhenSkip=!1,e._eventCenter=d,e.id=a.ONEAD_CONST.ID.BUTTON.SKIP_AD,e.css({position:"absolute","z-index":"20000",left:"0px",top:"0px",cursor:"pointer",display:"none"}),e.img=new b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAGLApi2AAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVRYw+1WwQ3CMAy8oA4UpuHbURiBEToCm9ABeDACXz4cD1owbhqTJkhBaqSoSmyfz47j1JGEHhu19gDQiA0CcFrTDYKJuQMApx1tYl4/cCbe3As5xN6KhiKql3WjlLZCmOZuESdTqVey95rkOD2fA+ILkh9KWnFWiSHFYBWIfLmyKfgKKTWXPwGirCZ1d4KyZi5kVZpbACddiSk58gJgFiTGyAcY+ND9CNWknP3M/liSE3l9x/8/BVkXUAvgELHpx2fGqqPL0JG6gOw6yPZWa9MGnbFnAmnDKIgFJMGiICTLndrPQyuS7GLH35I8RELuh55UeT+qD6hYjqqLbCVUGyGK2SXgewBXYXvMaY76L0a2bqt9p+p//X6kOlpMZCmhmONbDpFcQuPckbwrIucczL/PUDU1VN0tWxqxJna0bNbHdSWUOx56gkZVLiReKAAAAABJRU5ErkJggg=="),e.img.id=a.ONEAD_CONST.ID.IMG.SKIP_AD,a.Util.setBaseStyles(e.img.element),e.addMouseEnterEffect(),e.appendChild(e.img),e._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.NEED_SYNC_BEFORE_CLOSE,function(){e._hasToSyncWithMaterialWhenSkip=!0}),e}return __extends(d,c),d.prototype.bindClickEvent=function(b){var c=this;this.addEventListener("click",function(){c._hasToSyncWithMaterialWhenSkip?(c._eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.MATERIAL_TRACKING_EVENTS_SENT,function(){c.skip(b)}),c._eventCenter.dispatch(a.ONEAD_EVENT.events.UI_SKIP)):(c._eventCenter.subscribe(a.ONEAD_EVENT.events.UI_SKIP,function(){c.skip(b)},-1),c._eventCenter.dispatch(a.ONEAD_EVENT.events.UI_SKIP))})},d.prototype.skip=function(a){a.player.is_vast&&!a.player.hasVPAIDAd&&(a.player.vastResult.hasPlayableAd?a.player.vastTrackerCenter.skip():a.bannerWrapper.vastBannerParam.skip()),a.player.hasVPAIDAd&&a.player.vpaidWrapper.vpaidAdCreative.skipAd(),a.close()},d.prototype.bindFollowCenterClickEvent=function(a){this.addEventListener("click",function(){a.fadeWrapper.hide(),a.setNormalStyle(),a.player.mute(),a.isCloseFollow=!0,a.isExpand=!1,a.player.playerState.isEnded||a.scrollControl()})},d}(b.BaseComponent);b.NewSkipADButton=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c;!function(a){a[a.hight=5]="hight",a[a.low=66]="low"}(c||(c={}));var d=function(d){function e(c,e){var f=d.call(this,"div")||this;return f.currentMove=!1,f.sliderPos={posStartY:0,posMoveY:0,newPosY:0,offsetTop:0,sliderBallPos:53},f.hasTouch=!1,f.FOLLOW_TYPE_CONST={isFOLLOW:!1,DF:"HTML5_IS_FOLLOW_DF",INSYNC:"HTML5_IS_FOLLOW_INSYNC"},f.currentVolume=.2,f.mediaDefaultVolume=0,f.playerState={isReady:!1,isStarted:!1,isPlaying:!1,isEnded:!1},f.vastFirstStop=!1,f.isFirstOpenPlay=!0,f.play_time=1,f.canShowSkipButton=!1,f.isMouseover=!1,f.materialCallIdentityHide=!1,f.materialCallSkipAdHide=!1,f.materialCallCountDownTextHide=!1,f.triggerTimingForMaterial=[],f.disablePlayerControl=!1,f.isNormalStyle=!0,f.isLandScape=!1,f.materialSetting={videoTagWidth:640,videoTagHeight:360,videoTagX:0,videoTagY:0,videoPosterWidth:640,videoPosterHeight:360,videoPosterX:0,videoPosterY:0,identityWidth:640,identityHeight:360,identityX:0,identityY:0,identityWscale:1,identityHscale:1},f.isJsSource=!1,f.hasAddTimeUpdateListener=!1,f.id="onead-desktop-wrapper",f.css({width:"100%",height:"100%",margin:"0 auto"}),f.layout=c,f.eventCenter=e,f.dataCenter=f.eventCenter.dataCenter,f.playerParams=f.dataCenter.params,f.playerType=f.dataCenter.playerType,f.is_vast=f.dataCenter.isVast,f.hasVPAIDAd=f.dataCenter.hasVPAIDAd,f.isOnlyBanner=f.dataCenter.isOnlyBanner,f.isInRead=f.dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IR,f.playerParams.settings&&"html"===f.playerParams.settings.video.video_type&&(f.isJsSource=!0,f.disablePlayerControl=!0),f.appendChild(f.buildVideoPlayerWrapper()),f.appendChild(f.buildClickArea()),f.appendChild(f.buildVideoEndWrapper()),f.appendChild(f.buildVideoPoster()),f.appendChild(f.buildControlWrapper()),f.appendChild(f.buildLogoButton()),f.appendChild(f.buildBottomScraper()),f.appendChild(f.buildBannerWrapper()),f.normalVolumeButton=f.controlWrapper.volumeButton,f.playerType.indexOf("FOLLOW")>-1&&(f.FOLLOW_TYPE_CONST.isFOLLOW=!0,f.followControlWrapper=new b.FollowControlWrapper(f),f.followVolumeButton=f.followControlWrapper.followControlWrapperBackground.volumeButton,f.appendChild(f.followControlWrapper._element)),f.is_vast&&(f.vastResult=f.dataCenter.vastResult,f.setVast()),f.isOnlyBanner&&(f.materialCallIdentityHide=!0,f.setOnlyBannerStyle()),f.isLandScape=f.dataCenter.isLandscape,f.isLandScape&&f.setLandScapeStyle(),(!f.dataCenter.hasVPAIDAd&&!f.dataCenter.hasVideo||f.isJsSource)&&(f.isJsSource&&f.dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IC?setTimeout(function(){f.controlWrapper.skipADButton.show(),f.allowShowSkipButton()},2e3):(f.controlWrapper.skipADButton.show(),f.allowShowSkipButton())),f.bindEventListener(),f}return __extends(e,d),e.prototype.setVast=function(){this.vastResult.hasPlayableAd?this.vastTrackerCenter=this.vastResult.vastTrackerCenter:(this.disablePlayerControl=!0,this.volumeButtonHide()),this.logoButton.hide(),this.hasVPAIDAd&&(this.clickArea.hide(),this.createVPAID())},e.prototype.play=function(){this.disablePlayerControl||(this.hasVPAIDAd?this.vpaidWrapper.vpaidState.is_ready&&!this.vpaidWrapper.vpaidState.is_playing&&(this.vpaidWrapper.vpaidState.is_started?(this.vpaidWrapper.vpaidAdCreative.resumeAd(),this.vpaidWrapper.vpaidState.is_playing=!0,this.vastTrackerCenter.setPaused(!1)):(this.vpaidWrapper.vpaidAdCreative.startAd(),this.vpaidWrapper.vpaidState.is_started=!0,this.vpaidWrapper.vpaidState.is_playing=!0)):this.isPlaying()||(this.videoPlayer.play(),this.is_vast&&this.vastTrackerCenter.setPaused(!1)))},e.prototype.pause=function(){this.disablePlayerControl||(this.hasVPAIDAd?this.vpaidWrapper.vpaidState.is_ready&&this.vpaidWrapper.vpaidState.is_playing&&(this.vpaidWrapper.vpaidAdCreative.pauseAd(),this.vpaidWrapper.vpaidState.is_playing=!1,this.vastFirstStop=!0,this.vastTrackerCenter.setPaused(!0)):this.isPlaying()&&(this.videoPlayer.pause(),this.is_vast&&(this.vastTrackerCenter.setPaused(!0),this.vastFirstStop=!0)))},e.prototype.isPlaying=function(){return this.hasVPAIDAd?this.vpaidWrapper.vpaidState.is_playing:this.videoPlayer.isPlaying()},e.prototype.isReady=function(){return this.videoPlayer.isReady()},e.prototype.autoPlay=function(a){this.disablePlayerControl||this.videoPlayer.autoPlay(a)},e.prototype.setVolume=function(a){a>0?this.videoPlayer.videoTag.unMute():this.videoPlayer.videoTag.mute(),this.hasVPAIDAd&&this.vpaidWrapper.vpaidAdCreative?this.vpaidWrapper.vpaidAdCreative.setAdVolume(a):this.videoPlayer.videoTag.volume(a)},e.prototype.mute=function(){var b=this;this.disablePlayerControl||(!this.normalVolumeButton.isMuted||this.isInRead&&!this.newControlWrapper.newControlWrapperDiv.sliderDiv.isMuted)&&(this.is_vast&&this.vastTrackerCenter.setMuted(!0),this.volumeButtonMute(),this.videoPlayer.mute(),this.newControlWrapper?this.newControlWrapper.newControlWrapperDiv.mute():this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MUTE),this.hasVPAIDAd&&this.vpaidWrapper.vpaidAdCreative?this.vpaidWrapper.vpaidAdCreative.getAdVolume(function(a,c){a?(b.currentVolume=.2,b.vpaidWrapper.vpaidAdCreative.setAdVolume(0)):b.vpaidWrapper.vpaidAdCreative.setAdVolume(0)}):this.videoPlayer.volume(0),this.controlWrapper.volumeSliderButton.volumeSliderBackground.volumeSliderBall.top(66))},e.prototype.unMute=function(){this.disablePlayerControl||(this.normalVolumeButton.isMuted||this.isInRead&&this.newControlWrapper.newControlWrapperDiv.sliderDiv.isMuted)&&(this.is_vast&&this.vastTrackerCenter.setMuted(!1),this.currentVolume=0===this.currentVolume?.2:this.currentVolume,this.sliderPos.sliderBallPos=66===this.sliderPos.sliderBallPos?53:this.sliderPos.sliderBallPos,this.volumeButtonUnMute(),this.videoPlayer.unMute(),this.newControlWrapper&&this.newControlWrapper.newControlWrapperDiv.unMute(),this.hasVPAIDAd&&this.vpaidWrapper.vpaidAdCreative?this.vpaidWrapper.vpaidAdCreative.setAdVolume(this.currentVolume):this.videoPlayer.volume(this.currentVolume),this.controlWrapper.volumeSliderButton.volumeSliderBackground.volumeSliderBall.top(this.sliderPos.sliderBallPos))},e.prototype.sendImp=function(b){b&&(this.is_vast&&(this.hasVPAIDAd||(this.vastResult.hasPlayableAd?(this.vastTrackerCenter.impress(),this.vastTrackerCenter.creativeView(),this.vastTrackerCenter.speedStart(),this.vastResult.hasCompanionAds&&void 0!==this.bannerWrapper.vastBannerParam&&this.bannerWrapper.vastBannerParam.creativeView()):void 0!==this.bannerWrapper.vastBannerParam&&(this.bannerWrapper.vastBannerParam.impress(),this.bannerWrapper.vastBannerParam.creativeView()))),this.hasVPAIDAd||this.eventCenter.dispatch(a.ONEAD_EVENT.events.IMPRESSION),this.isFirstOpenPlay=!1)},e.prototype.buildVideoPlayerWrapper=function(){return this.videoPlayer=new b.VideoPlayer(this.eventCenter),this.videoPlayer._element},e.prototype.buildClickArea=function(){this.clickArea=new b.ClickArea(this.eventCenter);var a=this.dataCenter.getBannerDataByIndex(0);return this._clickUrl=this.dataCenter.videoSource.click_link||a&&a.linkUrl||a&&a.linkUrls[0],this.clickArea.setupVideoClick(this._clickUrl),this.clickArea._element},e.prototype.buildVideoEndWrapper=function(){return this.videoEndWrapper=new b.VideoEndWrapper(this._clickUrl,this.eventCenter),this.videoEndWrapper._element},e.prototype.buildVideoPoster=function(){return this.videoPoster=new b.VideoPoster(this.dataCenter),this.videoPoster._element},e.prototype.buildControlWrapper=function(){return this.controlWrapper=new b.ControlWrapper(this.eventCenter),this.controlWrapper._element},e.prototype.buildLogoButton=function(){return this.logoButton=new b.LogoButton(this),this.logoButton._element},e.prototype.buildBottomScraper=function(){return this.bottomScraper=new b.BottomScraper,this.isJsSource?this.bottomScraper.hide():this.bottomScraper.show(),this.bottomScraper._element},e.prototype.buildBannerWrapper=function(){return this.bannerWrapper=new b.BannerWrapper(this,this.eventCenter),this.bannerWrapper._element},e.prototype.buildVPAIDWrapper=function(){return this.vpaidWrapper=new b.VPAIDWrapper,this.vpaidWrapper._element},e.prototype.createVPAID=function(){this.appendChild(this.buildVPAIDWrapper()),this.vpaidWrapper.initVPAID(this.playerParams.vpaidSettingISIP,this)},e.prototype.bindEventListener=function(){var b=this;this.clickArea.addEventListener("click",function(){b.clickArea.bindVideoClickEvent(b)}),this.videoEndWrapper.replayButton.addEventListener("click",function(){b.videoEndWrapper.replayButton.click(b)}),this.videoEndWrapper.moreButton.addEventListener("click",function(){b.videoEndWrapper.moreButton.click(b)}),this.bindVolumeButtonClickEvent(),this.controlWrapper.volumeSliderButton.volumeSliderBackground.addEventListener("mousedown",function(d){var e=b.normalVolumeButton.isMuted;d.preventDefault();var f=b.eventCenter.diGet(a.ONEAD_CONST.DESKTOP_COMPONENT.SLIDER_BALL);b.sliderPos.posStartY=d.target.id.indexOf("ball")>-1?d.offsetY+f.sliderImg.element.offsetTop-5:d.offsetY-5,b.sliderPos.posStartY>=c.low?(b.sliderPos.sliderBallPos=c.low,b.normalVolumeButton.isMuted=!0):b.sliderPos.posStartY<=c.hight?(b.sliderPos.sliderBallPos=c.hight,b.normalVolumeButton.isMuted=!1):(b.sliderPos.sliderBallPos=b.sliderPos.posStartY,b.normalVolumeButton.isMuted=!1),b.FOLLOW_TYPE_CONST.isFOLLOW&&(b.followVolumeButton.isMuted=b.normalVolumeButton.isMuted,b.followVolumeButton.changeToMuteImg()),b.normalVolumeButton.changeToMuteImg(),b.normalVolumeButton.isMuted!==e&&b.normalVolumeButton.sendVolumeEvent(),b.currentVolume=1-b.sliderPos.sliderBallPos/c.low,f.top(b.sliderPos.sliderBallPos),b.setVolume(b.currentVolume),b.hasTouch=!0}),this.controlWrapper.volumeSliderButton.volumeSliderBackground.addEventListener("mousemove",function(d){var e=b.eventCenter.diGet(a.ONEAD_CONST.DESKTOP_COMPONENT.SLIDER_BALL);if(b.sliderPos.posMoveY=d.target.id.indexOf("ball")>-1?d.offsetY+e.sliderImg.element.offsetTop-5:d.offsetY-5,b.sliderPos.newPosY=b.sliderPos.posMoveY-b.sliderPos.posStartY,b.hasTouch){b.currentMove||(b.sliderPos.offsetTop=e.sliderImg.element.offsetTop,b.currentMove=!0);var f=b.sliderPos.offsetTop+b.sliderPos.newPosY;f<=c.low&&f>=c.hight&&(f>=c.low?(f=c.low,b.currentVolume=0,b.normalVolumeButton.isMuted||(b.mute(),b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MUTE))):f<=c.hight?(f=c.hight,b.currentVolume=1,b.normalVolumeButton.isMuted&&(b.unMute(),b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE))):(b.currentVolume=1-f/c.low,b.normalVolumeButton.isMuted&&(b.unMute(),b.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE))),b.sliderPos.sliderBallPos=f,b.setVolume(b.currentVolume),e.top(b.sliderPos.sliderBallPos))}}),this.controlWrapper.volumeSliderButton.volumeSliderBackground.addEventListener("mouseup",function(a){b.hasTouch=!1,b.currentMove=!1}),this.controlWrapper.volumeSliderButton.volumeSliderBackground.addEventListener("mouseleave",function(a){b.hasTouch=!1,b.currentMove=!1}),this.videoPlayer.videoTag.addEventListener("play",function(){b.hasAddTimeUpdateListener||b.timeUpdateFunction()}),0!==this.playerParams.settings.pass_by_second||this.hasVPAIDAd||this.materialCallSkipAdHide||this.dataCenter.playMode===a.ONEAD_CONST.PLAY_MODE.IC&&this.isJsSource||(this.controlWrapper.skipADButton.show(),this.allowShowSkipButton()),this.addMaterialListener()},e.prototype.timeUpdateFunction=function(){var b=this;this.hasAddTimeUpdateListener=!0;var c=0;this.videoPlayer.videoTag.addEventListener("timeupdate",function(){b.hasVPAIDAd||(b.isInRead&&b.bannerTitle&&b.bannerTitle.hide(),c=b.videoPlayer.videoTag.currentTime(),b.materialCallCountDownTextHide||(b.controlWrapper.adCountDown.countDown(b.playerParams.settings.hold_on_second,b.playerParams.settings.ad_total_time-c,b.playerState.isEnded),b.newControlWrapper&&b.newControlWrapper.newControlWrapperDiv.adCountDown.countDown(b.playerParams.settings.hold_on_second,b.playerParams.settings.ad_total_time-c,b.playerState.isEnded),b.FOLLOW_TYPE_CONST.isFOLLOW&&b.followControlWrapper.followControlWrapperBackground.adCountDown.countDown(b.playerParams.settings.hold_on_second,b.playerParams.settings.ad_total_time-c,b.playerState.isEnded)),c==b.playerParams.settings.pass_by_second&&(b.materialCallSkipAdHide||b.hasVPAIDAd||(b.controlWrapper.skipADButton.show(),b.allowShowSkipButton())),b.isFirstOpenPlay||b.eventCenter.dispatch(a.ONEAD_EVENT.playerEvents.TIMEUPDATE,b.videoPlayer.videoTag._element.currentTime)),b.triggerTimingForMaterial.length>0&&c>=b.triggerTimingForMaterial[0].time&&(b.triggerTimingForMaterial[0].callback(),b.triggerTimingForMaterial.shift())})},e.prototype.vpaidCountDown=function(a){this.controlWrapper.adCountDown.vpaidCountDown(a),this.newControlWrapper&&this.newControlWrapper.newControlWrapperDiv.adCountDown.vpaidCountDown(a)},e.prototype.userClickLink=function(b){if(a.Util.checkUrlIsAvaliable(b))if(this.mute(),this.is_vast){var c=this.vastTrackerCenter.click();c&&a.Util.openUrl(c)}else a.Util.openUrl(b,this.dataCenter.isUseAssign,this.dataCenter.isUseParent)},e.prototype.setVideoTrigger=function(a){this.triggerTimingForMaterial.push(a),this.triggerTimingForMaterial.sort(function(a,b){return a.time-b.time})},e.prototype.sendLayoutExposurePercentage=function(a,b,c){this._materialHandler.sendLayoutExposurePercentage(a,b,c)},e.prototype.addMaterialListener=function(){var b=this;this._materialHandler=new a.MaterialHandler,this._materialHandler.initData(this.dataCenter.isipIndex,this.eventCenter),this._materialHandler.setupReaction(function(c){var d=c.action,e=c.param;switch(d){case"setVideoPositionXY":b.materialSetting.videoTagX=e.x,b.materialSetting.videoTagY=e.y,b.materialSetting.videoPosterX=e.x,b.materialSetting.videoPosterY=e.y,b.videoPlayer.videoTag.css({left:e.x,top:e.y}),b.videoPoster.css({left:e.x,top:e.y});break;case"setVideoWidthHeight":b.materialSetting.videoTagWidth=e.width,b.materialSetting.videoTagHeight=e.height,b.materialSetting.videoPosterWidth=e.width,b.materialSetting.videoPosterHeight=e.height,b.videoPlayer.videoTag.css({width:e.width,height:e.height}),b.videoPoster.css({width:e.width,height:e.height});break;case"setIdentityPositionXY":b.materialSetting.identityX=e.x,b.materialSetting.identityY=e.y,b.videoEndWrapper.css({left:e.x,top:e.y});break;case"setIdentityWidthHeight":if(e.width>640)b.materialSetting.identityWidth=e.width,b.materialSetting.identityHeight=e.height,b.videoEndWrapper.css({width:e.width,height:e.height});else{var f=e.width/640,g=e.height/360;b.materialSetting.identityWscale=f,b.materialSetting.identityHscale=g,b.videoEndWrapper.css({transform:"scale("+f+","+g+")","transform-orign":"0 0"})}break;case a.ONEAD_EVENT.materialEvent.CALL_VIDEO_PLAY:b.videoPlayer.play();break;case a.ONEAD_EVENT.materialEvent.CALL_VIDEO_PAUSE:b.videoPlayer.pause();break;case a.ONEAD_EVENT.materialEvent.CALL_IDENTITY_HIDE:b.materialCallIdentityHide=!0;break;case a.ONEAD_EVENT.materialEvent.SEND_CLICK_LANDING_PAGE:var h=-1;e.cid&&(h=e.cid),-1===h?(b.eventCenter.dispatch(a.ONEAD_EVENT.events.VIDEO_CLICK),a.Util.openUrl(e.url,b.dataCenter.isUseAssign,b.dataCenter.isUseParent)):b.eventCenter.dispatch(a.ONEAD_EVENT.events.BANNER_CLICK,e);break;case"removeClickArea":b.clickArea.hide();break;case"removeSkipButton":b.materialCallSkipAdHide=!0;break;case"removeCountDownText":b.materialCallCountDownTextHide=!0,b.controlWrapper.adCountDown.hide(),b.newControlWrapper&&b.newControlWrapper.newControlWrapperDiv.adCountDown.hide();break;case a.ONEAD_EVENT.materialEvent.DISABLE_PLAYER_CONTROL:b.disablePlayerControl=!0;break;case"callbackVideoTriggered":b.setVideoTrigger({time:e,callback:function(){b._materialHandler.sendMessageToMaterial({action:"ONEAD_VIDEO_TRIGGER",param:e})}});break;case"enableMultipleClick":b.clickArea.hide();break;case"hideBottomScraper":b.bottomScraper.hide();break;case"setMoreUrl":b.videoEndWrapper.moreButton.setMoreUrl(e.url);break;case a.ONEAD_EVENT.materialEvent.SET_VIDEOCLICKAREA_TO_VIDEOSIZE:b.clickArea.css({height:"360px"});break;case a.ONEAD_EVENT.materialEvent.REMOVE_BANNER_CLICK_AREA:void 0!=b.bannerWrapper.clickArea&&b.bannerWrapper.clickArea.hide()}}),this.videoPlayer.videoTag.addEventListener("ended",function(){b._materialHandler.onVideoEnded(),b.eventCenter.dispatch(a.ONEAD_EVENT.quarterEvents.Q100)})},e.prototype.initMessageWindow=function(a){this._materialHandler.initMessageWindow(a)},e.prototype.setLandScapeStyle=function(){this.videoPlayer.setVideoPlayerSize("LANDSCAPE"),this.videoPoster.setSize("LANDSCAPE"),this.videoEndWrapper.setSize("LANDSCAPE"),this.bannerWrapper.hide(),this.bottomScraper.hide()},e.prototype.setNormalStyle=function(){this.isNormalStyle=!0,this.isLandScape?this.setLandScapeStyle():(this.isInRead?this.videoPlayer.setVideoPlayerSize("INREAD_BANNER"):this.videoPlayer.setVideoPlayerSize("NORMAL"),this.videoPoster.setSize("NORMAL"),this.videoEndWrapper.setSize("NORMAL"),this.bannerWrapper.show(),this.isInRead?this.bottomScraper.hide():this.bottomScraper.show(),this.isOnlyBanner&&this.bannerWrapper.setOnlyBannerNormalStyle()),this.isInRead?(this.playerState.isEnded||this.dataCenter.hideControlWrapper||this.newControlWrapper.show(),this.followCenterSkipButton.hide(),this.scaleButton.hide()):(this.controlWrapper.show(),this.controlWrapper.setNormalStyle()),this.dataCenter.identity?this.logoButton.show():this.logoButton.hide(),this.followControlWrapper.hide(),this.setMaterialSetting()},e.prototype.setFollowCenterStyle=function(){this.isNormalStyle=!1,this.isLandScape?this.setLandScapeStyle():(this.videoPlayer.setVideoPlayerSize("NORMAL"),this.videoPoster.setSize("NORMAL"),this.videoEndWrapper.setSize("NORMAL"),this.bannerWrapper.show(),this.isInRead?this.bottomScraper.hide():this.bottomScraper.show(),this.isOnlyBanner&&this.bannerWrapper.setOnlyBannerNormalStyle()),this.logoButton.show(),this.isInRead?(this.playerState.isEnded||this.newControlWrapper.show(),this.followCenterSkipButton.show(),this.scaleButton.setFollowCenterStyle()):(this.controlWrapper.show(),this.controlWrapper.setFollowCenterStyle()),this.followControlWrapper.hide(),
this.layout.triggerButton&&this.layout.triggerButton.show(!0),this.setMaterialSetting()},e.prototype.setFollowStyle=function(){this.isNormalStyle=!1,this.css({"background-color":""}),this.isLandScape?(this.videoPlayer.setVideoPlayerSize("FOLLOW_LANDSCAPE"),this.videoEndWrapper.setSize("FOLLOW_LANDSCAPE"),this.videoPoster.setSize("FOLLOW_LANDSCAPE")):(this.videoPlayer.setVideoPlayerSize("FOLLOW"),this.videoEndWrapper.setSize("FOLLOW"),this.videoPoster.setSize("FOLLOW")),this.isInRead&&(this.newControlWrapper.hide(),this.followCenterSkipButton.hide()),this.bottomScraper.hide(),this.controlWrapper.hide(),this.logoButton.hide(),this.bannerWrapper.hide(),this.followControlWrapper.setFollowStyle(),this.followControlWrapper.show()},e.prototype.setOnlyBannerStyle=function(){this.bottomScraper.hide(),this.layout.triggerButton&&this.layout.triggerButton.executeAnimation()},e.prototype.setOnlyBannerFollowStyle=function(){this.css({"background-color":""}),this.videoEndWrapper.hide(),this.videoPoster.hide(),this.bottomScraper.hide(),this.controlWrapper.hide(),this.logoButton.hide(),this.followControlWrapper.setFollowStyle(),this.followControlWrapper.show(),this.playerType.indexOf("DF")>-1?this.bannerWrapper.setOnlyBannerFollowStyle("DF"):this.bannerWrapper.setOnlyBannerFollowStyle("INSYNC")},e.prototype.createFollowComponent=function(){this.scaleButton=new b.ScaleButton(this.eventCenter),this.scaleButton.setFollowCenterStyle(),this.followCenterSkipButton=new b.NewSkipADButton(this.eventCenter),this.followCenterSkipButton.id="follow-"+a.ONEAD_CONST.ID.BUTTON.SKIP_AD,this.followCenterSkipButton.css({left:"",right:"0px"}),this.appendChild(this.scaleButton),this.appendChild(this.followCenterSkipButton),this.scaleButton.hide(),this.followCenterSkipButton.hide()},e.prototype.volumeButtonHide=function(){this.normalVolumeButton.hide(),this.FOLLOW_TYPE_CONST.isFOLLOW&&this.followVolumeButton.hide()},e.prototype.volumeButtonMute=function(){this.normalVolumeButton.mute(),this.FOLLOW_TYPE_CONST.isFOLLOW&&this.followVolumeButton.mute()},e.prototype.volumeButtonUnMute=function(){this.normalVolumeButton.unMute(),this.FOLLOW_TYPE_CONST.isFOLLOW&&this.followVolumeButton.unMute()},e.prototype.volumeButtonClickEvent=function(){this.normalVolumeButton.isMuted?(this.unMute(),this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_UNMUTE)):(this.mute(),this.eventCenter.dispatch(a.ONEAD_EVENT.events.UI_MUTE))},e.prototype.bindVolumeButtonClickEvent=function(){var b=this;this.normalVolumeButton.addEventListener("click",function(){b.volumeButtonClickEvent()}),this.FOLLOW_TYPE_CONST.isFOLLOW&&this.followVolumeButton.addEventListener("click",function(){if(b.dataCenter.adFormat===a.ONEAD_CONST.AD_FORMAT.IRFOLLOWDF){var c=b.newControlWrapper.newControlWrapperDiv;c.sliderDiv.isMuted?c.cancelVolumeTriggered?c.unMute():c.clickCancelMuteFunc():c.mute()}else b.volumeButtonClickEvent()})},e.prototype.setMaterialSetting=function(){640!==this.materialSetting.videoTagWidth&&this.videoPlayer.videoTag.css({width:this.materialSetting.videoTagWidth}),360!==this.materialSetting.videoTagHeight&&this.videoPlayer.videoTag.css({height:this.materialSetting.videoTagHeight}),0!==this.materialSetting.videoTagX&&this.videoPlayer.videoTag.css({left:this.materialSetting.videoTagX}),0!==this.materialSetting.videoTagY&&this.videoPlayer.videoTag.css({top:this.materialSetting.videoTagY}),640!==this.materialSetting.videoPosterWidth&&this.videoPoster.css({width:this.materialSetting.videoPosterWidth}),360!==this.materialSetting.videoPosterHeight&&this.videoPoster.css({height:this.materialSetting.videoPosterHeight}),0!==this.materialSetting.videoPosterX&&this.videoPoster.css({left:this.materialSetting.videoPosterX}),0!==this.materialSetting.videoPosterY&&this.videoPoster.css({top:this.materialSetting.videoPosterY}),this.materialSetting.identityWidth>640?(this.videoEndWrapper.css({width:this.materialSetting.identityWidth}),this.videoEndWrapper.css({height:this.materialSetting.identityHeight})):this.videoEndWrapper.css({transform:"scale("+this.materialSetting.identityWscale+","+this.materialSetting.identityHscale+")","transform-orign":"0 0"}),0!==this.materialSetting.identityX&&this.videoEndWrapper.css({left:this.materialSetting.identityX}),0!==this.materialSetting.identityY&&this.videoEndWrapper.css({top:this.materialSetting.identityY})},e.prototype.allowShowSkipButton=function(){this.canShowSkipButton=!0,this.skipADButton&&this.isMouseover&&this.isNormalStyle&&this.skipADButton.show()},e}(b.BasePlayer);b.Player=d}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(){function c(c){this.viewablePercent=.5,this.isipIndex=a.Index.isip_index,this.parentWindow=parent.window,this.ONEAD=parent.window.ONEADs[this.isipIndex],this.isExpand=!1,this.isCloseFollow=!1,this.isVisible=!0,this.IABviewabilityTimerHasTriggered=!1,this.IABHasSendViewability=!1,this.IABHasSentDISP=!1,this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this),this.initPlayCheckViewabilityFunc=this.initPlayCheckViewability.bind(this),this.isMinimize=!1,this.beenSeen=!1,this.setNormalDone=!1,this.setPlusDone=!1,this.container=document.createElement("div"),this.container.id=a.ONEAD_CONST.LAYOUT+this.isipIndex,this._eventCenter=c,this._dataCenter=this._eventCenter.dataCenter,a.Util.apply_css(this.container,{width:"100%",height:"100%",position:"relative","z-index":"0"}),this.player=new b.Player(this,this._eventCenter),this.scrollControl=this.scrollControl.bind(this),this.transformSetting=this._dataCenter.adWrapper.style.transform,this.videoContainer=this.player.element,this.slotTag=this.getSlotTag(),this.container.appendChild(this.player._element),this._dataCenter.playMode==a.ONEAD_CONST.PLAY_MODE.IR&&this.player.bannerWrapper.banner,this.adOffsetHeight=this._dataCenter.adWrapper.clientHeight,this.bindListener(),this._eventCenter.diRegister(a.ONEAD_CONST.COMPONENT_TYPE.LAYOUT,this),this.element=this.container,this.playerIframe=this._dataCenter.params.iframe,this.playerCenter=a.PlayerCenter.getInstance(),this.accessibleHighestWin=a.EnvInfo.getInstance().scopeInfo.accessibleHighestWin,this.adOffsetTop=this.offsetTop(parent.window.document.getElementById(this.ONEAD.wrapper))}return c.prototype.close=function(){this.player.playMode!==a.ONEAD_CONST.PLAY_MODE.IC&&this.parentWindow.removeEventListener("scroll",this.scrollControl);var b="object"==typeof parent.window.changeADState?parent.window.changeADState[this.isipIndex]:parent.window.changeADState;a.Util.exec_callback(b,{newstate:"DELETED"})},c.prototype.ended=function(){var b=this;if(!this.player.disablePlayerControl){var c=function(){b.fadeWrapper&&b.fadeWrapper.hide();var c="object"==typeof parent.window.changeADState?parent.window.changeADState[b.isipIndex]:parent.window.changeADState;a.Util.exec_callback(c,{newstate:"COMPLETED"})};switch(this._dataCenter.playMode){case a.ONEAD_CONST.PLAY_MODE.IN_STREAM:switch(this._dataCenter.adFormat){case a.ONEAD_CONST.AD_FORMAT.IPDF:case a.ONEAD_CONST.AD_FORMAT.IPINSYNC:case a.ONEAD_CONST.AD_FORMAT.IPFOLLOWDF:case a.ONEAD_CONST.AD_FORMAT.IPFOLLOWINSYNC:top.window.ONEADs[this.isipIndex].shouldCloseWhenIpEnd&&c()}break;case a.ONEAD_CONST.PLAY_MODE.IC:c()}}},c.prototype.onVideoEnd=function(){var b=this;this.player.materialCallIdentityHide||this.player.is_vast||(this.player.videoEndWrapper.show(),this.player.newControlWrapper&&this.player.newControlWrapper.hide()),this._dataCenter.playerType!==a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC&&this._dataCenter.playerType!==a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF||this.isCloseFollow||(this.fadeWrapper.hide(),this.playerCenter.currentMiniLayout.setNormalStyle(),this.player.mute(),this.isCloseFollow=!0,this.isExpand=!1,this.isMinimize=!1,this.player.playerState.isEnded||this.scrollControl()),this.player.is_vast?this.player.hasVPAIDAd||(this.player.vastTrackerCenter.close(),this.ended()):this.endADtimeout=setTimeout(function(){return b.ended()},5e3)},c.prototype.adEndHandler=function(){var a=this;this.player.playerState.isEnded=!0,""!==this._dataCenter.videoSource.poster?this.player.videoPoster.show():this.player.is_vast||(this.player.videoPlayer.pause(),this.player.videoPlayer.videoTag.setCurrentTime(0)),this.player.is_vast&&!this.player.hasVPAIDAd&&this.player.vastTrackerCenter.complete(),0!==this._dataCenter.holdonSecond?(this.player.controlWrapper.adCountDown.holdOnSecondCountDown(this._dataCenter.holdonSecond,function(){a.onVideoEnd()}),this.player.FOLLOW_TYPE_CONST.isFOLLOW&&this.player.followControlWrapper.followControlWrapperBackground.adCountDown.holdOnSecondCountDown(this._dataCenter.holdonSecond,function(){a.onVideoEnd()}),this.player.newControlWrapper&&this.player.newControlWrapper.newControlWrapperDiv.adCountDown.holdOnSecondCountDown(this._dataCenter.holdonSecond,function(){a.onVideoEnd()})):this.onVideoEnd()},c.prototype.bindListener=function(){var b=this;this.player.videoPlayer.videoTag._element.addEventListener("ended",function(){return b.adEndHandler()}),this.player.videoEndWrapper.replayButton.addEventListener("click",function(){clearTimeout(b.endADtimeout),b.player.playMode!==a.ONEAD_CONST.PLAY_MODE.IC&&b.addScrollEventListener()}),this.player.controlWrapper.skipADButton.bindClickEvent(this),this.player.playMode!==a.ONEAD_CONST.PLAY_MODE.IC&&"OBM"!==this.player.playMode&&this.addScrollEventListener(),top.window.addEventListener("focus",this.onFocusHandler),top.window.addEventListener("blur",this.onBlurHandler)},c.prototype.addScrollEventListener=function(){var b=this;this.player.FOLLOW_TYPE_CONST.isFOLLOW?this.isExpand||(1000079!==this._dataCenter.uid?this.parentWindow.addEventListener("scroll",this.scrollControl):a.Util.setAutoClearInterval(function(){b.scrollControl()},300)):1000079!==this._dataCenter.uid?this.parentWindow.addEventListener("scroll",this.scrollControl):a.Util.setAutoClearInterval(function(){b.scrollControl()},300)},c.prototype.offsetTop=function(a){for(var b=0;a!==document.body&&null!==a;)b+=a.offsetTop,a=a.offsetParent;return b},c.prototype.scrollControl=function(){},c.prototype.executeViewabilityCheck=function(){this.IABHasSendViewability||this.IABviewabilityTimerHasTriggered||(this.player.hasVPAIDAd?this.player.isPlaying()&&(this.triggerViewabilityTimer(),this.IABviewabilityTimerHasTriggered=!0):(this.triggerViewabilityTimer(),this.IABviewabilityTimerHasTriggered=!0))},c.prototype.isAdVisible=function(){if(this.checkIfWindowExist()){var a=this.pageTop();this.adOffsetTop=this.offsetTop(parent.window.document.getElementById(this.ONEAD.wrapper));var b=this.adOffsetHeight*this.viewablePercent,c=this.adOffsetHeight*(1-this.viewablePercent),d=this.adOffsetTop+b-this.innerHeight(),e=this.adOffsetTop+c;return 1000079==this._dataCenter.uid?this.popDailyCustum():a>=d&&a<=e&&(this.beenSeen=!0,!0)}},c.prototype.popDailyCustum=function(){var b=parent.window.document.getElementById(this.ONEAD.wrapper),c=b.getBoundingClientRect().bottom;switch(this._dataCenter.adFormat){case a.ONEAD_CONST.AD_FORMAT.IPFOLLOWDF:case a.ONEAD_CONST.AD_FORMAT.IPFOLLOWINSYNC:if(void 0!==b){return c>=this.adOffsetHeight*this.viewablePercent+98}break;case a.ONEAD_CONST.AD_FORMAT.IRDF:case a.ONEAD_CONST.AD_FORMAT.IRFOLLOWDF:if(void 0!==b){var d=a.EnvInfo.getInstance().scopeInfo.accessibleHighestWin,e=d.innerHeight,f=this.adOffsetHeight*this.viewablePercent,g=e+f;return c>f&&c<=g}}},c.prototype.pageTop=function(){return void 0!==this.parentWindow.pageYOffset?this.parentWindow.pageYOffset:parent.document.documentElement.scrollTop},c.prototype.innerHeight=function(){return void 0===parent.window.innerHeight?parent.document.documentElement.clientHeight:parent.window.innerHeight},c.prototype.triggerViewabilityTimer=function(){var b=this,c=0,d=this.isMinimize?this.isMinimize:this.isAdVisible();this.IABviewabilityTimer=setInterval(function(){if(++c>=3||!d||b.IABHasSendViewability)return void clearInterval(b.IABviewabilityTimer);b.isVisible&&c>=1&&!1===b.IABHasSentDISP&&(b._eventCenter.dispatch(a.ONEAD_EVENT.events.DISP),b.IABHasSentDISP=!0),b.isVisible&&c>=2&&!1===b.IABHasSendViewability&&(b._eventCenter.dispatch(a.ONEAD_EVENT.events.VIEWABILITY),b.IABHasSendViewability=!0,top.window.removeEventListener("focus",b.onFocusHandler),top.window.removeEventListener("blur",b.onBlurHandler),clearInterval(b.IABviewabilityTimer))},1e3)},c.prototype.onFocus=function(){this.executeViewabilityCheck()},c.prototype.onBlur=function(){clearInterval(this.IABviewabilityTimer),this.IABviewabilityTimerHasTriggered=!1},c.prototype.initCheck=function(){var a=this;if(this.player.hasVPAIDAd||(this._dataCenter.hasVideo?this.player.videoPlayer.videoTag.addEventListener("play",this.initPlayCheckViewabilityFunc):this.executeViewabilityCheck()),this._dataCenter.hasVideo&&!this.player.isJsSource&&!this.player.hasVPAIDAd)var b=setInterval(function(){a.player.isReady()&&(a.player.play(),clearInterval(b))},300)},c.prototype.initPlayCheckViewability=function(){this.executeViewabilityCheck(),this.player.videoPlayer.videoTag.removeEventListener("play",this.initPlayCheckViewabilityFunc)},c.prototype.checkIfWindowExist=function(){return null!=top&&null!=parent},c.prototype.createTriggerButton=function(){!this._eventCenter.dataCenter.isVast&&this._eventCenter.dataCenter.triggerButtonSource&&(this.triggerButton=new a.TriggerButton(this._eventCenter,this.container),this.triggerButton.desktopSetup(this.player),this.player.appendChild(this.triggerButton.render()),this.layoutCustomTriggerButton())},c.prototype.layoutCustomTriggerButton=function(){},c.prototype.getSlotTag=function(){var a=void 0!==parent.ONEADs||void 0!==parent.ONEAD?parent.window:window,b=void 0!==a.ONEADs?a.ONEADs[this._dataCenter.isipIndex]:a.ONEAD;return a.document.getElementById(b.slot_id[this._dataCenter.playMode])},c}();b.BaseLayout=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(b){function c(){var c=b.call(this,"div")||this;return c.id=a.ONEAD_CONST.ID.WRAPPER.FADE,c.css({left:"0px",top:"0px",display:"none",position:"fixed",width:"100%",height:"100%","background-color":"black","z-index":"2147483646",opacity:"0.8"}),c}return __extends(c,b),c}(b.BaseComponent);b.FadeWrapper=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(a){var b=c.call(this,a)||this;return b.isVisible=!0,b}return __extends(d,c),d.prototype.createView=function(){var b=this;this._dataCenter.hasVPAIDAd?this.player.hide():this.player.isJsSource&&(this.player.hide(),setTimeout(function(){b.player.show()},1e3)),this.buildFadeWrapper(),document.getElementById(this.slotTag.id).firstChild.appendChild(this.container),this.createTriggerButton(),this._eventCenter.dispatch(a.ONEAD_EVENT.events.CREATE_VIEW),this.player.autoPlay(!0),this.initCheck()},d.prototype.close=function(){var b=this;this.container.style.display="none",this.fadeWrapper.hide(),setTimeout(function(){var c="object"==typeof parent.window.changeADState?parent.window.changeADState[b.isipIndex]:parent.window.changeADState;a.Util.exec_callback(c,{newstate:"DELETED"})},500)},d.prototype.buildFadeWrapper=function(){var a=this;this.fadeWrapper=new b.FadeWrapper,top.window.document.getElementById(this.ONEAD.wrapper).parentNode.style.zIndex="2147483647",top.window.document.getElementById(this.ONEAD.wrapper).parentNode.parentNode.insertBefore(this.fadeWrapper._element,top.window.document.getElementById(this.ONEAD.wrapper).parentNode.nextSibling),this.player.hasVPAIDAd||(this.player.isJsSource?setTimeout(function(){a.fadeWrapper.show()},1e3):this.fadeWrapper.show())},d}(b.BaseLayout);b.InCoverLayout=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(a){var b=c.call(this,a)||this;return b.isVisible=!0,b.followSize={normal_width:0,normal_height:0,follow_width:0,follow_height:0,scale:1},b.followInitial={size:1,left:0,right:"",top:"",bottom:0,align:"left bottom"},b.playerCenter.hasIrPlus&&(b.player.FOLLOW_TYPE_CONST.isFOLLOW=!1,b.isCloseFollow=!0),b.player.FOLLOW_TYPE_CONST.isFOLLOW?b._scrollControl=b._scrollControlForIpPlus:b._scrollControl=b._scrollControlForIp,b}return __extends(d,c),d.prototype.createView=function(){this.createTriggerButton(),this.player.FOLLOW_TYPE_CONST.isFOLLOW&&(this.setFollowPlayer(),this.scrollControl()),document.getElementById(this.slotTag.id).firstChild.appendChild(this.container),this._eventCenter.dispatch(a.ONEAD_EVENT.events.CREATE_VIEW),this.player.autoPlay(!0),this.player.sendImp(this.player.isFirstOpenPlay),this.initCheck()},d.prototype.setFollowPlayer=function(){if(this.followSize={normal_width:this.player.playerType===this.player.FOLLOW_TYPE_CONST.DF?640:950,normal_height:390,follow_width:320,follow_height:this.player.isOnlyBanner&&this.player.playerType.indexOf("INSYNC")>-1||this.player.isLandScape?320/(950/390):180,scale:this._dataCenter.params.iframeSize.scale},this.player.mute(),this.fadeWrapper=new b.FadeWrapper,top.window.document.getElementById(this.ONEAD.wrapper).parentNode.style.zIndex="2147483647",top.window.document.getElementById(this.ONEAD.wrapper).parentNode.parentNode.insertBefore(this.fadeWrapper._element,top.window.document.getElementById(this.ONEAD.wrapper).parentNode.nextSibling),this.player.videoPoster.css({"z-index":""}),this.player.followControlWrapper.followControlWrapperBackground.scaleButton.bindClickEvent(this),this.player.controlWrapper.scaleButton.bindClickEvent(this),this.player.followControlWrapper.followControlWrapperBackground.closeButton.bindClickEvent(this),this.player.controlWrapper.followCenterSkipButton.bindFollowCenterClickEvent(this),this.player.followControlWrapper.followControlWrapperBackground.dragDiv.draggableAPI(this),top.window.ONEADs[this.isipIndex].followCustom){var a=top.window.ONEADs[this.isipIndex].followCustom;void 0!==a.right&&(this.followInitial.left=""),void 0!==a.size?this.followInitial.size=a.size:this.followInitial.size,void 0!==a.left?this.followInitial.left=a.left:this.followInitial.left,void 0!==a.right?this.followInitial.right=a.right:this.followInitial.right,void 0!==a.top?this.followInitial.top=a.top:this.followInitial.top,void 0!==a.bottom?this.followInitial.bottom=a.bottom:this.followInitial.bottom,void 0!==a.align?this.followInitial.align=a.align:this.followInitial.align}},d.prototype.scrollControl=function(){this._scrollControl()},d.prototype._scrollControlForIpPlus=function(){this.playerCenter.setCurrentMiniLayout(),this.isExpand||(this.isMinimize&&!this.isCloseFollow?this.setFollowStyle():(this.setNormalStyle(),this.isAdVisible()?this.player.playerState.isEnded||(this.player.videoPlayer.videoTag.isDash?this.player.isReady()&&this.player.play():this.player.play()):this.player.pause()))},d.prototype._scrollControlForIp=function(){this.isAdVisible()?this.executeViewabilityCheck():(this.player.mute(),this.IABviewabilityTimerHasTriggered&&(clearInterval(this.IABviewabilityTimer),this.IABviewabilityTimerHasTriggered=!1))},d.prototype.setNormalStyle=function(){this.setPlusDone=!1,this.setNormalDone||(this.player.followControlWrapper.removeMouseEventsHandler(this.container),this.player.setNormalStyle(),this.triggerButton&&this.triggerButton.show(!0),a.Util.apply_css(this.element,{width:this.followSize.normal_width+"px",height:this.followSize.normal_height+"px",position:"static",top:"",bottom:"",left:"","margin-left":"","margin-top":"",transform:"scale("+this.followSize.scale+")",transition:"all 0.3s linear","transform-origin":"0 0",float:"left","-webkit-clip-path":"polygon(0% 0%, 0% "+this.followSize.normal_height+"px,"+this.followSize.normal_width+"px "+this.followSize.normal_height+"px,"+this.followSize.normal_width+"px 0%)"}),this.element.style.setProperty("width",this.followSize.normal_width+"px","important"),this.element.style.setProperty("height",this.followSize.normal_height+"px","important"),this._dataCenter.adWrapper.style.transform=this.transformSetting,this.setNormalDone=!0)},d.prototype.setFollowStyle=function(){if(this.setNormalDone=!1,!this.setPlusDone){this.player.followControlWrapper.addMouseEventsHandler(this.container),this.player.isOnlyBanner?this.player.setOnlyBannerFollowStyle():this.player.setFollowStyle();var b=this.player.followControlWrapper.followControlWrapperBackground.dragDiv.isDrag;this.triggerButton&&(this.triggerButton.setVisibilityOutside(),this.triggerButton.show(!1)),a.Util.apply_css(this.element,{width:this.followSize.follow_width+"px",height:this.followSize.follow_height+"px",position:"fixed",top:b?this.player.followControlWrapper.followControlWrapperBackground.dragDiv.posY+"px":this.followInitial.top,bottom:b?"":this.followInitial.bottom,left:b?this.player.followControlWrapper.followControlWrapperBackground.dragDiv.posX+"px":this.followInitial.left,right:this.followInitial.right,transform:"scale("+this.followInitial.size+")","transform-origin":this.followInitial.align,transition:"all 0.3s linear",margin:"0","z-index":"2147483647",float:"left","-webkit-clip-path":"polygon(0% 0%, 0% "+this.followSize.follow_height+"px,"+this.followSize.follow_width+"px "+this.followSize.follow_height+"px,"+this.followSize.follow_width+"px 0%)"}),this.element.style.setProperty("width",this.followSize.follow_width+"px","important"),this.element.style.setProperty("height",this.followSize.follow_height+"px","important"),this._dataCenter.adWrapper.style.transform="",this.setPlusDone=!0}},d.prototype.resetMinimizeLayout=function(){this.isMinimize?this.setFollowStyle:this.setNormalStyle},d}(b.BaseLayout);b.InPageLayout=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(a){var b=c.call(this,a)||this;return b.isVisible=!1,b.followSize={normal_width:0,normal_height:0,follow_width:0,follow_height:0,scale:1},b.followInitial={size:1,left:0,right:"",top:"",bottom:0,align:"left bottom"},b.player.FOLLOW_TYPE_CONST.isFOLLOW?b._scrollControl=b._scrollControlForIrPlus:b._scrollControl=b._scrollControlForIr,b}return __extends(d,c),d.prototype.createView=function(){this.setUI(),this.player.FOLLOW_TYPE_CONST.isFOLLOW&&(this.setFollowPlayer(),this.scrollControl()),document.getElementById(this.slotTag.id).firstChild.appendChild(this.container),this.createTriggerButton(),this._eventCenter.dispatch(a.ONEAD_EVENT.events.CREATE_VIEW),this.player.FOLLOW_TYPE_CONST.isFOLLOW&&this.isMinimize&&this.player.sendImp(this.player.isFirstOpenPlay),this.player.autoPlay(!1),this.player.mute(),this.bindEventListener()},d.prototype.layoutCustomTriggerButton=function(){this.triggerButton.setLayoutCustomPosData({x:a.POS.LEFT,y:a.POS.TOP},{x:35},a.ValueSetEnum.ABSOLUTE)},d.prototype.setFollowPlayer=function(){if(this.followSize={normal_width:640,normal_height:this.player.bannerWrapper.banner?435:360,follow_width:320,follow_height:180,scale:this._dataCenter.params.iframeSize.scale},this.player.mute(),this.fadeWrapper=new b.FadeWrapper,top.window.document.getElementById(this.ONEAD.wrapper).parentNode.style.zIndex="2147483647",top.window.document.getElementById(this.ONEAD.wrapper).parentNode.parentNode.insertBefore(this.fadeWrapper._element,top.window.document.getElementById(this.ONEAD.wrapper).parentNode.nextSibling),this.player.videoPoster.css({"z-index":""}),this.player.followControlWrapper.followControlWrapperBackground.scaleButton.bindClickEvent(this),this.player.scaleButton.bindClickEvent(this),this.player.followControlWrapper.followControlWrapperBackground.closeButton.bindClickEvent(this),this.player.followCenterSkipButton.bindFollowCenterClickEvent(this),this.player.followControlWrapper.followControlWrapperBackground.dragDiv.draggableAPI(this),top.window.ONEADs[this.isipIndex].followCustom){var a=top.window.ONEADs[this.isipIndex].followCustom;void 0!==a.right&&(this.followInitial.left=""),void 0!==a.size?this.followInitial.size=a.size:this.followInitial.size,void 0!==a.left?this.followInitial.left=a.left:this.followInitial.left,void 0!==a.right?this.followInitial.right=a.right:this.followInitial.right,void 0!==a.top?this.followInitial.top=a.top:this.followInitial.top,void 0!==a.bottom?this.followInitial.bottom=a.bottom:this.followInitial.bottom,void 0!==a.align?this.followInitial.align=a.align:this.followInitial.align}},d.prototype.setUI=function(){this.player.controlWrapper.hide(),this.player.bottomScraper.hide(),this.player.newControlWrapper=new b.NewControlWrapper(this._eventCenter,this.player.setVolume.bind(this.player)),this._dataCenter.playerType.indexOf("FOLLOW")>-1&&this.player.createFollowComponent(),this.player.playerType!==a.ONEAD_CONST.PLAYER_TYPE.IS_DF_BANNER&&this.player.appendChild(this.player.newControlWrapper),this._dataCenter.hasVPAIDAd&&(this._dataCenter.adWrapper.style.display="none")},d.prototype.bindEventListener=function(){var a=this;if(this.isAdVisible()||this._dataCenter.isRon)var b=setInterval(function(){!a.player.hasVPAIDAd&&a.player.isReady()&&(a.scrollControl(),clearInterval(b))},300);this.container.addEventListener("mouseenter",function(){a.player.isMouseover=!0,a.player.gradientWrapper&&a.player.gradientWrapper.css({opacity:"1",visibility:"visible"}),a.player.newControlWrapper.css({left:"0"}),a.controlBarTimeout=setTimeout(function(){a.player.newControlWrapper.css({left:"-9%"})},3e3)}),this.container.addEventListener("mouseleave",function(){a.player.isMouseover=!1,clearTimeout(a.controlBarTimeout),a.player.gradientWrapper&&a.player.gradientWrapper.css({opacity:"0",visibility:"visible"}),a.player.newControlWrapper.css({left:"-9%"})}),this.player.newControlWrapper.addEventListener("mouseenter",function(){clearTimeout(a.controlBarTimeout),a.player.newControlWrapper.css({left:"0"})}),this.player.newControlWrapper.addEventListener("mouseleave",function(){a.player.newControlWrapper.css({left:"-9%"})})},d.prototype.scrollControl=function(){this._scrollControl()},d.prototype._scrollControlForIr=function(){if(this.isAdVisible()&&this._dataCenter.hasVideo||this._dataCenter.isRon?(this.isVisible=!0,this.player.playerState.isEnded||(this.player.videoPlayer.videoTag.isDash?this.player.isReady()&&this.player.play():this.player.play()),this.player.sendImp(this.player.isFirstOpenPlay),this.executeViewabilityCheck()):(this.isVisible=!1,this._dataCenter.isRon?this.player.play():this.player.pause(),this.player.mute(),this.IABviewabilityTimerHasTriggered&&(clearInterval(this.IABviewabilityTimer),this.IABviewabilityTimerHasTriggered=!1)),void 0!==this.player.bannerWrapper&&"none"!==this.player.bannerWrapper._element.style.display){var a=this._dataCenter.slotElement,b=a.getBoundingClientRect().bottom,c=a.getBoundingClientRect().height,d=top.window.innerHeight;this.player.sendLayoutExposurePercentage(b,c,d)}},d.prototype._scrollControlForIrPlus=function(){this.playerCenter.setCurrentMiniLayout(),this.isExpand||(this.isMinimize?this.isCloseFollow||(this.setFollowStyle(),this.isVisible=!0,this.player.playerState.isEnded||(this.player.videoPlayer.videoTag.isDash?this.player.isReady()&&this.player.play():this.player.play()),this.executeViewabilityCheck()):(this.setNormalStyle(),this._scrollControlForIr()))},d.prototype.setNormalStyle=function(){this.setPlusDone=!1,this.setNormalDone||(this.player.followControlWrapper.removeMouseEventsHandler(this.container),this.player.setNormalStyle(),this.triggerButton&&this.triggerButton.show(!0),a.Util.apply_css(this.element,{width:this.followSize.normal_width+"px",height:this.followSize.normal_height+"px",position:"static",top:"",bottom:"",left:"","margin-left":"","margin-top":"",transform:"scale("+this.followSize.scale+")",transition:"all 0.3s linear","-webkit-clip-path":"polygon(0% 0%, 0% "+this.followSize.normal_height+"px,"+this.followSize.normal_width+"px "+this.followSize.normal_height+"px,"+this.followSize.normal_width+"px 0%)","transform-origin":"0 0",float:"left"}),this.element.style.setProperty("width",this.followSize.normal_width+"px","important"),this.element.style.setProperty("height",this.followSize.normal_height+"px","important"),this._dataCenter.adWrapper.style.transform=this.transformSetting,this.setNormalDone=!0)},d.prototype.setFollowStyle=function(){if(this.setNormalDone=!1,!this.setPlusDone){this.player.followControlWrapper.addMouseEventsHandler(this.container),this.player.isOnlyBanner?this.player.setOnlyBannerFollowStyle():this.player.setFollowStyle();var b=this.player.followControlWrapper.followControlWrapperBackground.dragDiv.isDrag;this.triggerButton&&(this.triggerButton.setVisibilityOutside(),this.triggerButton.show(!1)),a.Util.apply_css(this.element,{width:this.followSize.follow_width+"px",height:this.followSize.follow_height+"px",position:"fixed",top:b?this.player.followControlWrapper.followControlWrapperBackground.dragDiv.posY+"px":this.followInitial.top,bottom:b?"":this.followInitial.bottom,left:b?this.player.followControlWrapper.followControlWrapperBackground.dragDiv.posX+"px":this.followInitial.left,right:this.followInitial.right,transform:"scale("+this.followInitial.size+")","transform-origin":this.followInitial.align,transition:"all 0.3s linear","-webkit-clip-path":"polygon(0% 0%, 0% "+this.followSize.follow_height+"px,"+this.followSize.follow_width+"px "+this.followSize.follow_height+"px,"+this.followSize.follow_width+"px 0%)",margin:"0","z-index":"2147483647",float:"left"}),this.element.style.setProperty("width",this.followSize.follow_width+"px","important"),this.element.style.setProperty("height",this.followSize.follow_height+"px","important"),this._dataCenter.adWrapper.style.transform="",this.setPlusDone=!0}},d.prototype.resetMinimizeLayout=function(){this.isMinimize?this.setFollowStyle():this.setNormalStyle()},d}(b.BaseLayout);b.InReadLayout=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(){function b(b,c){this.eventCenter=b,this.dataCenter=b.dataCenter,this.dataCenter.isJson?this.embeddedAdCode=this.dataCenter.h5Source:this.embeddedAdCode=this.dataCenter._getXmlTagValue("videoURL_mp4"),this.eventCenter.diRegister(a.ONEAD_CONST.COMPONENT_TYPE.LAYOUT,this)}return b.prototype.createView=function(){var b=this;this.highestWin=a.EnvInfo.getInstance().scopeInfo.accessibleHighestWin,this.element=this.getSlotTag(),top.document.getElementById(this.element.id).appendChild(this.buildIframe()),this.setupMaterial(),this.createMaterialScript(),this.bindEventListener(),this.initSafeFrameData(),a.Util.setAutoClearInterval(function(){b.updateSafeFrameData()},500)},b.prototype.setLayoutSize=function(b){switch(this.dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.H5_970X250:b.style.setProperty("width","970px","important"),b.style.setProperty("height","250px","important");break;case a.ONEAD_CONST.PLAYER_TYPE.H5_640X480:b.style.setProperty("width","640px","important"),b.style.setProperty("height","480px","important")}},b.prototype.buildIframe=function(){var a=this,b=document.createElement("iframe");return b.id="ONEAD_Embed_iframe",b.height="100%",b.width="100%",b.scrolling="no",b.style.border="0",b.onload=function(){b.contentWindow.document.write(a.embeddedAdCode),b.contentWindow.document.body.style.setProperty("margin","0px")},this._iframeElement=b,b},b.prototype.getSlotTag=function(){var a=void 0!==parent.ONEADs||void 0!==parent.ONEAD?parent.window:window,b=void 0!==a.ONEADs?a.ONEADs[this.dataCenter.isipIndex]:a.ONEAD;return a.document.getElementById(b.wrapper)},b.prototype.createMaterialScript=function(){var a=document.createElement("script");a.src="//ad-specs.guoshipartners.com/static/js/material.min.js",this._iframeElement.contentWindow.isipIndex=""+this.dataCenter.isipIndex,this._iframeElement.contentWindow.document.head.appendChild(a)},b.prototype.setupMaterial=function(){var b=this;this._materialHandler=new a.MaterialHandler,
this._materialHandler.initData(this.dataCenter._isipIndex,this.eventCenter),this._materialHandler.setupReaction(function(c){var d=c.action,e=c.param;switch(d){case a.ONEAD_EVENT.materialEvent.DISPLAY_LAYOUT:b.eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.DISPLAY_LAYOUT,e);break;case a.ONEAD_EVENT.materialEvent.SEND_EVENT:b.eventCenter.dispatch(a.ONEAD_EVENT.materialEvent.SEND_EVENT,e)}}),this._materialHandler.initMessageWindow(this._iframeElement.contentWindow)},b.prototype.sendOpen=function(){this.eventCenter.dispatch(a.ONEAD_EVENT.events.IMPRESSION)},b.prototype.bindEventListener=function(){var b=this;this.eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.DISPLAY_LAYOUT,function(c){c?(b.highestWin.ONEAD_current_slot=b.dataCenter.slotElement.id,document.dispatchEvent(new Event(a.ONEAD_EVENT.oneadLibEvent.ADS_CONTENT_IS_EMPTY))):(b.setLayoutSize(b.element),b.eventCenter.dispatchLater(a.ONEAD_EVENT.events.CREATE_VIEW))}),this.eventCenter.subscribe(a.ONEAD_EVENT.materialEvent.SEND_EVENT,function(c){c.eventName===a.ONEAD_EVENT.events.IMPRESSION&&b.sendOpen()})},b.prototype.updateSafeFrameData=function(){this.updateInViewPercentage(),this.updateGeomData("all"),this._materialHandler.sendSafeFrameGeomData(this._geomData)},b.prototype.updateInViewPercentage=function(){this.updateScreenRatio();var b=this.element.getBoundingClientRect().bottom,c=this.element.getBoundingClientRect().height,d=a.Util.getElementExposureRatio(b,c,this.browserHeight);this._materialHandler.sendElementExposurePercentage(d)},b.prototype.initSafeFrameData=function(){this._geomData={win:{t:void 0,b:void 0,l:void 0,r:void 0,w:void 0,h:void 0},self:{t:void 0,l:void 0,r:void 0,b:void 0,xiv:void 0,yiv:void 0,iv:void 0,z:void 0,w:void 0,h:void 0},exp:{t:void 0,l:void 0,r:void 0,b:void 0,xs:!1,yx:!1}}},b.prototype.updateWinData=function(){this._geomData.win.t=this.highestWin.screenTop?this.highestWin.screenTop:this.highestWin.screenY,this._geomData.win.b=this._geomData.win.t+this.highestWin.outerHeight,this._geomData.win.l=this.highestWin.screenLeft?this.highestWin.screenLeft:this.highestWin.screenX,this._geomData.win.r=this._geomData.win.l+this.highestWin.outerWidth,this._geomData.win.w=this._geomData.win.r-this._geomData.win.l,this._geomData.win.h=this._geomData.win.b-this._geomData.win.t},b.prototype.updateSelfData=function(){this._geomData.self.w=this.clientWidth,this._geomData.self.h=this.clientHeight,this._geomData.self.z=+this.element.style.zIndex,this._geomData.self.t=a.Util.getPosition(this.element).y,this._geomData.self.l=a.Util.getPosition(this.element).x,this._geomData.self.r=this._geomData.self.l+this._geomData.self.w,this._geomData.self.b=this._geomData.self.t+this._geomData.self.h,this._geomData.self.xiv=this.clientBottom>0&&this.clientBottom<this.browserHeight+this.clientHeight?1:0,this._geomData.self.yiv=a.Util.getElementExposureRatio(this.clientBottom,this.clientHeight,this.browserHeight),this._geomData.self.iv=this._geomData.self.xiv*this._geomData.self.yiv},b.prototype.updateExpData=function(){this.clientBottom<=this.browserHeight+this.clientHeight&&this.clientBottom>=0?(this._geomData.exp.t=this.clientTop<=this.browserHeight&&this.clientTop>=0?this.clientTop:0,this._geomData.exp.b=this.clientBottom<=this.browserHeight&&this.clientBottom>=0?this.browserHeight-(this.clientHeight+this._geomData.exp.t):0,this._geomData.exp.l=this.clientLeft,this._geomData.exp.r=this.browserWidth-(this.clientWidth+this._geomData.exp.l)<0?0:this.browserWidth-(this.clientWidth+this._geomData.exp.l)):this.cleanExpData()},b.prototype.cleanExpData=function(){this._geomData.exp.t=0,this._geomData.exp.b=0,this._geomData.exp.l=0,this._geomData.exp.r=0,this._geomData.exp.xs=!1,this._geomData.exp.yx=!1},b.prototype.updateScreenRatio=function(){this.browserHeight=this.highestWin.innerHeight||this.highestWin.document.documentElement.clientHeight||this.highestWin.document.body.clientHeight,this.browserWidth=this.highestWin.innerWidth||this.highestWin.document.documentElement.clientWidth||this.highestWin.document.body.clientWidth},b.prototype.updateGeomData=function(a){switch(this.clientTop=Math.round(this.element.getBoundingClientRect().top),this.clientBottom=Math.round(this.element.getBoundingClientRect().bottom),this.clientLeft=Math.round(this.element.getBoundingClientRect().left),this.clientHeight=Math.round(this.element.getBoundingClientRect().height),this.clientWidth=Math.round(this.element.getBoundingClientRect().width),this.updateScreenRatio(),a){case"win":this.updateWinData();break;case"self":this.updateSelfData();break;case"exp":this.updateExpData();break;case"all":this.updateWinData(),this.updateSelfData(),this.updateExpData()}},b}();b.EmbeddedLayout=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(d){var e=c.call(this,"div")||this;return e.eventCenter=d,e.isipIndex=d.dataCenter.isipIndex,e._materialHandler=new a.MaterialHandler,e._materialHandler.init(void 0,e.isipIndex,e.eventCenter),e.videoPlayer=new b.VideoPlayer(e.eventCenter),e.appendChild(e.videoPlayer.render()),e.videoPlayer.videoTag.addEventListener("playing",function(){return e.bindTimeUpdateEvent()}),e}return __extends(d,c),d.prototype.sendImpression=function(){this.eventCenter.dispatch(a.ONEAD_EVENT.events.IMPRESSION)},d.prototype.bindTimeUpdateEvent=function(){var b=this;this.videoPlayer.videoTag.addEventListener("timeupdate",function(){b.eventCenter.dispatch(a.ONEAD_EVENT.playerEvents.TIMEUPDATE,b.videoPlayer.videoTag._element.currentTime)})},d}(b.BasePlayer);b.OBMPlayer=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){!function(b){var c=function(c){function d(a){var d=c.call(this,"div")||this;return d.id="ONEAD-obm-player",d.eventCenter=a,d.player=new b.OBMPlayer(a),d.appendChild(d.player.render()),d}return __extends(d,c),d.prototype.createView=function(){document.getElementsByTagName("body")[0].appendChild(this._element),this.eventCenter.dispatch(a.ONEAD_EVENT.events.CREATE_VIEW),this.player.sendImpression()},d}(b.BaseComponent);b.OBMLayout=c}(b.component||(b.component={}))}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));var Guoshi;!function(a){!function(b){var c=function(){function c(){this.iframeSize={width:0,height:0,scale:1}}return c.prototype.init=function(b){if(this._dataCenter=this.eventCenter.dataCenter,this._dataCenter.isVast||!this._dataCenter.isJson?this._dataCenter.desktopSetup(b):this._dataCenter.jsonDesktopSetup(b),this._dataCenter.isVast?this.taskCenter.setup(b.lXml,b.settings.vastResult):this._dataCenter.isJson?this.taskCenter.setup(b.l_json):this.taskCenter.setup(b.lXml),this._dataCenter.params=b,this.setAdWrapper(),this._dataCenter.isOBM)this.layout=new a.desktop.component.OBMLayout(this.eventCenter);else switch(this._dataCenter.playMode){case a.ONEAD_CONST.PLAY_MODE.IC:this.layout=new a.desktop.component.InCoverLayout(this.eventCenter);break;case a.ONEAD_CONST.PLAY_MODE.IN_STREAM:this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.H5_970X250||this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.H5_640X480?this.layout=new a.desktop.component.EmbeddedLayout(this.eventCenter,b):this.layout=new a.desktop.component.InPageLayout(this.eventCenter);break;case a.ONEAD_CONST.PLAY_MODE.IR:this._dataCenter.playerType===a.ONEAD_CONST.PLAYER_TYPE.H5_640X480?this.layout=new a.desktop.component.EmbeddedLayout(this.eventCenter,b):this.layout=new a.desktop.component.InReadLayout(this.eventCenter)}switch(this.eventCenter.dataCenter.layout=this.layout,this.eventCenter.dataCenter.desktopLayout=this.layout,this.layout.createView(),this.player=this.layout.player,this._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.H5_970X250:case a.ONEAD_CONST.PLAYER_TYPE.H5_640X480:break;default:if(!this._dataCenter.isOBM&&this._dataCenter.hasBanner&&this._dataCenter.bannerDataInXml[0].isHtml){var c=void 0;c=this.player.bannerWrapper.banner._element.contentWindow,this.player.initMessageWindow(c)}}},c.prototype.setAdWrapper=function(){switch(this.adWrapper=this._dataCenter.adWrapper,this._dataCenter.playerType){case a.ONEAD_CONST.PLAYER_TYPE.IS_INSYNC:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_INSYNC:this.adWrapper.style.setProperty("width","950px","important"),this.adWrapper.style.setProperty("height","390px","important");break;case a.ONEAD_CONST.PLAYER_TYPE.IS_DF:case a.ONEAD_CONST.PLAYER_TYPE.IS_FOLLOW_DF:this.adWrapper.style.setProperty("width","640px","important"),this._dataCenter.playMode==a.ONEAD_CONST.PLAY_MODE.IR?this.adWrapper.style.setProperty("height",(this._dataCenter.hasBanner?435:360)+"px","important"):this.adWrapper.style.setProperty("height","390px","important");break;case a.ONEAD_CONST.PLAYER_TYPE.IS_DF_BANNER:this.adWrapper.style.setProperty("width","640px","important"),this._dataCenter.playMode==a.ONEAD_CONST.PLAY_MODE.IR?this.adWrapper.style.setProperty("height","435px","important"):this.adWrapper.style.setProperty("height","390px","important")}this._dataCenter.playMode!==a.ONEAD_CONST.PLAY_MODE.IC&&this._dataCenter.playerType!==a.ONEAD_CONST.PLAYER_TYPE.H5_970X250&&this._dataCenter.playerType!==a.ONEAD_CONST.PLAYER_TYPE.H5_640X480&&this.scaleAdSize()},c.prototype.scaleAdSize=function(){var a=this.adWrapper.parentNode,b=a.offsetWidth/this.adWrapper.offsetWidth,c=this.adWrapper.offsetWidth*b>this.adWrapper.offsetWidth;a.style.width=c?this.adWrapper.offsetWidth+"px":this.adWrapper.offsetWidth*b+"px",a.style.height=c?this.adWrapper.offsetHeight+"px":this.adWrapper.offsetHeight*b+"px",a.style.margin="0 auto",c||(this.adWrapper.style.transform="scale("+b+")",this.adWrapper.style.transformOrigin="0 0",this.adWrapper.style.margin="0")},c.prototype.init_player=function(c){var d={isCm:"true"===c.params.cm,isVast:"true"===c.params.is_vast,tracking:c.params.tracking,adv_id:c.params.adv_id,camp_id:c.params.camp_id,pid:c.params.pid,uid:c.params.uid,pm_id:c.params.pm_id};this.eventCenter=new a.EventCenter,this.eventCenter.dataCenter.initDataByExternalParam(c.params),this.taskCenter=new a.TaskCenter(this.eventCenter,d),new b.AdParam(c,this.iframeSize,this.eventCenter,this.init.bind(this))},c}();b.Main=c}(a.desktop||(a.desktop={}))}(Guoshi||(Guoshi={}));